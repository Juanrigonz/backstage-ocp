{"version":3,"file":"static/module-immobiliarelabs.bc57b139.js","mappings":"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CA,KAAM,CACJ,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,YAAa,CACX,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,2BAA4B,CAC1B,MAAO,SACT,EACA,YAAa,CACX,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,eAAgB,CACd,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,iBAAkB,CAChB,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,2BAA4B,CAC1B,MAAO,SACT,EACA,mBAAoB,CAClB,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,kBAAmB,CACjB,MAAO,SACT,EACA,eAAgB,CACd,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,2BAA4B,CAC1B,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,YAAa,CACX,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,oBAAqB,CACnB,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,sBAAuB,CACrB,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,0BAA2B,CACzB,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,wBAAyB,CACvB,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,sBAAuB,CACrB,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,oBAAqB,CACnB,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,iBAAkB,CAChB,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,YAAa,CACX,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,mBAAoB,CAClB,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,wBAAyB,CACvB,MAAO,SACT,EACA,mBAAoB,CAClB,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,YAAa,CACX,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,2BAA4B,CAC1B,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,wBAAyB,CACvB,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,oBAAqB,CACnB,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,eAAgB,CACd,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,mBAAoB,CAClB,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,kBAAmB,CACjB,MAAO,SACT,EACA,iCAAkC,CAChC,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,iBAAkB,CAChB,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,iBAAkB,CAChB,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,YAAa,CACX,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,eAAgB,CACd,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,mBAAoB,CAClB,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,cAAe,CACb,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,WAAY,CACV,MAAO,SACT,EACA,qBAAsB,CACpB,MAAO,SACT,EACA,gBAAiB,CACf,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,EAAG,CACD,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,SAAU,CACR,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,QAAS,CACP,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,aAAc,CACZ,MAAO,SACT,EACA,oBAAqB,CACnB,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,YAAa,CACX,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,GAAI,CACF,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,KAAM,CACJ,MAAO,SACT,EACA,UAAW,CACT,MAAO,SACT,EACA,OAAQ,CACN,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,IAAK,CACH,MAAO,SACT,EACA,MAAO,CACL,MAAO,SACT,CACF,EAEMC,MAAc,MAAYC,IAAW,CACzC,SAAU,CACR,aAAcA,EAAM,QAAQ,CAAC,EAC7B,qBAAsB,CACpB,UAAWA,EAAM,QAAQ,CAAC,CAC5B,CACF,EACA,aA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","sources":["webpack://app/../../node_modules/@immobiliarelabs/backstage-plugin-gitlab/dist/esm/index-116ceac7.esm.js","webpack://app/../../node_modules/@immobiliarelabs/backstage-plugin-gitlab/node_modules/@backstage/core-components/dist/index.esm.js","webpack://app/../../node_modules/@immobiliarelabs/backstage-plugin-gitlab/node_modules/@backstage/plugin-catalog-react/dist/esm/useEntity-de64059a.esm.js","webpack://app/../../node_modules/@immobiliarelabs/backstage-plugin-gitlab/node_modules/@backstage/plugin-catalog-react/dist/index.esm.js"],"sourcesContent":["import { createApiRef, createRouteRef, createPlugin, createApiFactory, configApiRef, discoveryApiRef, identityApiRef, createRoutableExtension, createComponentExtension, useApi } from '@backstage/core-plugin-api';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport duration from 'dayjs/plugin/duration';\nimport React, { useState } from 'react';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { Progress, InfoCard, Link, StructuredMetadataTable, MarkdownContent } from '@backstage/core-components';\nimport { Tooltip, Chip, Avatar, Box, Grid, Divider, makeStyles as makeStyles$1, FormControl, Select, MenuItem, FormHelperText, Link as Link$1 } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useAsync } from 'react-use';\nimport '@backstage/integration-react';\nimport '@backstage/catalog-model';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport '@material-ui/core/Link';\nimport LocalOfferOutlinedIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { rcompare, valid, prerelease } from 'semver';\n\nconst GitlabCIApiRef = createApiRef({\n  id: \"plugin.gitlabci.service\"\n});\n\ndayjs.extend(relativeTime);\ndayjs.extend(duration);\nconst getElapsedTime = (start) => {\n  return dayjs(start).fromNow();\n};\nconst getDuration = (start, end) => {\n  if (!end || !start) {\n    return \"NA\";\n  }\n  const end_time = dayjs(end);\n  const start_time = dayjs(start);\n  const duration2 = dayjs.duration(\n    end_time.diff(start_time, \"seconds\"),\n    \"seconds\"\n  );\n  const days = duration2.days();\n  const hours = duration2.hours();\n  const minutes = duration2.minutes();\n  const seconds = duration2.seconds();\n  const output = `${days ? days + \"d \" : \"\"}${hours ? hours + \"h \" : \"\"}${minutes ? minutes + \"m \" : \"\"}${seconds ? seconds + \"s\" : \"\"}`;\n  if (!output)\n    return \"0s\";\n  return output;\n};\nconst parseCodeOwners = (str) => {\n  try {\n    const lines = str.replace(/\\r/g, \"\").split(\"\\n\");\n    const owned = [];\n    for (const line of lines) {\n      if (!line || line.startsWith(\"#\")) {\n        continue;\n      }\n      owned.push(parseCodeOwnerLine(line));\n    }\n    return owned;\n  } catch (error) {\n    console.log(`failed to load codeowners`, error);\n    throw error;\n  }\n};\nconst parseCodeOwnerLine = (rule) => {\n  const parts = rule.split(/\\s+/);\n  const path = parts[0];\n  let teamNames = [];\n  if (parts.length > 1) {\n    teamNames = parts.slice(1, parts.length);\n    for (const name of teamNames) {\n      if (!codeOwnerRegex.test(name)) {\n        throw new Error(\n          `${name} is not a valid owner name in rule ${rule}`\n        );\n      }\n    }\n  }\n  return {\n    rule,\n    path,\n    owners: teamNames\n  };\n};\nconst codeOwnerRegex = /(^@[a-zA-Z0-9_\\-/]*$)|(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n\nclass GitlabCIClient {\n  constructor({\n    discoveryApi,\n    identityApi,\n    codeOwnersPath,\n    readmePath,\n    gitlabInstance\n  }) {\n    this.discoveryApi = discoveryApi;\n    this.codeOwnersPath = codeOwnersPath || \"CODEOWNERS\";\n    this.readmePath = readmePath || \"README.md\";\n    this.gitlabInstance = gitlabInstance;\n    this.identityApi = identityApi;\n  }\n  static setupAPI({\n    discoveryApi,\n    identityApi,\n    codeOwnersPath,\n    readmePath\n  }) {\n    return {\n      build: (gitlabInstance) => new this({\n        discoveryApi,\n        identityApi,\n        codeOwnersPath,\n        readmePath,\n        gitlabInstance\n      })\n    };\n  }\n  async callApi(path, query) {\n    var _a;\n    const apiUrl = `${await this.discoveryApi.getBaseUrl(\"gitlab\")}/${this.gitlabInstance}`;\n    const token = (await this.identityApi.getCredentials()).token;\n    const options = token ? {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    } : {};\n    const response = await fetch(\n      `${apiUrl}/${path}?${new URLSearchParams(query).toString()}`,\n      options\n    );\n    if (response.status === 200) {\n      if ((_a = response.headers.get(\"content-type\")) == null ? void 0 : _a.includes(\"application/json\")) {\n        return await response.json();\n      } else {\n        return response.text();\n      }\n    }\n    return void 0;\n  }\n  async getPipelineSummary(projectID) {\n    const [pipelineObjects, projectObj] = await Promise.all([\n      this.callApi(\n        \"projects/\" + projectID + \"/pipelines\",\n        {}\n      ),\n      this.callApi(\"projects/\" + projectID, {})\n    ]);\n    if (pipelineObjects && projectObj) {\n      pipelineObjects.forEach((element) => {\n        element.project_name = projectObj.name;\n      });\n    }\n    return pipelineObjects || void 0;\n  }\n  async getIssuesSummary(projectId) {\n    const [issuesObject, projectObj] = await Promise.all([\n      this.callApi(`projects/${projectId}/issues`, {}),\n      this.callApi(\"projects/\" + projectId, {})\n    ]);\n    if (issuesObject && projectObj) {\n      issuesObject.forEach((element) => {\n        element.project_name = projectObj.name;\n      });\n    }\n    return issuesObject || void 0;\n  }\n  async getProjectName(projectID) {\n    const projectObj = await this.callApi(\n      \"projects/\" + projectID,\n      {}\n    );\n    return projectObj == null ? void 0 : projectObj.name;\n  }\n  //TODO: Merge with getUserDetail\n  async getUserProfilesData(contributorsData) {\n    return Promise.all(\n      contributorsData.map(async (contributor) => {\n        const userProfile = await this.callApi(\"users\", {\n          search: contributor.email,\n          without_project_bots: \"true\"\n        });\n        const user = userProfile == null ? void 0 : userProfile.find(\n          (v) => v.name === contributor.name\n        );\n        if (user) {\n          return {\n            ...contributor,\n            ...user\n          };\n        }\n        return contributor;\n      })\n    );\n  }\n  async getUserDetail(username) {\n    var _a;\n    if (username.startsWith(\"@\")) {\n      username = username.slice(1);\n    }\n    const userDetail = (_a = await this.callApi(\"users\", {\n      username\n    })) == null ? void 0 : _a[0];\n    if (!userDetail)\n      throw new Error(`user ${username} does not exist`);\n    return userDetail;\n  }\n  async getGroupDetail(name) {\n    if (name.startsWith(\"@\")) {\n      name = name.slice(1);\n    }\n    const groupDetail = await this.callApi(\n      `groups/${encodeURIComponent(name)}`,\n      { with_projects: \"false\" }\n    );\n    if (!groupDetail)\n      throw new Error(`group ${name} does not exist`);\n    return groupDetail;\n  }\n  async getMergeRequestsSummary(projectID) {\n    return this.callApi(\n      \"projects/\" + projectID + \"/merge_requests\",\n      {}\n    );\n  }\n  async getMergeRequestsStatusSummary(projectID, count) {\n    return this.callApi(\n      \"projects/\" + projectID + \"/merge_requests\",\n      { per_page: (count != null ? count : 20).toString(10) }\n    );\n  }\n  async getContributorsSummary(projectID) {\n    const contributorsData = await this.callApi(\"projects/\" + projectID + \"/repository/contributors\", {\n      sort: \"desc\"\n    });\n    const updatedContributorsData = await this.getUserProfilesData(\n      contributorsData\n    );\n    return updatedContributorsData;\n  }\n  async getLanguagesSummary(projectID) {\n    return this.callApi(\n      \"projects/\" + projectID + \"/languages\",\n      {}\n    );\n  }\n  async getReleasesSummary(projectID) {\n    return this.callApi(\n      \"projects/\" + projectID + \"/releases\",\n      {}\n    );\n  }\n  async getProjectDetails(projectSlug) {\n    if (!projectSlug)\n      return void 0;\n    return this.callApi(\n      \"projects/\" + encodeURIComponent(projectSlug),\n      {}\n    );\n  }\n  async getCodeOwners(projectID, branch = \"HEAD\", filePath) {\n    filePath = filePath || this.codeOwnersPath;\n    if (filePath.startsWith(\"./\"))\n      filePath = filePath.slice(2);\n    const codeOwnersStr = await this.callApi(\n      `projects/${projectID}/repository/files/${encodeURI(filePath)}/raw`,\n      { ref: branch }\n    );\n    if (!codeOwnersStr) {\n      throw Error(`Code owners file not found`);\n    }\n    const codeOwners = parseCodeOwners(codeOwnersStr);\n    const uniqueOwners = [\n      ...new Set(codeOwners.flatMap((owner) => owner.owners))\n    ];\n    const ownersSettledResult = await Promise.allSettled(\n      uniqueOwners.map(async (owner) => {\n        try {\n          const ownerData = await this.getUserDetail(owner);\n          return ownerData;\n        } catch (error) {\n          return this.getGroupDetail(owner);\n        }\n      })\n    );\n    const owners = ownersSettledResult.filter((result) => result.status === \"fulfilled\").map(\n      (result) => result.value\n    );\n    return owners;\n  }\n  async getReadme(projectID, branch = \"HEAD\", filePath) {\n    filePath = filePath || this.readmePath;\n    if (filePath.startsWith(\"./\"))\n      filePath = filePath.slice(2);\n    const readmeStr = await this.callApi(\n      `projects/${projectID}/repository/files/${encodeURI(filePath)}/raw`,\n      { ref: branch }\n    );\n    if (!readmeStr) {\n      throw Error(`README file not found`);\n    }\n    return readmeStr;\n  }\n  getContributorsLink(projectWebUrl, projectDefaultBranch) {\n    return `${projectWebUrl}/-/graphs/${projectDefaultBranch}`;\n  }\n  getOwnersLink(projectWebUrl, projectDefaultBranch, codeOwnersPath) {\n    return `${projectWebUrl}/-/blob/${projectDefaultBranch}/${codeOwnersPath || this.codeOwnersPath}`;\n  }\n}\n\nconst rootRouteRef = createRouteRef({\n  id: \"Gitlab\"\n});\nconst gitlabPlugin = createPlugin({\n  id: \"Gitlab\",\n  apis: [\n    createApiFactory({\n      api: GitlabCIApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({ configApi, discoveryApi, identityApi }) => GitlabCIClient.setupAPI({\n        discoveryApi,\n        identityApi,\n        codeOwnersPath: configApi.getOptionalString(\n          \"gitlab.defaultCodeOwnersPath\"\n        ),\n        readmePath: configApi.getOptionalString(\n          \"gitlab.defaultReadmePath\"\n        )\n      })\n    })\n  ]\n});\nconst EntityGitlabContent = gitlabPlugin.provide(\n  createRoutableExtension({\n    name: \"EntityGitlabContent\",\n    component: () => import('./index-e70150ba.esm.js').then((m) => m.GitlabCI),\n    mountPoint: rootRouteRef\n  })\n);\nconst EntityGitlabLanguageCard = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabLanguageCard\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then(\n        (m) => m.LanguagesCard\n      )\n    }\n  })\n);\nconst EntityGitlabPeopleCard = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabPeopleCard\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then((m) => m.PeopleCard)\n    }\n  })\n);\nconst EntityGitlabMergeRequestsTable = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabMergeRequestsTable\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then(\n        (m) => m.MergeRequestsTable\n      )\n    }\n  })\n);\nconst EntityGitlabMergeRequestStatsCard = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabMergeRequestStatsCard\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then(\n        (m) => m.MergeRequestStats\n      )\n    }\n  })\n);\nconst EntityGitlabPipelinesTable = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabPipelinesTable\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then(\n        (m) => m.PipelinesTable\n      )\n    }\n  })\n);\nconst EntityGitlabReleasesCard = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabReleasesCard\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then(\n        (m) => m.ReleasesCard\n      )\n    }\n  })\n);\nconst EntityGitlabIssuesTable = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabIssuesTable\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then((m) => m.IssuesTable)\n    }\n  })\n);\nconst EntityGitlabReadmeCard = gitlabPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGitlabReadmeCard\",\n    component: {\n      lazy: () => import('./index-01ae98b7.esm.js').then((m) => m.ReadmeCard)\n    }\n  })\n);\n\nconst GITLAB_ANNOTATION_PROJECT_ID = \"gitlab.com/project-id\";\nconst GITLAB_ANNOTATION_PROJECT_SLUG = \"gitlab.com/project-slug\";\nconst GITLAB_ANNOTATION_INSTANCE = \"gitlab.com/instance\";\nconst GITLAB_ANNOTATION_CODEOWNERS_PATH = \"gitlab.com/codeowners-path\";\nconst GITLAB_ANNOTATION_README_PATH = \"gitlab.com/readme-path\";\nconst gitlabProjectId = () => {\n  var _a, _b;\n  const { entity } = useEntity();\n  const project_id = (_b = (_a = entity.metadata.annotations) == null ? void 0 : _a[GITLAB_ANNOTATION_PROJECT_ID]) != null ? _b : \"\";\n  return project_id;\n};\nconst gitlabProjectSlug = () => {\n  var _a, _b;\n  const { entity } = useEntity();\n  const project_slug = (_b = (_a = entity.metadata.annotations) == null ? void 0 : _a[GITLAB_ANNOTATION_PROJECT_SLUG]) != null ? _b : \"\";\n  return project_slug;\n};\nconst gitlabInstance = () => {\n  var _a, _b;\n  const { entity } = useEntity();\n  const instance = (_b = (_a = entity.metadata.annotations) == null ? void 0 : _a[GITLAB_ANNOTATION_INSTANCE]) != null ? _b : \"\";\n  return instance;\n};\nconst gitlabCodeOwnerPath = () => {\n  var _a, _b;\n  const { entity } = useEntity();\n  const codeowners_path = (_b = (_a = entity.metadata.annotations) == null ? void 0 : _a[GITLAB_ANNOTATION_CODEOWNERS_PATH]) != null ? _b : \"\";\n  return codeowners_path;\n};\nconst gitlabReadmePath = () => {\n  var _a, _b;\n  const { entity } = useEntity();\n  const readme_path = (_b = (_a = entity.metadata.annotations) == null ? void 0 : _a[GITLAB_ANNOTATION_README_PATH]) != null ? _b : \"\";\n  return readme_path;\n};\n\nconst colors = {\n  \"1C Enterprise\": {\n    color: \"#814CCC\"\n  },\n  \"4D\": {\n    color: \"inherit\"\n  },\n  ABAP: {\n    color: \"#E8274B\"\n  },\n  ActionScript: {\n    color: \"#882B0F\"\n  },\n  Ada: {\n    color: \"#02f88c\"\n  },\n  Agda: {\n    color: \"#315665\"\n  },\n  \"AGS Script\": {\n    color: \"#B9D9FF\"\n  },\n  AL: {\n    color: \"#3AA2B5\"\n  },\n  Alloy: {\n    color: \"#64C800\"\n  },\n  \"Alpine Abuild\": {\n    color: \"inherit\"\n  },\n  AMPL: {\n    color: \"#E6EFBB\"\n  },\n  AngelScript: {\n    color: \"#C7D7DC\"\n  },\n  ANTLR: {\n    color: \"#9DC3FF\"\n  },\n  Apex: {\n    color: \"#1797c0\"\n  },\n  \"API Blueprint\": {\n    color: \"#2ACCA8\"\n  },\n  APL: {\n    color: \"#5A8164\"\n  },\n  \"Apollo Guidance Computer\": {\n    color: \"#0B3D91\"\n  },\n  AppleScript: {\n    color: \"#101F1F\"\n  },\n  Arc: {\n    color: \"#aa2afe\"\n  },\n  ASL: {\n    color: \"inherit\"\n  },\n  \"ASP.NET\": {\n    color: \"#9400ff\"\n  },\n  AspectJ: {\n    color: \"#a957b0\"\n  },\n  Assembly: {\n    color: \"#6E4C13\"\n  },\n  Asymptote: {\n    color: \"#ff0000\"\n  },\n  ATS: {\n    color: \"#1ac620\"\n  },\n  Augeas: {\n    color: \"inherit\"\n  },\n  AutoHotkey: {\n    color: \"#6594b9\"\n  },\n  AutoIt: {\n    color: \"#1C3552\"\n  },\n  Awk: {\n    color: \"inherit\"\n  },\n  Ballerina: {\n    color: \"#FF5000\"\n  },\n  Batchfile: {\n    color: \"#C1F12E\"\n  },\n  Befunge: {\n    color: \"inherit\"\n  },\n  Bison: {\n    color: \"#6A463F\"\n  },\n  BitBake: {\n    color: \"inherit\"\n  },\n  Blade: {\n    color: \"#f7523f\"\n  },\n  BlitzBasic: {\n    color: \"inherit\"\n  },\n  BlitzMax: {\n    color: \"#cd6400\"\n  },\n  Bluespec: {\n    color: \"inherit\"\n  },\n  Boo: {\n    color: \"#d4bec1\"\n  },\n  Brainfuck: {\n    color: \"#2F2530\"\n  },\n  Brightscript: {\n    color: \"inherit\"\n  },\n  C: {\n    color: \"#555555\"\n  },\n  \"C#\": {\n    color: \"#178600\"\n  },\n  \"C++\": {\n    color: \"#f34b7d\"\n  },\n  \"C2hs Haskell\": {\n    color: \"inherit\"\n  },\n  \"Cap'n Proto\": {\n    color: \"inherit\"\n  },\n  CartoCSS: {\n    color: \"inherit\"\n  },\n  Ceylon: {\n    color: \"#dfa535\"\n  },\n  Chapel: {\n    color: \"#8dc63f\"\n  },\n  Charity: {\n    color: \"inherit\"\n  },\n  ChucK: {\n    color: \"inherit\"\n  },\n  Cirru: {\n    color: \"#ccccff\"\n  },\n  Clarion: {\n    color: \"#db901e\"\n  },\n  \"Classic ASP\": {\n    color: \"#6a40fd\"\n  },\n  Clean: {\n    color: \"#3F85AF\"\n  },\n  Click: {\n    color: \"#E4E6F3\"\n  },\n  CLIPS: {\n    color: \"inherit\"\n  },\n  Clojure: {\n    color: \"#db5855\"\n  },\n  CMake: {\n    color: \"inherit\"\n  },\n  COBOL: {\n    color: \"inherit\"\n  },\n  CodeQL: {\n    color: \"inherit\"\n  },\n  CoffeeScript: {\n    color: \"#244776\"\n  },\n  ColdFusion: {\n    color: \"#ed2cd6\"\n  },\n  \"ColdFusion CFC\": {\n    color: \"#ed2cd6\"\n  },\n  \"Common Lisp\": {\n    color: \"#3fb68b\"\n  },\n  \"Common Workflow Language\": {\n    color: \"#B5314C\"\n  },\n  \"Component Pascal\": {\n    color: \"#B0CE4E\"\n  },\n  Cool: {\n    color: \"inherit\"\n  },\n  Coq: {\n    color: \"inherit\"\n  },\n  Crystal: {\n    color: \"#000100\"\n  },\n  CSON: {\n    color: \"#244776\"\n  },\n  Csound: {\n    color: \"inherit\"\n  },\n  \"Csound Document\": {\n    color: \"inherit\"\n  },\n  \"Csound Score\": {\n    color: \"inherit\"\n  },\n  CSS: {\n    color: \"#563d7c\"\n  },\n  Cuda: {\n    color: \"#3A4E3A\"\n  },\n  CWeb: {\n    color: \"inherit\"\n  },\n  Cycript: {\n    color: \"inherit\"\n  },\n  Cython: {\n    color: \"inherit\"\n  },\n  D: {\n    color: \"#ba595e\"\n  },\n  Dafny: {\n    color: \"#FFEC25\"\n  },\n  Dart: {\n    color: \"#00B4AB\"\n  },\n  Gnuplot: {\n    color: \"#f0a9f0\"\n  },\n  DataWeave: {\n    color: \"#003a52\"\n  },\n  Dhall: {\n    color: \"#dfafff\"\n  },\n  \"DIGITAL Command Language\": {\n    color: \"inherit\"\n  },\n  DM: {\n    color: \"#447265\"\n  },\n  Dockerfile: {\n    color: \"#384d54\"\n  },\n  Dogescript: {\n    color: \"#cca760\"\n  },\n  DTrace: {\n    color: \"inherit\"\n  },\n  Dylan: {\n    color: \"#6c616e\"\n  },\n  E: {\n    color: \"#ccce35\"\n  },\n  eC: {\n    color: \"#913960\"\n  },\n  ECL: {\n    color: \"#8a1267\"\n  },\n  ECLiPSe: {\n    color: \"inherit\"\n  },\n  Eiffel: {\n    color: \"#4d6977\"\n  },\n  EJS: {\n    color: \"#a91e50\"\n  },\n  Elixir: {\n    color: \"#6e4a7e\"\n  },\n  Elm: {\n    color: \"#60B5CC\"\n  },\n  \"Emacs Lisp\": {\n    color: \"#c065db\"\n  },\n  EmberScript: {\n    color: \"#FFF4F3\"\n  },\n  EQ: {\n    color: \"#a78649\"\n  },\n  Erlang: {\n    color: \"#B83998\"\n  },\n  \"F#\": {\n    color: \"#b845fc\"\n  },\n  \"F*\": {\n    color: \"#572e30\"\n  },\n  Factor: {\n    color: \"#636746\"\n  },\n  Fancy: {\n    color: \"#7b9db4\"\n  },\n  Fantom: {\n    color: \"#14253c\"\n  },\n  Faust: {\n    color: \"#c37240\"\n  },\n  \"Filebench WML\": {\n    color: \"inherit\"\n  },\n  Filterscript: {\n    color: \"inherit\"\n  },\n  fish: {\n    color: \"inherit\"\n  },\n  FLUX: {\n    color: \"#88ccff\"\n  },\n  Forth: {\n    color: \"#341708\"\n  },\n  Fortran: {\n    color: \"#4d41b1\"\n  },\n  \"Fortran Free Form\": {\n    color: \"inherit\"\n  },\n  FreeMarker: {\n    color: \"#0050b2\"\n  },\n  Frege: {\n    color: \"#00cafe\"\n  },\n  Futhark: {\n    color: \"#5f021f\"\n  },\n  \"G-code\": {\n    color: \"#D08CF2\"\n  },\n  \"Game Maker Language\": {\n    color: \"#71b417\"\n  },\n  GAML: {\n    color: \"#FFC766\"\n  },\n  GAMS: {\n    color: \"inherit\"\n  },\n  GAP: {\n    color: \"inherit\"\n  },\n  \"GCC Machine Description\": {\n    color: \"inherit\"\n  },\n  GDB: {\n    color: \"inherit\"\n  },\n  GDScript: {\n    color: \"#355570\"\n  },\n  Genie: {\n    color: \"#fb855d\"\n  },\n  Genshi: {\n    color: \"inherit\"\n  },\n  \"Gentoo Ebuild\": {\n    color: \"inherit\"\n  },\n  \"Gentoo Eclass\": {\n    color: \"inherit\"\n  },\n  Gherkin: {\n    color: \"#5B2063\"\n  },\n  GLSL: {\n    color: \"inherit\"\n  },\n  Glyph: {\n    color: \"#c1ac7f\"\n  },\n  Go: {\n    color: \"#00ADD8\"\n  },\n  Golo: {\n    color: \"#88562A\"\n  },\n  Gosu: {\n    color: \"#82937f\"\n  },\n  Grace: {\n    color: \"inherit\"\n  },\n  \"Grammatical Framework\": {\n    color: \"#ff0000\"\n  },\n  GraphQL: {\n    color: \"#e10098\"\n  },\n  Groovy: {\n    color: \"#e69f56\"\n  },\n  \"Groovy Server Pages\": {\n    color: \"inherit\"\n  },\n  Hack: {\n    color: \"#878787\"\n  },\n  Haml: {\n    color: \"#ece2a9\"\n  },\n  Handlebars: {\n    color: \"#f7931e\"\n  },\n  Harbour: {\n    color: \"#0e60e3\"\n  },\n  Haskell: {\n    color: \"#5e5086\"\n  },\n  Haxe: {\n    color: \"#df7900\"\n  },\n  HCL: {\n    color: \"#00dfd4\"\n  },\n  HiveQL: {\n    color: \"#dce200\"\n  },\n  HLSL: {\n    color: \"inherit\"\n  },\n  HolyC: {\n    color: \"#ffefaf\"\n  },\n  HTML: {\n    color: \"#e34c26\"\n  },\n  Hy: {\n    color: \"#7790B2\"\n  },\n  HyPhy: {\n    color: \"inherit\"\n  },\n  IDL: {\n    color: \"#a3522f\"\n  },\n  Idris: {\n    color: \"#b30000\"\n  },\n  \"IGOR Pro\": {\n    color: \"#0000cc\"\n  },\n  \"Inform 7\": {\n    color: \"inherit\"\n  },\n  \"Inno Setup\": {\n    color: \"inherit\"\n  },\n  Io: {\n    color: \"#a9188d\"\n  },\n  Ioke: {\n    color: \"#078193\"\n  },\n  Isabelle: {\n    color: \"#FEFE00\"\n  },\n  \"Isabelle ROOT\": {\n    color: \"inherit\"\n  },\n  J: {\n    color: \"#9EEDFF\"\n  },\n  Jasmin: {\n    color: \"inherit\"\n  },\n  Java: {\n    color: \"#b07219\"\n  },\n  \"Java Server Pages\": {\n    color: \"inherit\"\n  },\n  JavaScript: {\n    color: \"#f1e05a\"\n  },\n  \"JavaScript+ERB\": {\n    color: \"inherit\"\n  },\n  JFlex: {\n    color: \"#DBCA00\"\n  },\n  Jison: {\n    color: \"inherit\"\n  },\n  \"Jison Lex\": {\n    color: \"inherit\"\n  },\n  Jolie: {\n    color: \"#843179\"\n  },\n  JSONiq: {\n    color: \"#40d47e\"\n  },\n  Jsonnet: {\n    color: \"#0064bd\"\n  },\n  JSX: {\n    color: \"inherit\"\n  },\n  Julia: {\n    color: \"#a270ba\"\n  },\n  \"Jupyter Notebook\": {\n    color: \"#DA5B0B\"\n  },\n  \"Kaitai Struct\": {\n    color: \"#773b37\"\n  },\n  Kotlin: {\n    color: \"#F18E33\"\n  },\n  KRL: {\n    color: \"#28430A\"\n  },\n  LabVIEW: {\n    color: \"inherit\"\n  },\n  Lasso: {\n    color: \"#999999\"\n  },\n  Latte: {\n    color: \"#f2a542\"\n  },\n  Lean: {\n    color: \"inherit\"\n  },\n  Less: {\n    color: \"#1d365d\"\n  },\n  Lex: {\n    color: \"#DBCA00\"\n  },\n  LFE: {\n    color: \"#4C3023\"\n  },\n  LilyPond: {\n    color: \"inherit\"\n  },\n  Limbo: {\n    color: \"inherit\"\n  },\n  \"Literate Agda\": {\n    color: \"inherit\"\n  },\n  \"Literate CoffeeScript\": {\n    color: \"inherit\"\n  },\n  \"Literate Haskell\": {\n    color: \"inherit\"\n  },\n  LiveScript: {\n    color: \"#499886\"\n  },\n  LLVM: {\n    color: \"#185619\"\n  },\n  Logos: {\n    color: \"inherit\"\n  },\n  Logtalk: {\n    color: \"inherit\"\n  },\n  LOLCODE: {\n    color: \"#cc9900\"\n  },\n  LookML: {\n    color: \"#652B81\"\n  },\n  LoomScript: {\n    color: \"inherit\"\n  },\n  LSL: {\n    color: \"#3d9970\"\n  },\n  Lua: {\n    color: \"#000080\"\n  },\n  M: {\n    color: \"inherit\"\n  },\n  M4: {\n    color: \"inherit\"\n  },\n  M4Sugar: {\n    color: \"inherit\"\n  },\n  Macaulay2: {\n    color: \"#d8ffff\"\n  },\n  Makefile: {\n    color: \"#427819\"\n  },\n  Mako: {\n    color: \"inherit\"\n  },\n  Markdown: {\n    color: \"#083fa1\"\n  },\n  Marko: {\n    color: \"#42bff2\"\n  },\n  Mask: {\n    color: \"#f97732\"\n  },\n  Mathematica: {\n    color: \"inherit\"\n  },\n  MATLAB: {\n    color: \"#e16737\"\n  },\n  Max: {\n    color: \"#c4a79c\"\n  },\n  MAXScript: {\n    color: \"#00a6a6\"\n  },\n  mcfunction: {\n    color: \"#E22837\"\n  },\n  Mercury: {\n    color: \"#ff2b2b\"\n  },\n  Meson: {\n    color: \"#007800\"\n  },\n  Metal: {\n    color: \"#8f14e9\"\n  },\n  MiniD: {\n    color: \"inherit\"\n  },\n  Mirah: {\n    color: \"#c7a938\"\n  },\n  \"mIRC Script\": {\n    color: \"#3d57c3\"\n  },\n  MLIR: {\n    color: \"#5EC8DB\"\n  },\n  Modelica: {\n    color: \"inherit\"\n  },\n  \"Modula-2\": {\n    color: \"inherit\"\n  },\n  \"Modula-3\": {\n    color: \"#223388\"\n  },\n  \"Module Management System\": {\n    color: \"inherit\"\n  },\n  Monkey: {\n    color: \"inherit\"\n  },\n  Moocode: {\n    color: \"inherit\"\n  },\n  MoonScript: {\n    color: \"inherit\"\n  },\n  \"Motorola 68K Assembly\": {\n    color: \"inherit\"\n  },\n  MQL4: {\n    color: \"#62A8D6\"\n  },\n  MQL5: {\n    color: \"#4A76B8\"\n  },\n  MTML: {\n    color: \"#b7e1f4\"\n  },\n  MUF: {\n    color: \"inherit\"\n  },\n  mupad: {\n    color: \"inherit\"\n  },\n  Myghty: {\n    color: \"inherit\"\n  },\n  NASL: {\n    color: \"inherit\"\n  },\n  NCL: {\n    color: \"#28431f\"\n  },\n  Nearley: {\n    color: \"#990000\"\n  },\n  Nemerle: {\n    color: \"#3d3c6e\"\n  },\n  nesC: {\n    color: \"#94B0C7\"\n  },\n  NetLinx: {\n    color: \"#0aa0ff\"\n  },\n  \"NetLinx+ERB\": {\n    color: \"#747faa\"\n  },\n  NetLogo: {\n    color: \"#ff6375\"\n  },\n  NewLisp: {\n    color: \"#87AED7\"\n  },\n  Nextflow: {\n    color: \"#3ac486\"\n  },\n  Nim: {\n    color: \"#ffc200\"\n  },\n  Nit: {\n    color: \"#009917\"\n  },\n  Nix: {\n    color: \"#7e7eff\"\n  },\n  NSIS: {\n    color: \"inherit\"\n  },\n  Nu: {\n    color: \"#c9df40\"\n  },\n  NumPy: {\n    color: \"#9C8AF9\"\n  },\n  \"Objective-C\": {\n    color: \"#438eff\"\n  },\n  \"Objective-C++\": {\n    color: \"#6866fb\"\n  },\n  \"Objective-J\": {\n    color: \"#ff0c5a\"\n  },\n  ObjectScript: {\n    color: \"#424893\"\n  },\n  OCaml: {\n    color: \"#3be133\"\n  },\n  Odin: {\n    color: \"#60AFFE\"\n  },\n  Omgrofl: {\n    color: \"#cabbff\"\n  },\n  ooc: {\n    color: \"#b0b77e\"\n  },\n  Opa: {\n    color: \"inherit\"\n  },\n  Opal: {\n    color: \"#f7ede0\"\n  },\n  \"Open Policy Agent\": {\n    color: \"inherit\"\n  },\n  OpenCL: {\n    color: \"inherit\"\n  },\n  \"OpenEdge ABL\": {\n    color: \"inherit\"\n  },\n  OpenQASM: {\n    color: \"#AA70FF\"\n  },\n  \"OpenRC runscript\": {\n    color: \"inherit\"\n  },\n  OpenSCAD: {\n    color: \"inherit\"\n  },\n  Ox: {\n    color: \"inherit\"\n  },\n  Oxygene: {\n    color: \"#cdd0e3\"\n  },\n  Oz: {\n    color: \"#fab738\"\n  },\n  P4: {\n    color: \"#7055b5\"\n  },\n  Pan: {\n    color: \"#cc0000\"\n  },\n  Papyrus: {\n    color: \"#6600cc\"\n  },\n  Parrot: {\n    color: \"#f3ca0a\"\n  },\n  \"Parrot Assembly\": {\n    color: \"inherit\"\n  },\n  \"Parrot Internal Representation\": {\n    color: \"inherit\"\n  },\n  Pascal: {\n    color: \"#E3F171\"\n  },\n  Pawn: {\n    color: \"#dbb284\"\n  },\n  Pep8: {\n    color: \"#C76F5B\"\n  },\n  Perl: {\n    color: \"#0298c3\"\n  },\n  PHP: {\n    color: \"#4F5D95\"\n  },\n  PicoLisp: {\n    color: \"inherit\"\n  },\n  PigLatin: {\n    color: \"#fcd7de\"\n  },\n  Pike: {\n    color: \"#005390\"\n  },\n  PLpgSQL: {\n    color: \"inherit\"\n  },\n  PLSQL: {\n    color: \"#dad8d8\"\n  },\n  PogoScript: {\n    color: \"#d80074\"\n  },\n  Pony: {\n    color: \"inherit\"\n  },\n  PostScript: {\n    color: \"#da291c\"\n  },\n  \"POV-Ray SDL\": {\n    color: \"inherit\"\n  },\n  PowerBuilder: {\n    color: \"#8f0f8d\"\n  },\n  PowerShell: {\n    color: \"#012456\"\n  },\n  Prisma: {\n    color: \"#0c344b\"\n  },\n  Processing: {\n    color: \"#0096D8\"\n  },\n  Prolog: {\n    color: \"#74283c\"\n  },\n  \"Propeller Spin\": {\n    color: \"#7fa2a7\"\n  },\n  Pug: {\n    color: \"#a86454\"\n  },\n  Puppet: {\n    color: \"#302B6D\"\n  },\n  PureBasic: {\n    color: \"#5a6986\"\n  },\n  PureScript: {\n    color: \"#1D222D\"\n  },\n  Python: {\n    color: \"#3572A5\"\n  },\n  \"Python console\": {\n    color: \"inherit\"\n  },\n  q: {\n    color: \"#0040cd\"\n  },\n  \"Q#\": {\n    color: \"#fed659\"\n  },\n  QMake: {\n    color: \"inherit\"\n  },\n  QML: {\n    color: \"#44a51c\"\n  },\n  \"Qt Script\": {\n    color: \"#00b841\"\n  },\n  Quake: {\n    color: \"#882233\"\n  },\n  R: {\n    color: \"#198CE7\"\n  },\n  Racket: {\n    color: \"#3c5caa\"\n  },\n  Ragel: {\n    color: \"#9d5200\"\n  },\n  Raku: {\n    color: \"#0000fb\"\n  },\n  RAML: {\n    color: \"#77d9fb\"\n  },\n  Rascal: {\n    color: \"#fffaa0\"\n  },\n  REALbasic: {\n    color: \"inherit\"\n  },\n  Reason: {\n    color: \"#ff5847\"\n  },\n  Rebol: {\n    color: \"#358a5b\"\n  },\n  Red: {\n    color: \"#f50000\"\n  },\n  Redcode: {\n    color: \"inherit\"\n  },\n  \"Ren'Py\": {\n    color: \"#ff7f7f\"\n  },\n  RenderScript: {\n    color: \"inherit\"\n  },\n  REXX: {\n    color: \"inherit\"\n  },\n  Ring: {\n    color: \"#2D54CB\"\n  },\n  Riot: {\n    color: \"#A71E49\"\n  },\n  RobotFramework: {\n    color: \"inherit\"\n  },\n  Roff: {\n    color: \"#ecdebe\"\n  },\n  Rouge: {\n    color: \"#cc0088\"\n  },\n  RPC: {\n    color: \"inherit\"\n  },\n  Ruby: {\n    color: \"#701516\"\n  },\n  RUNOFF: {\n    color: \"#665a4e\"\n  },\n  Rust: {\n    color: \"#dea584\"\n  },\n  Sage: {\n    color: \"inherit\"\n  },\n  SaltStack: {\n    color: \"#646464\"\n  },\n  SAS: {\n    color: \"#B34936\"\n  },\n  Sass: {\n    color: \"#a53b70\"\n  },\n  Scala: {\n    color: \"#c22d40\"\n  },\n  Scheme: {\n    color: \"#1e4aec\"\n  },\n  Scilab: {\n    color: \"inherit\"\n  },\n  SCSS: {\n    color: \"#c6538c\"\n  },\n  sed: {\n    color: \"#64b970\"\n  },\n  Self: {\n    color: \"#0579aa\"\n  },\n  ShaderLab: {\n    color: \"inherit\"\n  },\n  Shell: {\n    color: \"#89e051\"\n  },\n  ShellSession: {\n    color: \"inherit\"\n  },\n  Shen: {\n    color: \"#120F14\"\n  },\n  Sieve: {\n    color: \"inherit\"\n  },\n  Slash: {\n    color: \"#007eff\"\n  },\n  Slice: {\n    color: \"#003fa2\"\n  },\n  Slim: {\n    color: \"#2b2b2b\"\n  },\n  Smali: {\n    color: \"inherit\"\n  },\n  Smalltalk: {\n    color: \"#596706\"\n  },\n  Smarty: {\n    color: \"#bedf00\"\n  },\n  SmPL: {\n    color: \"#c94949\"\n  },\n  SMT: {\n    color: \"inherit\"\n  },\n  Solidity: {\n    color: \"#AA6746\"\n  },\n  SourcePawn: {\n    color: \"#f69e1d\"\n  },\n  SQF: {\n    color: \"#3F3F3F\"\n  },\n  SQLPL: {\n    color: \"inherit\"\n  },\n  Squirrel: {\n    color: \"#800000\"\n  },\n  \"SRecode Template\": {\n    color: \"#348a34\"\n  },\n  Stan: {\n    color: \"#b2011d\"\n  },\n  \"Standard ML\": {\n    color: \"#dc566d\"\n  },\n  Starlark: {\n    color: \"#76d275\"\n  },\n  Stata: {\n    color: \"inherit\"\n  },\n  Stylus: {\n    color: \"#ff6347\"\n  },\n  SuperCollider: {\n    color: \"#46390b\"\n  },\n  Svelte: {\n    color: \"#ff3e00\"\n  },\n  SVG: {\n    color: \"#ff9900\"\n  },\n  Swift: {\n    color: \"#ffac45\"\n  },\n  SWIG: {\n    color: \"inherit\"\n  },\n  SystemVerilog: {\n    color: \"#DAE1C2\"\n  },\n  Tcl: {\n    color: \"#e4cc98\"\n  },\n  Tcsh: {\n    color: \"inherit\"\n  },\n  Terra: {\n    color: \"#00004c\"\n  },\n  TeX: {\n    color: \"#3D6117\"\n  },\n  Thrift: {\n    color: \"inherit\"\n  },\n  \"TI Program\": {\n    color: \"#A0AA87\"\n  },\n  TLA: {\n    color: \"inherit\"\n  },\n  TSQL: {\n    color: \"inherit\"\n  },\n  TSX: {\n    color: \"inherit\"\n  },\n  Turing: {\n    color: \"#cf142b\"\n  },\n  Twig: {\n    color: \"#c1d026\"\n  },\n  TXL: {\n    color: \"inherit\"\n  },\n  TypeScript: {\n    color: \"#2b7489\"\n  },\n  \"Unified Parallel C\": {\n    color: \"#4e3617\"\n  },\n  \"Unix Assembly\": {\n    color: \"inherit\"\n  },\n  Uno: {\n    color: \"#9933cc\"\n  },\n  UnrealScript: {\n    color: \"#a54c4d\"\n  },\n  UrWeb: {\n    color: \"inherit\"\n  },\n  V: {\n    color: \"#4f87c4\"\n  },\n  Vala: {\n    color: \"#fbe5cd\"\n  },\n  VBA: {\n    color: \"#867db1\"\n  },\n  VBScript: {\n    color: \"#15dcdc\"\n  },\n  VCL: {\n    color: \"#148AA8\"\n  },\n  Verilog: {\n    color: \"#b2b7f8\"\n  },\n  VHDL: {\n    color: \"#adb2cb\"\n  },\n  \"Vim script\": {\n    color: \"#199f4b\"\n  },\n  \"Visual Basic .NET\": {\n    color: \"#945db7\"\n  },\n  Volt: {\n    color: \"#1F1F1F\"\n  },\n  Vue: {\n    color: \"#2c3e50\"\n  },\n  wdl: {\n    color: \"#42f1f4\"\n  },\n  WebAssembly: {\n    color: \"#04133b\"\n  },\n  WebIDL: {\n    color: \"inherit\"\n  },\n  wisp: {\n    color: \"#7582D1\"\n  },\n  Wollok: {\n    color: \"#a23738\"\n  },\n  X10: {\n    color: \"#4B6BEF\"\n  },\n  xBase: {\n    color: \"#403a40\"\n  },\n  XC: {\n    color: \"#99DA07\"\n  },\n  Xojo: {\n    color: \"inherit\"\n  },\n  XProc: {\n    color: \"inherit\"\n  },\n  XQuery: {\n    color: \"#5232e7\"\n  },\n  XS: {\n    color: \"inherit\"\n  },\n  XSLT: {\n    color: \"#EB8CEB\"\n  },\n  Xtend: {\n    color: \"inherit\"\n  },\n  Yacc: {\n    color: \"#4B6C4B\"\n  },\n  YAML: {\n    color: \"#cb171e\"\n  },\n  YARA: {\n    color: \"#220000\"\n  },\n  YASnippet: {\n    color: \"#32AB90\"\n  },\n  ZAP: {\n    color: \"#0d665e\"\n  },\n  Zeek: {\n    color: \"inherit\"\n  },\n  ZenScript: {\n    color: \"#00BCD1\"\n  },\n  Zephir: {\n    color: \"#118f9e\"\n  },\n  Zig: {\n    color: \"#ec915c\"\n  },\n  ZIL: {\n    color: \"#dc75e5\"\n  },\n  Zimpl: {\n    color: \"inherit\"\n  }\n};\n\nconst useStyles$6 = makeStyles((theme) => ({\n  infoCard: {\n    marginBottom: theme.spacing(3),\n    \"& + .MuiAlert-root\": {\n      marginTop: theme.spacing(3)\n    }\n  },\n  barContainer: {\n    height: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n    borderRadius: \"4px\",\n    backgroundColor: \"transparent\",\n    overflow: \"hidden\"\n  },\n  bar: {\n    height: \"100%\",\n    position: \"relative\"\n  },\n  languageDot: {\n    width: \"10px\",\n    height: \"10px\",\n    borderRadius: \"50%\",\n    marginRight: theme.spacing(1),\n    display: \"inline-block\"\n  },\n  label: {\n    color: \"inherit\"\n  }\n}));\nconst LanguagesCard = ({}) => {\n  const classes = useStyles$6();\n  let barWidth = 0;\n  let languageTitle = new String();\n  const project_id = gitlabProjectId();\n  const project_slug = gitlabProjectSlug();\n  const gitlab_instance = gitlabInstance();\n  const GitlabCIAPI = useApi(GitlabCIApiRef).build(\n    gitlab_instance || \"gitlab.com\"\n  );\n  const { value, loading, error } = useAsync(async () => {\n    const projectDetails = await GitlabCIAPI.getProjectDetails(\n      project_slug || project_id\n    );\n    if (!projectDetails)\n      throw new Error(\"wrong project_slug or project_id\");\n    const summary = await GitlabCIAPI.getLanguagesSummary(\n      projectDetails.id\n    );\n    if (!summary)\n      throw new Error(\"Languages summary is not defined!\");\n    return summary;\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"error\", className: classes.infoCard }, error.message);\n  }\n  return value ? /* @__PURE__ */ React.createElement(InfoCard, { title: \"Languages\" }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.barContainer }, Object.entries(value).map((language, index) => {\n    var _a;\n    barWidth = barWidth + language[1];\n    languageTitle = language[0] + \" \" + language[1] + \"%\";\n    return /* @__PURE__ */ React.createElement(\n      Tooltip,\n      {\n        title: languageTitle,\n        placement: \"bottom-end\",\n        key: language[0]\n      },\n      /* @__PURE__ */ React.createElement(\n        \"div\",\n        {\n          className: classes.bar,\n          key: language[0],\n          style: {\n            marginTop: index === 0 ? \"0\" : `-16px`,\n            zIndex: Object.keys(value).length - index,\n            backgroundColor: ((_a = colors[language[0]]) == null ? void 0 : _a.color) || \"#333\",\n            width: `${barWidth}%`\n          }\n        }\n      )\n    );\n  })), Object.entries(value).map((language) => {\n    var _a;\n    return /* @__PURE__ */ React.createElement(\n      Chip,\n      {\n        classes: {\n          label: classes.label\n        },\n        label: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n          \"span\",\n          {\n            className: classes.languageDot,\n            style: {\n              backgroundColor: ((_a = colors[language[0]]) == null ? void 0 : _a.color) || \"#333\"\n            }\n          }\n        ), /* @__PURE__ */ React.createElement(\"b\", null, language[0]), \" - \", language[1], \"%\"),\n        variant: \"outlined\",\n        key: language[0]\n      }\n    );\n  })) : /* @__PURE__ */ React.createElement(InfoCard, { title: \"Languages\" });\n};\n\nconst LightTooltip = withStyles({\n  tooltip: {\n    backgroundColor: \"white\",\n    border: \"1px solid lightgrey\",\n    color: \"#333\",\n    minWidth: \"320px\"\n  }\n})(Tooltip);\nconst PeopleCardEntity = ({ peopleCardEntity }) => {\n  return /* @__PURE__ */ React.createElement(LightTooltip, { title: peopleCardEntity.name }, /* @__PURE__ */ React.createElement(\"a\", { href: peopleCardEntity.web_url, target: \"_blank\" }, /* @__PURE__ */ React.createElement(\n    Avatar,\n    {\n      key: peopleCardEntity.name,\n      alt: peopleCardEntity.name,\n      src: peopleCardEntity.avatar_url\n    }\n  )));\n};\n\nconst useStyles$5 = makeStyles((theme) => ({\n  link: {\n    color: \"inherit\",\n    textDecoration: \"none\",\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(0)\n  },\n  box: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(1)\n  },\n  boxLink: {\n    marginTop: theme.spacing(0)\n  },\n  title: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(0)\n  }\n}));\nconst PeopleList = ({ title, peopleObj, deepLink }) => {\n  const classes = useStyles$5();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    Box,\n    {\n      className: classes.box,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    /* @__PURE__ */ React.createElement(\"h2\", { className: classes.title }, title),\n    deepLink && /* @__PURE__ */ React.createElement(\n      Box,\n      {\n        className: classes.boxLink,\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      /* @__PURE__ */ React.createElement(\n        Link,\n        {\n          className: classes.link,\n          to: deepLink.link,\n          onClick: deepLink.onClick\n        },\n        deepLink.title\n      ),\n      /* @__PURE__ */ React.createElement(ArrowIcon, { fontSize: \"small\" })\n    )\n  ), /* @__PURE__ */ React.createElement(Grid, { container: true, spacing: 1, justifyContent: \"flex-start\" }, peopleObj == null ? void 0 : peopleObj.map((peopleCardEntity) => /* @__PURE__ */ React.createElement(\n    Grid,\n    {\n      key: peopleCardEntity.email || peopleCardEntity.name,\n      item: true\n    },\n    /* @__PURE__ */ React.createElement(PeopleCardEntity, { peopleCardEntity })\n  ))));\n};\n\nconst useStyles$4 = makeStyles((theme) => ({\n  infoCard: {\n    marginBottom: theme.spacing(3),\n    \"& + .MuiAlert-root\": {\n      marginTop: theme.spacing(3)\n    }\n  },\n  subTitle: {\n    marginTop: theme.spacing(0)\n  },\n  divider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  }\n}));\nconst PeopleCard = ({}) => {\n  var _a, _b;\n  const classes = useStyles$4();\n  const project_id = gitlabProjectId();\n  const project_slug = gitlabProjectSlug();\n  const gitlab_instance = gitlabInstance();\n  const codeowners_path = gitlabCodeOwnerPath();\n  const GitlabCIAPI = useApi(GitlabCIApiRef).build(\n    gitlab_instance || \"gitlab.com\"\n  );\n  const { value, loading, error } = useAsync(async () => {\n    const projectDetails = await GitlabCIAPI.getProjectDetails(\n      project_slug || project_id\n    );\n    if (!projectDetails)\n      throw new Error(\"wrong project_slug or project_id\");\n    const contributorData = await GitlabCIAPI.getContributorsSummary(\n      projectDetails.id\n    );\n    let codeOwners = [];\n    try {\n      codeOwners = await GitlabCIAPI.getCodeOwners(\n        projectDetails.id,\n        projectDetails == null ? void 0 : projectDetails.default_branch,\n        codeowners_path\n      );\n    } catch (error2) {\n      codeOwners = void 0;\n    }\n    return {\n      contributors: contributorData,\n      owners: codeOwners,\n      projectDetails\n    };\n  }, []);\n  const project_web_url = (_a = value == null ? void 0 : value.projectDetails) == null ? void 0 : _a.web_url;\n  const project_default_branch = (_b = value == null ? void 0 : value.projectDetails) == null ? void 0 : _b.default_branch;\n  let contributorsDeepLink;\n  let ownersDeepLink;\n  if (project_web_url && project_default_branch) {\n    const contributorsLink = GitlabCIAPI.getContributorsLink(\n      project_web_url,\n      project_default_branch\n    );\n    contributorsDeepLink = {\n      link: contributorsLink,\n      title: \"go to Contributors\",\n      onClick: (e) => {\n        e.preventDefault();\n        window.open(contributorsLink);\n      }\n    };\n    const ownersLink = GitlabCIAPI.getOwnersLink(\n      project_web_url,\n      project_default_branch,\n      codeowners_path\n    );\n    ownersDeepLink = {\n      link: ownersLink,\n      title: \"go to Owners File\",\n      onClick: (e) => {\n        e.preventDefault();\n        window.open(ownersLink);\n      }\n    };\n  }\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"error\", className: classes.infoCard }, error.message);\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, { title: \"People\", className: classes.infoCard }, (value == null ? void 0 : value.owners) && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    PeopleList,\n    {\n      title: \"Owners\",\n      peopleObj: value == null ? void 0 : value.owners,\n      deepLink: ownersDeepLink\n    }\n  ), /* @__PURE__ */ React.createElement(Divider, { className: classes.divider })), /* @__PURE__ */ React.createElement(\n    PeopleList,\n    {\n      title: \"Contributors\",\n      peopleObj: (value == null ? void 0 : value.contributors) || [],\n      deepLink: contributorsDeepLink\n    }\n  ));\n};\n\nconst useStyles$3 = makeStyles$1((theme) => ({\n  infoCard: {\n    marginBottom: theme.spacing(3),\n    \"& + .MuiAlert-root\": {\n      marginTop: theme.spacing(3)\n    },\n    \"& .MuiCardContent-root\": {\n      padding: theme.spacing(2, 1, 2, 2)\n    },\n    \"& td\": {\n      whiteSpace: \"normal\"\n    }\n  }\n}));\nfunction evalStats(mergeRequestStatusData) {\n  let sumOfDiff = 0;\n  let closedCount = 0;\n  let mergedCount = 0;\n  mergeRequestStatusData == null ? void 0 : mergeRequestStatusData.forEach((element) => {\n    sumOfDiff += element.merged_at ? new Date(element.merged_at).getTime() - new Date(element.created_at).getTime() : 0;\n    mergedCount += element.merged_at ? 1 : 0;\n    closedCount += element.closed_at ? 1 : 0;\n  });\n  const avgTimeUntilMergeDiff = dayjs.duration(sumOfDiff / mergedCount);\n  return {\n    avgTimeUntilMerge: avgTimeUntilMergeDiff,\n    mergedCount,\n    closedCount\n  };\n}\nconst MergeRequestStats = (props) => {\n  const [count, setCount] = useState(20);\n  const classes = useStyles$3();\n  const project_id = gitlabProjectId();\n  const project_slug = gitlabProjectSlug();\n  const gitlab_instance = gitlabInstance();\n  const GitlabCIAPI = useApi(GitlabCIApiRef).build(\n    gitlab_instance || \"gitlab.com\"\n  );\n  const { value, loading, error } = useAsync(async () => {\n    const projectDetails = await GitlabCIAPI.getProjectDetails(\n      project_slug || project_id\n    );\n    if (!projectDetails)\n      throw new Error(\"wrong project_slug or project_id\");\n    const mergeRequestStatusData = await GitlabCIAPI.getMergeRequestsStatusSummary(\n      projectDetails.id,\n      count\n    );\n    if (!mergeRequestStatusData)\n      throw new Error(\"getMergeRequestsStatusSummary error\");\n    const stats = evalStats(mergeRequestStatusData);\n    if (stats.mergedCount === 0)\n      return {\n        avgTimeUntilMerge: \"Never\",\n        mergedToTotalRatio: \"0%\"\n      };\n    return {\n      avgTimeUntilMerge: stats.avgTimeUntilMerge.humanize(),\n      mergedToTotalRatio: `${Math.round(\n        stats.mergedCount / count * 100\n      )}%`\n    };\n  }, [count]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"error\" }, error.message);\n  }\n  return value ? /* @__PURE__ */ React.createElement(\n    InfoCard,\n    {\n      title: \"Merge requests statistics\",\n      className: classes.infoCard,\n      variant: props.variant\n    },\n    /* @__PURE__ */ React.createElement(Box, { position: \"relative\" }, /* @__PURE__ */ React.createElement(StructuredMetadataTable, { metadata: value }), /* @__PURE__ */ React.createElement(Box, { display: \"flex\", justifyContent: \"flex-end\" }, /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        value: count,\n        onChange: (event) => setCount(Number(event.target.value))\n      },\n      /* @__PURE__ */ React.createElement(MenuItem, { value: 10 }, \"10\"),\n      /* @__PURE__ */ React.createElement(MenuItem, { value: 20 }, \"20\"),\n      /* @__PURE__ */ React.createElement(MenuItem, { value: 50 }, \"50\"),\n      /* @__PURE__ */ React.createElement(MenuItem, { value: 100 }, \"100\")\n    ), /* @__PURE__ */ React.createElement(FormHelperText, null, \"Number of MRs\"))))\n  ) : /* @__PURE__ */ React.createElement(InfoCard, { title: \"Merge Request Statistics\" });\n};\nvar MergeRequestStats$1 = MergeRequestStats;\n\nconst useStyles$2 = makeStyles$1(() => ({\n  open: {\n    fill: \"#22863a\"\n  },\n  closed: {\n    fill: \"#cb2431\"\n  },\n  merged: {\n    fill: \"#6f42c1\"\n  },\n  draft: {\n    fill: \"#6a737d\"\n  }\n}));\nconst StatusOpen = () => {\n  const classes = useStyles$2();\n  return /* @__PURE__ */ React.createElement(\n    \"svg\",\n    {\n      width: \"16\",\n      height: \"16\",\n      className: classes.open,\n      viewBox: \"0 0 16 16\"\n    },\n    /* @__PURE__ */ React.createElement(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        d: \"M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z\"\n      }\n    )\n  );\n};\nconst StatusClosed = () => {\n  const classes = useStyles$2();\n  return /* @__PURE__ */ React.createElement(\n    \"svg\",\n    {\n      width: \"16\",\n      height: \"16\",\n      className: classes.closed,\n      viewBox: \"0 0 16 16\"\n    },\n    /* @__PURE__ */ React.createElement(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        d: \"M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z\"\n      }\n    )\n  );\n};\nconst StatusMerged = () => {\n  const classes = useStyles$2();\n  return /* @__PURE__ */ React.createElement(\n    \"svg\",\n    {\n      width: \"16\",\n      height: \"16\",\n      className: classes.merged,\n      viewBox: \"0 0 16 16\"\n    },\n    /* @__PURE__ */ React.createElement(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        d: \"M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z\"\n      }\n    )\n  );\n};\nconst getStatusIconType = (row) => {\n  switch (true) {\n    case row.state === \"opened\":\n      return /* @__PURE__ */ React.createElement(Tooltip, { title: \"Open\" }, /* @__PURE__ */ React.createElement(\"span\", null, /* @__PURE__ */ React.createElement(StatusOpen, null)));\n    case row.state === \"locked\":\n      return /* @__PURE__ */ React.createElement(Tooltip, { title: \"Open\" }, /* @__PURE__ */ React.createElement(\"span\", null, /* @__PURE__ */ React.createElement(StatusOpen, null)));\n    case row.state === \"merged\":\n      return /* @__PURE__ */ React.createElement(Tooltip, { title: \"Merged\" }, /* @__PURE__ */ React.createElement(\"span\", null, /* @__PURE__ */ React.createElement(StatusMerged, null)));\n    case row.state === \"closed\":\n      return /* @__PURE__ */ React.createElement(Tooltip, { title: \"Closed\" }, /* @__PURE__ */ React.createElement(\"span\", null, /* @__PURE__ */ React.createElement(StatusClosed, null)));\n    default:\n      return null;\n  }\n};\n\nconst useStyles$1 = makeStyles((theme) => ({\n  infoCard: {\n    marginBottom: theme.spacing(3),\n    \"& + .MuiAlert-root\": {\n      marginTop: theme.spacing(3)\n    }\n  },\n  releaseTitle: {\n    ...theme.typography.h6,\n    margin: 0,\n    marginRight: \"0.5rem\"\n  },\n  releaseTagIcon: {\n    verticalAlign: \"middle\"\n  }\n}));\nfunction makeFilter(show) {\n  switch (show) {\n    case \"patch\":\n      return (value) => {\n        try {\n          return prerelease(value.tag_name) === null;\n        } catch (error) {\n          return true;\n        }\n      };\n    case \"all\":\n    default:\n      return () => true;\n  }\n}\nconst ReleasesCard = (props) => {\n  const { show = \"all\", limit = 6 } = props;\n  const classes = useStyles$1();\n  const project_id = gitlabProjectId();\n  const project_slug = gitlabProjectSlug();\n  const gitlab_instance = gitlabInstance();\n  const GitlabCIAPI = useApi(GitlabCIApiRef).build(\n    gitlab_instance || \"gitlab.com\"\n  );\n  const { value, loading, error } = useAsync(async () => {\n    const projectDetails = await GitlabCIAPI.getProjectDetails(\n      project_slug || project_id\n    );\n    if (!projectDetails)\n      throw new Error(\"wrong project_slug or project_id\");\n    const releaseData = await GitlabCIAPI.getReleasesSummary(\n      projectDetails.id\n    );\n    if (!releaseData)\n      throw new Error(\"Release data are undefined!\");\n    return {\n      releases: releaseData,\n      projectDetails\n    };\n  }, []);\n  const project_web_url = value == null ? void 0 : value.projectDetails.web_url;\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"error\", className: classes.infoCard }, error.message);\n  }\n  let releases = [];\n  if ((value == null ? void 0 : value.releases) != null) {\n    value == null ? void 0 : value.releases.filter(makeFilter(show)).sort((a, b) => {\n      try {\n        return rcompare(a.tag_name, b.tag_name);\n      } catch (error2) {\n        return a.tag_name > b.tag_name ? 1 : -1;\n      }\n    }).forEach((release) => {\n      if (!valid(release.tag_name)) {\n        releases.push(release);\n        return;\n      }\n      const idx = releases.findIndex((value2) => {\n        return release.tag_name.startsWith(value2.tag_name);\n      });\n      if (idx < 0)\n        releases.push(release);\n    });\n  }\n  releases = releases.sort((a, b) => {\n    try {\n      return rcompare(a.tag_name, b.tag_name);\n    } catch (error2) {\n      return a.tag_name > b.tag_name ? -1 : 1;\n    }\n  }).slice(0, limit);\n  if (releases.length === 0) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null);\n  }\n  return /* @__PURE__ */ React.createElement(\n    InfoCard,\n    {\n      title: \"Releases\",\n      deepLink: {\n        link: `${project_web_url}/-/releases`,\n        title: \"go to Releases\",\n        onClick: (e) => {\n          e.preventDefault();\n          window.open(`${project_web_url}/-/releases`);\n        }\n      },\n      className: classes.infoCard\n    },\n    /* @__PURE__ */ React.createElement(Grid, { container: true, spacing: 2, justifyContent: \"flex-start\" }, releases.map((release) => /* @__PURE__ */ React.createElement(Grid, { item: true, key: release.tag_name }, /* @__PURE__ */ React.createElement(\n      Link$1,\n      {\n        href: project_web_url + \"/-/releases/\" + release.tag_name,\n        color: \"inherit\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\"\n      },\n      /* @__PURE__ */ React.createElement(\"div\", { className: classes.releaseTitle }, release.name),\n      /* @__PURE__ */ React.createElement(\n        LocalOfferOutlinedIcon,\n        {\n          fontSize: \"inherit\",\n          className: classes.releaseTagIcon\n        }\n      ),\n      release.tag_name\n    ))))\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  infoCard: {\n    marginBottom: theme.spacing(3),\n    \"& + .MuiAlert-root\": {\n      marginTop: theme.spacing(3)\n    }\n  }\n}));\nconst ReadmeCard = ({}) => {\n  const classes = useStyles();\n  const project_id = gitlabProjectId();\n  const project_slug = gitlabProjectSlug();\n  const gitlab_instance = gitlabInstance();\n  const readme_path = gitlabReadmePath();\n  const GitlabCIAPI = useApi(GitlabCIApiRef).build(\n    gitlab_instance || \"gitlab.com\"\n  );\n  const { value, loading, error } = useAsync(async () => {\n    const projectDetails = await GitlabCIAPI.getProjectDetails(\n      project_slug || project_id\n    );\n    if (!projectDetails)\n      throw new Error(\"wrong project_slug or project_id\");\n    let readmeData = void 0;\n    try {\n      readmeData = await GitlabCIAPI.getReadme(\n        projectDetails.id,\n        projectDetails.default_branch,\n        readme_path\n      );\n    } catch (error2) {\n      readmeData = void 0;\n    }\n    return {\n      readme: readmeData\n    };\n  }, []);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"error\", className: classes.infoCard }, error.message);\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, { title: \"README\", className: classes.infoCard }, /* @__PURE__ */ React.createElement(\n    MarkdownContent,\n    {\n      content: (value == null ? void 0 : value.readme) || \"No README found\",\n      dialect: \"gfm\"\n    }\n  ));\n};\n\nconst isGitlabAvailable = (entity) => isGitlabProjectIDAnnotationAvailable(entity) || isGitlabSlugAnnotationAvailable(entity);\nconst isGitlabProjectIDAnnotationAvailable = (entity) => {\n  var _a;\n  return Boolean((_a = entity.metadata.annotations) == null ? void 0 : _a[GITLAB_ANNOTATION_PROJECT_ID]);\n};\nconst isGitlabSlugAnnotationAvailable = (entity) => {\n  var _a;\n  return Boolean((_a = entity.metadata.annotations) == null ? void 0 : _a[GITLAB_ANNOTATION_PROJECT_SLUG]);\n};\n\nexport { EntityGitlabContent as E, GitlabCIApiRef as G, LanguagesCard as L, MergeRequestStats$1 as M, PeopleCard as P, ReleasesCard as R, gitlabProjectId as a, gitlabProjectSlug as b, gitlabInstance as c, getElapsedTime as d, getDuration as e, ReadmeCard as f, getStatusIconType as g, EntityGitlabPeopleCard as h, EntityGitlabIssuesTable as i, EntityGitlabLanguageCard as j, EntityGitlabMergeRequestsTable as k, EntityGitlabMergeRequestStatsCard as l, EntityGitlabPipelinesTable as m, EntityGitlabReleasesCard as n, EntityGitlabReadmeCard as o, gitlabPlugin as p, isGitlabAvailable as q, GitlabCIClient as r };\n//# sourceMappingURL=index-116ceac7.esm.js.map\n","import { useApi, alertApiRef, useAnalytics, configApiRef, errorApiRef, storageApiRef, useApp, oauthRequestApiRef, useApiHolder, attachComponentData, useElementFilter, discoveryApiRef } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport pluralize from 'pluralize';\nimport React, { useState, useEffect, useRef, useCallback, useLayoutEffect, lazy, Suspense, useMemo, Component as Component$3, Children, isValidElement, useContext, Fragment, forwardRef, createContext } from 'react';\nimport MaterialAvatar from '@material-ui/core/Avatar';\nimport { makeStyles, useTheme, darken, lighten, withStyles, createStyles, styled, alpha, ThemeProvider } from '@material-ui/core/styles';\nimport Button$1 from '@material-ui/core/Button';\nimport MaterialLink from '@material-ui/core/Link';\nimport classNames from 'classnames';\nimport { trimEnd, isEqual, transform, orderBy, isMatch } from 'lodash';\nimport { Link as Link$1, createRoutesFromChildren, Route as Route$1, useSearchParams, useNavigate, useParams, useRoutes, matchRoutes, useLocation, useResolvedPath as useResolvedPath$1, resolvePath } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport LightAsync from 'react-syntax-highlighter/dist/esm/light-async';\nimport dark from 'react-syntax-highlighter/dist/esm/styles/hljs/dark';\nimport docco from 'react-syntax-highlighter/dist/esm/styles/hljs/docco';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport useCopyToClipboard from 'react-use/lib/useCopyToClipboard';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\nimport * as d3Zoom from 'd3-zoom';\nimport * as d3Selection from 'd3-selection';\nimport useTheme$1 from '@material-ui/core/styles/useTheme';\nimport dagre from 'dagre';\nimport debounce from 'lodash/debounce';\nimport makeStyles$1 from '@material-ui/core/styles/makeStyles';\nimport * as d3Shape from 'd3-shape';\nimport isFinite from 'lodash/isFinite';\nimport useObservable from 'react-use/lib/useObservable';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Grid from '@material-ui/core/Grid';\nimport missingAnnotation from './components/EmptyState/assets/missingAnnotation.svg';\nimport noInformation from './components/EmptyState/assets/noInformation.svg';\nimport createComponent from './components/EmptyState/assets/createComponent.svg';\nimport noBuild from './components/EmptyState/assets/noBuild.svg';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Divider from '@material-ui/core/Divider';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport { createPortal } from 'react-dom';\nimport LinkIcon from '@material-ui/icons/Link';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport { isError, ResponseError, ForwardedError } from '@backstage/errors';\nimport TextTruncate from 'react-text-truncate';\nimport { useIsMounted, useDebouncedEffect, useLocalStorageValue, useAsync, useMountEffect } from '@react-hookz/web';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport { Circle, Line } from 'rc-progress';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputBase from '@material-ui/core/InputBase';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport MuiStepper from '@material-ui/core/Stepper';\nimport MuiStep from '@material-ui/core/Step';\nimport StepContent from '@material-ui/core/StepContent';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport startCase from 'lodash/startCase';\nimport Table$1 from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popover from '@material-ui/core/Popover';\nimport qs from 'qs';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport { Helmet } from 'react-helmet';\nimport TabUI from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport MTable, { MTableHeader, MTableToolbar, MTableBody } from '@material-table/core';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { Sparklines, SparklinesLine } from 'react-sparklines';\nimport MicDropSvgUrl from './layout/ErrorPage/mic-drop.svg';\nimport MaterialBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport Drawer from '@material-ui/core/Drawer';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport Badge from '@material-ui/core/Badge';\nimport TextField from '@material-ui/core/TextField';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport Collapse from '@material-ui/core/Collapse';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport { z } from 'zod';\nimport { useForm } from 'react-hook-form';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport isEmpty from 'lodash/isEmpty';\n\nfunction AlertDisplay(props) {\n  const [messages, setMessages] = useState([]);\n  const alertApi = useApi(alertApiRef);\n  const {\n    anchorOrigin = { vertical: \"top\", horizontal: \"center\" },\n    transientTimeoutMs\n  } = props;\n  const timeoutMs = transientTimeoutMs != null ? transientTimeoutMs : 5e3;\n  useEffect(() => {\n    const subscription = alertApi.alert$().subscribe((message) => setMessages((msgs) => msgs.concat(message)));\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [alertApi]);\n  const [firstMessage] = messages;\n  useEffect(() => {\n    if (firstMessage && firstMessage.display === \"transient\") {\n      const timeout = setTimeout(() => {\n        setMessages((msgs) => {\n          const newMsgs = msgs.filter((msg) => msg !== firstMessage);\n          return newMsgs.length === msgs.length ? msgs : newMsgs;\n        });\n      }, timeoutMs);\n      return () => clearTimeout(timeout);\n    }\n    return void 0;\n  }, [firstMessage, timeoutMs]);\n  if (messages.length === 0) {\n    return null;\n  }\n  const handleClose = () => {\n    setMessages((msgs) => msgs.filter((msg) => msg !== firstMessage));\n  };\n  return /* @__PURE__ */ React.createElement(Snackbar, { open: true, anchorOrigin }, /* @__PURE__ */ React.createElement(\n    Alert,\n    {\n      action: /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          color: \"inherit\",\n          size: \"small\",\n          onClick: handleClose,\n          \"data-testid\": \"error-button-close\"\n        },\n        /* @__PURE__ */ React.createElement(CloseIcon, null)\n      ),\n      severity: firstMessage.severity\n    },\n    /* @__PURE__ */ React.createElement(Typography, { component: \"span\" }, String(firstMessage.message), messages.length > 1 && /* @__PURE__ */ React.createElement(\"em\", null, ` (${messages.length - 1} older ${pluralize(\n      \"message\",\n      messages.length - 1\n    )})`))\n  ));\n}\n\nfunction stringToColor(str) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = \"#\";\n  for (let i = 0; i < 3; i++) {\n    const value = hash >> i * 8 & 255;\n    color += `00${value.toString(16)}`.slice(-2);\n  }\n  return color;\n}\nfunction extractInitials(value) {\n  var _a;\n  return (_a = value.match(/(?<!\\p{L})\\p{L}/gu)) == null ? void 0 : _a.join(\"\").slice(0, 2);\n}\n\nconst useStyles$O = makeStyles(\n  (theme) => ({\n    avatar: {\n      width: \"4rem\",\n      height: \"4rem\",\n      color: theme.palette.common.white\n    },\n    avatarText: {\n      fontWeight: theme.typography.fontWeightBold,\n      letterSpacing: \"1px\",\n      textTransform: \"uppercase\"\n    }\n  }),\n  { name: \"BackstageAvatar\" }\n);\nfunction Avatar(props) {\n  const { displayName, picture, customStyles } = props;\n  const classes = useStyles$O();\n  let styles = { ...customStyles };\n  const fontStyles = {\n    fontFamily: styles.fontFamily,\n    fontSize: styles.fontSize,\n    fontWeight: styles.fontWeight\n  };\n  if (!picture) {\n    styles = {\n      backgroundColor: stringToColor(displayName || \"\"),\n      ...customStyles\n    };\n  }\n  return /* @__PURE__ */ React.createElement(\n    MaterialAvatar,\n    {\n      alt: displayName,\n      src: picture,\n      className: classes.avatar,\n      style: styles\n    },\n    displayName && /* @__PURE__ */ React.createElement(\n      Typography,\n      {\n        variant: \"h6\",\n        component: \"span\",\n        className: classes.avatarText,\n        style: fontStyles\n      },\n      extractInitials(displayName)\n    )\n  );\n}\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ React.createElement(Route$1, { index: true, element: /* @__PURE__ */ React.createElement(\"div\", null) }));\n  return !obj.index;\n}\nconst useStyles$N = makeStyles(\n  {\n    visuallyHidden: {\n      clip: \"rect(0 0 0 0)\",\n      clipPath: \"inset(50%)\",\n      overflow: \"hidden\",\n      position: \"absolute\",\n      whiteSpace: \"nowrap\",\n      height: 1,\n      width: 1\n    },\n    externalLink: {\n      position: \"relative\"\n    }\n  },\n  { name: \"Link\" }\n);\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nconst originalWindowOpen = window.open;\nif (originalWindowOpen && !originalWindowOpen.__backstage) {\n  const newOpen = function open(...args) {\n    const url = String(args[0]);\n    if (scriptProtocolPattern.test(url)) {\n      throw new Error(\n        \"Rejected window.open() with a javascript: URL as a security precaution\"\n      );\n    }\n    return originalWindowOpen.apply(this, args);\n  };\n  newOpen.__backstage = true;\n  window.open = newOpen;\n}\nconst useBaseUrl = () => {\n  try {\n    const config = useApi(configApiRef);\n    return config.getOptionalString(\"app.baseUrl\");\n  } catch {\n    return void 0;\n  }\n};\nconst useBasePath = () => {\n  var _a;\n  const base = \"http://sample.dev\";\n  const url = (_a = useBaseUrl()) != null ? _a : \"/\";\n  const { pathname } = new URL(url, base);\n  return trimEnd(pathname, \"/\");\n};\nconst useResolvedPath = (uri) => {\n  let resolvedPath = String(uri);\n  const basePath = useBasePath();\n  const external = isExternalUri(resolvedPath);\n  const startsWithBasePath = resolvedPath.startsWith(basePath);\n  if (!external && !startsWithBasePath) {\n    resolvedPath = basePath.concat(resolvedPath);\n  }\n  return resolvedPath;\n};\nconst getNodeText = (node) => {\n  var _a;\n  if (node instanceof Array) {\n    return node.map(getNodeText).join(\" \").trim();\n  }\n  if (typeof node === \"object\" && node) {\n    return getNodeText((_a = node == null ? void 0 : node.props) == null ? void 0 : _a.children);\n  }\n  if ([\"string\", \"number\"].includes(typeof node)) {\n    return String(node);\n  }\n  return \"\";\n};\nconst Link = React.forwardRef(\n  ({ onClick, noTrack, ...props }, ref) => {\n    const classes = useStyles$N();\n    const analytics = useAnalytics();\n    const to = isReactRouterBeta() ? useResolvedPath(props.to) : props.to;\n    const linkText = getNodeText(props.children) || to;\n    const external = isExternalUri(to);\n    const newWindow = external && !!/^https?:/.exec(to);\n    if (scriptProtocolPattern.test(to)) {\n      throw new Error(\n        \"Link component rejected javascript: URL as a security precaution\"\n      );\n    }\n    const handleClick = (event) => {\n      onClick == null ? void 0 : onClick(event);\n      if (!noTrack) {\n        analytics.captureEvent(\"click\", linkText, { attributes: { to } });\n      }\n    };\n    return external ? (\n      // External links\n      /* @__PURE__ */ React.createElement(\n        MaterialLink,\n        {\n          ...newWindow ? { target: \"_blank\", rel: \"noopener\" } : {},\n          ...props,\n          ...props[\"aria-label\"] ? { \"aria-label\": `${props[\"aria-label\"]}, Opens in a new window` } : {},\n          ref,\n          href: to,\n          onClick: handleClick,\n          className: classNames(classes.externalLink, props.className)\n        },\n        props.children,\n        /* @__PURE__ */ React.createElement(Typography, { component: \"span\", className: classes.visuallyHidden }, \", Opens in a new window\")\n      )\n    ) : (\n      // Interact with React Router for internal links\n      /* @__PURE__ */ React.createElement(\n        MaterialLink,\n        {\n          ...props,\n          ref,\n          component: Link$1,\n          to,\n          onClick: handleClick\n        }\n      )\n    );\n  }\n);\n\nconst LinkWrapper = React.forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Link, { ref, ...props, color: \"initial\" }));\nconst LinkButton = React.forwardRef(\n  (props, ref) => /* @__PURE__ */ React.createElement(Button$1, { ref, component: LinkWrapper, ...props })\n);\nconst Button = LinkButton;\n\nfunction CopyTextButton(props) {\n  const {\n    text,\n    tooltipDelay = 1e3,\n    tooltipText = \"Text copied to clipboard\",\n    \"aria-label\": ariaLabel = \"Copy text\"\n  } = props;\n  const errorApi = useApi(errorApiRef);\n  const [open, setOpen] = useState(false);\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    copyToClipboard(text);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    Tooltip,\n    {\n      id: \"copy-test-tooltip\",\n      title: tooltipText,\n      placement: \"top\",\n      leaveDelay: tooltipDelay,\n      onClose: () => setOpen(false),\n      open\n    },\n    /* @__PURE__ */ React.createElement(IconButton, { onClick: handleCopyClick, \"aria-label\": ariaLabel }, /* @__PURE__ */ React.createElement(CopyIcon, null))\n  ));\n}\n\nfunction CodeSnippet(props) {\n  const {\n    text,\n    language,\n    showLineNumbers = false,\n    highlightedNumbers,\n    customStyle,\n    showCopyCodeButton = false\n  } = props;\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ React.createElement(Box, { position: \"relative\" }, /* @__PURE__ */ React.createElement(\n    LightAsync,\n    {\n      customStyle,\n      language,\n      style: mode,\n      showLineNumbers,\n      wrapLines: true,\n      lineNumberStyle: { color: theme.palette.textVerySubtle },\n      lineProps: (lineNumber) => (highlightedNumbers == null ? void 0 : highlightedNumbers.includes(lineNumber)) ? {\n        style: {\n          backgroundColor: highlightColor\n        }\n      } : {}\n    },\n    text\n  ), showCopyCodeButton && /* @__PURE__ */ React.createElement(Box, { position: \"absolute\", top: 0, right: 0 }, /* @__PURE__ */ React.createElement(CopyTextButton, { text })));\n}\n\nfunction CreateButton(props) {\n  const { title, to } = props;\n  const isXSScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"xs\")\n  );\n  if (!to) {\n    return null;\n  }\n  return isXSScreen ? /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      component: Link$1,\n      color: \"primary\",\n      title,\n      size: \"small\",\n      to\n    },\n    /* @__PURE__ */ React.createElement(AddCircleOutline, null)\n  ) : /* @__PURE__ */ React.createElement(Button$1, { component: Link$1, variant: \"contained\", color: \"primary\", to }, title);\n}\n\nvar DependencyGraphTypes;\n((DependencyGraphTypes2) => {\n  ((Direction2) => {\n    Direction2[\"TOP_BOTTOM\"] = \"TB\";\n    Direction2[\"BOTTOM_TOP\"] = \"BT\";\n    Direction2[\"LEFT_RIGHT\"] = \"LR\";\n    Direction2[\"RIGHT_LEFT\"] = \"RL\";\n  })(DependencyGraphTypes2.Direction || (DependencyGraphTypes2.Direction = {}));\n  ((Alignment2) => {\n    Alignment2[\"UP_LEFT\"] = \"UL\";\n    Alignment2[\"UP_RIGHT\"] = \"UR\";\n    Alignment2[\"DOWN_LEFT\"] = \"DL\";\n    Alignment2[\"DOWN_RIGHT\"] = \"DR\";\n  })(DependencyGraphTypes2.Alignment || (DependencyGraphTypes2.Alignment = {}));\n  ((Ranker2) => {\n    Ranker2[\"NETWORK_SIMPLEX\"] = \"network-simplex\";\n    Ranker2[\"TIGHT_TREE\"] = \"tight-tree\";\n    Ranker2[\"LONGEST_PATH\"] = \"longest-path\";\n  })(DependencyGraphTypes2.Ranker || (DependencyGraphTypes2.Ranker = {}));\n  ((LabelPosition2) => {\n    LabelPosition2[\"LEFT\"] = \"l\";\n    LabelPosition2[\"RIGHT\"] = \"r\";\n    LabelPosition2[\"CENTER\"] = \"c\";\n  })(DependencyGraphTypes2.LabelPosition || (DependencyGraphTypes2.LabelPosition = {}));\n})(DependencyGraphTypes || (DependencyGraphTypes = {}));\n\nconst useStyles$M = makeStyles(\n  (theme) => ({\n    node: {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    text: {\n      fill: theme.palette.primary.contrastText\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultNode\" }\n);\nfunction DefaultNode({ node: { id } }) {\n  const classes = useStyles$M();\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const idRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const padding = 10;\n  const paddedWidth = width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  return /* @__PURE__ */ React.createElement(\"g\", null, /* @__PURE__ */ React.createElement(\n    \"rect\",\n    {\n      className: classes.node,\n      width: paddedWidth,\n      height: paddedHeight,\n      rx: 10\n    }\n  ), /* @__PURE__ */ React.createElement(\n    \"text\",\n    {\n      ref: idRef,\n      className: classes.text,\n      y: paddedHeight / 2,\n      x: paddedWidth / 2,\n      textAnchor: \"middle\",\n      alignmentBaseline: \"middle\"\n    },\n    id\n  ));\n}\n\nconst ARROW_MARKER_ID = \"arrow-marker\";\nconst NODE_TEST_ID = \"node\";\nconst EDGE_TEST_ID = \"edge\";\nconst LABEL_TEST_ID = \"label\";\n\nconst useStyles$L = makeStyles$1(\n  (theme) => ({\n    node: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphNode\" }\n);\nconst renderDefault$1 = (props) => /* @__PURE__ */ React.createElement(DefaultNode, { ...props });\nfunction Node({\n  render = renderDefault$1,\n  setNode,\n  node\n}) {\n  const { width, height, x = 0, y = 0 } = node;\n  const nodeProps = node;\n  const classes = useStyles$L();\n  const nodeRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (nodeRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = nodeRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setNode(node.id, {\n          ...node,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [node, width, height, setNode]);\n  return /* @__PURE__ */ React.createElement(\n    \"g\",\n    {\n      ref: nodeRef,\n      \"data-testid\": NODE_TEST_ID,\n      className: classes.node,\n      transform: `translate(${x - width / 2},${y - height / 2})`\n    },\n    render({ node: nodeProps })\n  );\n}\n\nconst useStyles$K = makeStyles$1(\n  (theme) => ({\n    text: {\n      fill: theme.palette.textContrast\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultLabel\" }\n);\nfunction DefaultLabel({ edge: { label } }) {\n  const classes = useStyles$K();\n  return /* @__PURE__ */ React.createElement(\"text\", { className: classes.text, textAnchor: \"middle\" }, label);\n}\n\nconst useStyles$J = makeStyles$1(\n  (theme) => ({\n    path: {\n      strokeWidth: 1,\n      stroke: theme.palette.textSubtle,\n      fill: \"none\",\n      transition: `${theme.transitions.duration.shortest}ms`\n    },\n    label: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphEdge\" }\n);\nconst renderDefault = (props) => /* @__PURE__ */ React.createElement(DefaultLabel, { ...props });\nfunction Edge({\n  render = renderDefault,\n  setEdge,\n  id,\n  edge,\n  curve\n}) {\n  const { x = 0, y = 0, width, height, points } = edge;\n  const labelProps = edge;\n  const classes = useStyles$J();\n  const labelRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (labelRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = labelRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setEdge(id, {\n          ...edge,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [edge, height, width, setEdge, id]);\n  let path = \"\";\n  const createPath = React.useMemo(\n    () => d3Shape.line().x((d) => d.x).y((d) => d.y).curve(d3Shape[curve]),\n    [curve]\n  );\n  if (points) {\n    const finitePoints = points.filter(\n      (point) => isFinite(point.x) && isFinite(point.y)\n    );\n    path = createPath(finitePoints) || \"\";\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, path && /* @__PURE__ */ React.createElement(\"path\", { \"data-testid\": EDGE_TEST_ID, className: classes.path, d: path }), labelProps.label ? /* @__PURE__ */ React.createElement(\n    \"g\",\n    {\n      ref: labelRef,\n      \"data-testid\": LABEL_TEST_ID,\n      className: classes.label,\n      transform: `translate(${x},${y})`\n    },\n    render({ edge: labelProps })\n  ) : null);\n}\n\nconst WORKSPACE_ID = \"workspace\";\nfunction DependencyGraph(props) {\n  var _a, _b;\n  const {\n    edges,\n    nodes,\n    renderNode,\n    direction = DependencyGraphTypes.Direction.TOP_BOTTOM,\n    align,\n    nodeMargin = 50,\n    edgeMargin = 10,\n    rankMargin = 50,\n    paddingX = 0,\n    paddingY = 0,\n    acyclicer,\n    ranker = DependencyGraphTypes.Ranker.NETWORK_SIMPLEX,\n    labelPosition = DependencyGraphTypes.LabelPosition.RIGHT,\n    labelOffset = 10,\n    edgeRanks = 1,\n    edgeWeight = 1,\n    renderLabel,\n    defs,\n    zoom = \"enabled\",\n    curve = \"curveMonotoneX\",\n    fit = \"grow\",\n    ...svgProps\n  } = props;\n  const theme = useTheme$1();\n  const [containerWidth, setContainerWidth] = React.useState(100);\n  const [containerHeight, setContainerHeight] = React.useState(100);\n  const graph = React.useRef(new dagre.graphlib.Graph());\n  const [graphWidth, setGraphWidth] = React.useState(\n    ((_a = graph.current.graph()) == null ? void 0 : _a.width) || 0\n  );\n  const [graphHeight, setGraphHeight] = React.useState(\n    ((_b = graph.current.graph()) == null ? void 0 : _b.height) || 0\n  );\n  const [graphNodes, setGraphNodes] = React.useState([]);\n  const [graphEdges, setGraphEdges] = React.useState([]);\n  const maxWidth = Math.max(graphWidth, containerWidth);\n  const maxHeight = Math.max(graphHeight, containerHeight);\n  const minHeight = Math.min(graphHeight, containerHeight);\n  const scalableHeight = fit === \"grow\" ? maxHeight : minHeight;\n  const containerRef = React.useMemo(\n    () => debounce((node) => {\n      if (!node) {\n        return;\n      }\n      const container = d3Selection.select(node);\n      const workspace = d3Selection.select(node.getElementById(WORKSPACE_ID));\n      function enableZoom() {\n        container.call(\n          d3Zoom.zoom().scaleExtent([1, Infinity]).on(\"zoom\", (event) => {\n            event.transform.x = Math.min(\n              0,\n              Math.max(\n                event.transform.x,\n                maxWidth - maxWidth * event.transform.k\n              )\n            );\n            event.transform.y = Math.min(\n              0,\n              Math.max(\n                event.transform.y,\n                maxHeight - maxHeight * event.transform.k\n              )\n            );\n            workspace.attr(\"transform\", event.transform);\n          })\n        );\n      }\n      if (zoom === \"enabled\") {\n        enableZoom();\n      } else if (zoom === \"enable-on-click\") {\n        container.on(\"click\", () => enableZoom());\n      }\n      const { width: newContainerWidth, height: newContainerHeight } = node.getBoundingClientRect();\n      if (containerWidth !== newContainerWidth) {\n        setContainerWidth(newContainerWidth);\n      }\n      if (containerHeight !== newContainerHeight) {\n        setContainerHeight(newContainerHeight);\n      }\n    }, 100),\n    [containerHeight, containerWidth, maxWidth, maxHeight, zoom]\n  );\n  const setNodesAndEdges = React.useCallback(() => {\n    const currentGraphNodes = graph.current.nodes();\n    const currentGraphEdges = graph.current.edges();\n    currentGraphNodes.forEach((nodeId) => {\n      const remainingNode = nodes.some((node) => node.id === nodeId);\n      if (!remainingNode) {\n        graph.current.removeNode(nodeId);\n      }\n    });\n    currentGraphEdges.forEach((e) => {\n      const remainingEdge = edges.some(\n        (edge) => edge.from === e.v && edge.to === e.w\n      );\n      if (!remainingEdge) {\n        graph.current.removeEdge(e.v, e.w);\n      }\n    });\n    nodes.forEach((node) => {\n      const existingNode = graph.current.nodes().find((nodeId) => node.id === nodeId);\n      if (existingNode && graph.current.node(existingNode)) {\n        const { width, height, x, y } = graph.current.node(existingNode);\n        graph.current.setNode(existingNode, { ...node, width, height, x, y });\n      } else {\n        graph.current.setNode(node.id, { ...node, width: 0, height: 0 });\n      }\n    });\n    edges.forEach((e) => {\n      graph.current.setEdge(e.from, e.to, {\n        ...e,\n        label: e.label,\n        width: 0,\n        height: 0,\n        labelpos: labelPosition,\n        labeloffset: labelOffset,\n        weight: edgeWeight,\n        minlen: edgeRanks\n      });\n    });\n  }, [edges, nodes, labelPosition, labelOffset, edgeWeight, edgeRanks]);\n  const updateGraph = React.useMemo(\n    () => debounce(\n      () => {\n        dagre.layout(graph.current);\n        const { height, width } = graph.current.graph();\n        const newHeight = Math.max(0, height || 0);\n        const newWidth = Math.max(0, width || 0);\n        setGraphWidth(newWidth);\n        setGraphHeight(newHeight);\n        setGraphNodes(graph.current.nodes());\n        setGraphEdges(graph.current.edges());\n      },\n      250,\n      { leading: true }\n    ),\n    []\n  );\n  React.useEffect(() => {\n    graph.current.setGraph({\n      rankdir: direction,\n      align,\n      nodesep: nodeMargin,\n      edgesep: edgeMargin,\n      ranksep: rankMargin,\n      marginx: paddingX,\n      marginy: paddingY,\n      acyclicer,\n      ranker\n    });\n    setNodesAndEdges();\n    updateGraph();\n    return updateGraph.cancel;\n  }, [\n    acyclicer,\n    align,\n    direction,\n    edgeMargin,\n    paddingX,\n    paddingY,\n    nodeMargin,\n    rankMargin,\n    ranker,\n    setNodesAndEdges,\n    updateGraph\n  ]);\n  function setNode(id, node) {\n    graph.current.setNode(id, node);\n    updateGraph();\n    return graph.current;\n  }\n  function setEdge(id, edge) {\n    graph.current.setEdge(id, edge);\n    updateGraph();\n    return graph.current;\n  }\n  return /* @__PURE__ */ React.createElement(\n    \"svg\",\n    {\n      ref: containerRef,\n      ...svgProps,\n      width: \"100%\",\n      height: scalableHeight,\n      viewBox: `0 0 ${maxWidth} ${maxHeight}`\n    },\n    /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\n      \"marker\",\n      {\n        id: ARROW_MARKER_ID,\n        viewBox: \"0 0 24 24\",\n        markerWidth: \"14\",\n        markerHeight: \"14\",\n        refX: \"16\",\n        refY: \"12\",\n        orient: \"auto\",\n        markerUnits: \"strokeWidth\"\n      },\n      /* @__PURE__ */ React.createElement(\n        \"path\",\n        {\n          fill: theme.palette.textSubtle,\n          d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n        }\n      )\n    ), defs),\n    /* @__PURE__ */ React.createElement(\"g\", { id: WORKSPACE_ID }, /* @__PURE__ */ React.createElement(\n      \"svg\",\n      {\n        width: graphWidth,\n        height: graphHeight,\n        y: maxHeight / 2 - graphHeight / 2,\n        x: maxWidth / 2 - graphWidth / 2,\n        viewBox: `0 0 ${graphWidth} ${graphHeight}`\n      },\n      graphEdges.map((e) => {\n        const edge = graph.current.edge(e);\n        if (!edge)\n          return null;\n        return /* @__PURE__ */ React.createElement(\n          Edge,\n          {\n            key: `${e.v}-${e.w}`,\n            id: e,\n            setEdge,\n            render: renderLabel,\n            edge,\n            curve\n          }\n        );\n      }),\n      graphNodes.map((id) => {\n        const node = graph.current.node(id);\n        if (!node)\n          return null;\n        return /* @__PURE__ */ React.createElement(\n          Node,\n          {\n            key: id,\n            setNode,\n            render: renderNode,\n            node\n          }\n        );\n      })\n    ))\n  );\n}\n\nconst useStyles$I = makeStyles(\n  (theme) => {\n    var _a, _b;\n    return {\n      root: {\n        padding: theme.spacing(0),\n        marginBottom: theme.spacing(0),\n        marginTop: theme.spacing(0),\n        display: \"flex\",\n        flexFlow: \"row nowrap\"\n      },\n      // showing on top\n      topPosition: {\n        position: \"relative\",\n        marginBottom: theme.spacing(6),\n        marginTop: -theme.spacing(3),\n        zIndex: \"unset\"\n      },\n      icon: {\n        fontSize: theme.typography.h6.fontSize\n      },\n      content: {\n        width: \"100%\",\n        maxWidth: \"inherit\",\n        flexWrap: \"nowrap\",\n        color: theme.palette.banner.text\n      },\n      message: {\n        display: \"flex\",\n        alignItems: \"center\",\n        \"& a\": {\n          color: theme.palette.banner.link\n        }\n      },\n      button: {\n        color: (_a = theme.palette.banner.closeButtonColor) != null ? _a : \"inherit\"\n      },\n      info: {\n        backgroundColor: theme.palette.banner.info\n      },\n      error: {\n        backgroundColor: theme.palette.banner.error\n      },\n      warning: {\n        backgroundColor: (_b = theme.palette.banner.warning) != null ? _b : theme.palette.banner.error\n      }\n    };\n  },\n  { name: \"BackstageDismissableBanner\" }\n);\nconst DismissableBanner = (props) => {\n  var _a;\n  const { variant, message, id, fixed = false } = props;\n  const classes = useStyles$I();\n  const storageApi = useApi(storageApiRef);\n  const notificationsStore = storageApi.forBucket(\"notifications\");\n  const rawDismissedBanners = (_a = notificationsStore.snapshot(\"dismissedBanners\").value) != null ? _a : [];\n  const [dismissedBanners, setDismissedBanners] = useState(\n    new Set(rawDismissedBanners)\n  );\n  const observedItems = useObservable(\n    notificationsStore.observe$(\"dismissedBanners\")\n  );\n  useEffect(() => {\n    var _a2;\n    if (observedItems == null ? void 0 : observedItems.value) {\n      const currentValue = (_a2 = observedItems == null ? void 0 : observedItems.value) != null ? _a2 : [];\n      setDismissedBanners(new Set(currentValue));\n    }\n  }, [observedItems == null ? void 0 : observedItems.value]);\n  const handleClick = () => {\n    notificationsStore.set(\"dismissedBanners\", [...dismissedBanners, id]);\n  };\n  return /* @__PURE__ */ React.createElement(\n    Snackbar,\n    {\n      anchorOrigin: fixed ? { vertical: \"bottom\", horizontal: \"center\" } : { vertical: \"top\", horizontal: \"center\" },\n      open: !dismissedBanners.has(id),\n      classes: {\n        root: classNames(classes.root, !fixed && classes.topPosition)\n      }\n    },\n    /* @__PURE__ */ React.createElement(\n      SnackbarContent,\n      {\n        classes: {\n          root: classNames(classes.content, classes[variant]),\n          message: classes.message\n        },\n        message,\n        action: [\n          /* @__PURE__ */ React.createElement(\n            IconButton,\n            {\n              key: \"dismiss\",\n              title: \"Permanently dismiss this message\",\n              className: classes.button,\n              onClick: handleClick\n            },\n            /* @__PURE__ */ React.createElement(CloseIcon, { className: classes.icon })\n          )\n        ]\n      }\n    )\n  );\n};\n\nconst useStyles$H = makeStyles(\n  {\n    generalImg: {\n      width: \"95%\",\n      zIndex: 2,\n      position: \"relative\",\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translate(-50%, 15%)\"\n    }\n  },\n  { name: \"BackstageEmptyStateImage\" }\n);\nconst EmptyStateImage = ({ missing }) => {\n  const classes = useStyles$H();\n  switch (missing) {\n    case \"field\":\n      return /* @__PURE__ */ React.createElement(\n        \"img\",\n        {\n          src: missingAnnotation,\n          className: classes.generalImg,\n          alt: \"annotation is missing\"\n        }\n      );\n    case \"info\":\n      return /* @__PURE__ */ React.createElement(\n        \"img\",\n        {\n          src: noInformation,\n          alt: \"no Information\",\n          className: classes.generalImg\n        }\n      );\n    case \"content\":\n      return /* @__PURE__ */ React.createElement(\n        \"img\",\n        {\n          src: createComponent,\n          alt: \"create Component\",\n          className: classes.generalImg\n        }\n      );\n    case \"data\":\n      return /* @__PURE__ */ React.createElement(\"img\", { src: noBuild, alt: \"no Build\", className: classes.generalImg });\n    default:\n      return null;\n  }\n};\n\nconst useStyles$G = makeStyles(\n  (theme) => ({\n    root: {\n      backgroundColor: theme.palette.background.default,\n      padding: theme.spacing(2, 0, 0, 0)\n    },\n    action: {\n      marginTop: theme.spacing(2)\n    },\n    imageContainer: {\n      position: \"relative\"\n    }\n  }),\n  { name: \"BackstageEmptyState\" }\n);\nfunction EmptyState(props) {\n  const { title, description, missing, action } = props;\n  const classes = useStyles$G();\n  return /* @__PURE__ */ React.createElement(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-around\",\n      alignItems: \"flex-start\",\n      className: classes.root,\n      spacing: 2\n    },\n    /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12, md: 6 }, /* @__PURE__ */ React.createElement(Grid, { container: true, direction: \"column\" }, /* @__PURE__ */ React.createElement(Grid, { item: true, xs: true }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h5\" }, title)), /* @__PURE__ */ React.createElement(Grid, { item: true, xs: true }, /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, description)), /* @__PURE__ */ React.createElement(Grid, { item: true, xs: true, className: classes.action }, action))),\n    /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12, md: 6, className: classes.imageContainer }, typeof missing === \"string\" ? /* @__PURE__ */ React.createElement(EmptyStateImage, { missing }) : missing.customImage)\n  );\n}\n\nconst COMPONENT_YAML_TEMPLATE = `apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: example\n  description: example.com\n  annotations:\n    ANNOTATION: value\nspec:\n  type: website\n  lifecycle: production\n  owner: user:guest`;\nconst ANNOTATION_REGEXP = /^.*ANNOTATION.*$/m;\nconst ANNOTATION_YAML = COMPONENT_YAML_TEMPLATE.match(ANNOTATION_REGEXP)[0];\nconst ANNOTATION_LINE = COMPONENT_YAML_TEMPLATE.split(\"\\n\").findIndex(\n  (line) => ANNOTATION_REGEXP.test(line)\n);\nconst useStyles$F = makeStyles(\n  (theme) => ({\n    code: {\n      borderRadius: 6,\n      margin: theme.spacing(2, 0),\n      background: theme.palette.type === \"dark\" ? \"#444\" : theme.palette.common.white\n    }\n  }),\n  { name: \"BackstageMissingAnnotationEmptyState\" }\n);\nfunction generateLineNumbers(lineCount) {\n  return Array.from(Array(lineCount + 1).keys(), (i) => i + ANNOTATION_LINE);\n}\nfunction generateComponentYaml(annotations) {\n  const annotationYaml = annotations.map((ann) => ANNOTATION_YAML.replace(\"ANNOTATION\", ann)).join(\"\\n\");\n  return COMPONENT_YAML_TEMPLATE.replace(ANNOTATION_YAML, annotationYaml);\n}\nfunction generateDescription(annotations) {\n  const isSingular = annotations.length <= 1;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, \"The \", isSingular ? \"annotation\" : \"annotations\", \" \", annotations.map((ann) => /* @__PURE__ */ React.createElement(\"code\", null, ann)).reduce((prev, curr) => /* @__PURE__ */ React.createElement(React.Fragment, null, prev, \", \", curr)), \" \", isSingular ? \"is\" : \"are\", \" missing. You need to add the\", \" \", isSingular ? \"annotation\" : \"annotations\", \" to your component if you want to enable this tool.\");\n}\nfunction MissingAnnotationEmptyState(props) {\n  const { annotation, readMoreUrl } = props;\n  const annotations = Array.isArray(annotation) ? annotation : [annotation];\n  const url = readMoreUrl || \"https://backstage.io/docs/features/software-catalog/well-known-annotations\";\n  const classes = useStyles$F();\n  return /* @__PURE__ */ React.createElement(\n    EmptyState,\n    {\n      missing: \"field\",\n      title: \"Missing Annotation\",\n      description: generateDescription(annotations),\n      action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, \"Add the annotation to your component YAML as shown in the highlighted example below:\"), /* @__PURE__ */ React.createElement(Box, { className: classes.code }, /* @__PURE__ */ React.createElement(\n        CodeSnippet,\n        {\n          text: generateComponentYaml(annotations),\n          language: \"yaml\",\n          showLineNumbers: true,\n          highlightedNumbers: generateLineNumbers(annotations.length),\n          customStyle: { background: \"inherit\", fontSize: \"115%\" }\n        }\n      )), /* @__PURE__ */ React.createElement(Button$1, { color: \"primary\", component: Link, to: url }, \"Read more\"))\n    }\n  );\n}\n\nconst getWarningTextColor = (severity, theme) => {\n  const getColor = theme.palette.type === \"light\" ? darken : lighten;\n  return getColor(theme.palette[severity].light, 0.6);\n};\nconst getWarningBackgroundColor = (severity, theme) => {\n  const getBackgroundColor = theme.palette.type === \"light\" ? lighten : darken;\n  return getBackgroundColor(theme.palette[severity].light, 0.9);\n};\nconst useErrorOutlineStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: theme.spacing(1),\n    fill: ({ severity }) => getWarningTextColor(\n      severity,\n      theme\n    )\n  }\n}));\nconst ErrorOutlineStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ React.createElement(ErrorOutline, { classes });\n};\nconst ExpandMoreIconStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ React.createElement(ExpandMoreIcon, { classes });\n};\nconst useStyles$E = makeStyles(\n  (theme) => ({\n    panel: {\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      ),\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      verticalAlign: \"middle\"\n    },\n    summary: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    summaryText: {\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      fontWeight: theme.typography.fontWeightBold\n    },\n    message: {\n      width: \"100%\",\n      display: \"block\",\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      )\n    },\n    details: {\n      width: \"100%\",\n      display: \"block\",\n      color: theme.palette.textContrast,\n      backgroundColor: theme.palette.background.default,\n      border: `1px solid ${theme.palette.border}`,\n      padding: theme.spacing(2),\n      fontFamily: \"sans-serif\"\n    }\n  }),\n  { name: \"BackstageWarningPanel\" }\n);\nconst capitalize = (s) => {\n  return s.charAt(0).toLocaleUpperCase(\"en-US\") + s.slice(1);\n};\nfunction WarningPanel(props) {\n  const {\n    severity = \"warning\",\n    title,\n    message,\n    children,\n    defaultExpanded\n  } = props;\n  const classes = useStyles$E({ severity });\n  const subTitle = capitalize(severity) + (title ? `: ${title}` : \"\");\n  return /* @__PURE__ */ React.createElement(\n    Accordion,\n    {\n      defaultExpanded: defaultExpanded != null ? defaultExpanded : false,\n      className: classes.panel,\n      role: \"alert\"\n    },\n    /* @__PURE__ */ React.createElement(\n      AccordionSummary,\n      {\n        expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIconStyled, { severity }),\n        className: classes.summary\n      },\n      /* @__PURE__ */ React.createElement(ErrorOutlineStyled, { severity }),\n      /* @__PURE__ */ React.createElement(Typography, { className: classes.summaryText, variant: \"subtitle1\" }, subTitle)\n    ),\n    (message || children) && /* @__PURE__ */ React.createElement(AccordionDetails, null, /* @__PURE__ */ React.createElement(Grid, { container: true }, message && /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12 }, /* @__PURE__ */ React.createElement(Typography, { className: classes.message, variant: \"body1\" }, message)), children && /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12, className: classes.details }, children)))\n  );\n}\n\nconst useStyles$D = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageErrorPanel\" }\n);\nconst ErrorList = ({\n  error,\n  message,\n  stack,\n  children\n}) => {\n  const classes = useStyles$D();\n  return /* @__PURE__ */ React.createElement(List, { dense: true }, /* @__PURE__ */ React.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Error\",\n      secondary: error\n    }\n  ), /* @__PURE__ */ React.createElement(CopyTextButton, { text: error })), /* @__PURE__ */ React.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Message\",\n      secondary: message\n    }\n  ), /* @__PURE__ */ React.createElement(CopyTextButton, { text: message })), stack && /* @__PURE__ */ React.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Stack Trace\",\n      secondary: stack\n    }\n  ), /* @__PURE__ */ React.createElement(CopyTextButton, { text: stack })), children);\n};\nfunction ErrorPanel(props) {\n  const { title, error, defaultExpanded, children } = props;\n  return /* @__PURE__ */ React.createElement(\n    WarningPanel,\n    {\n      severity: \"error\",\n      title: title != null ? title : error.message,\n      defaultExpanded\n    },\n    /* @__PURE__ */ React.createElement(\n      ErrorList,\n      {\n        error: error.name,\n        message: error.message,\n        stack: error.stack,\n        children\n      }\n    )\n  );\n}\n\nconst useStyles$C = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageResponseErrorPanel\" }\n);\nfunction ResponseErrorPanel(props) {\n  var _a;\n  const { title, error, defaultExpanded } = props;\n  const classes = useStyles$C();\n  if (error.name !== \"ResponseError\") {\n    return /* @__PURE__ */ React.createElement(\n      ErrorPanel,\n      {\n        title: title != null ? title : error.message,\n        defaultExpanded,\n        error\n      }\n    );\n  }\n  const { body, cause } = error;\n  const { request, response } = body;\n  const errorString = `${response.statusCode}: ${cause.name}`;\n  const requestString = request && `${request.method} ${request.url}`;\n  const messageString = cause.message.replace(/\\\\n/g, \"\\n\");\n  const stackString = (_a = cause.stack) == null ? void 0 : _a.replace(/\\\\n/g, \"\\n\");\n  const jsonString = JSON.stringify(body, void 0, 2);\n  return /* @__PURE__ */ React.createElement(\n    ErrorPanel,\n    {\n      title: title != null ? title : error.message,\n      defaultExpanded,\n      error: { name: errorString, message: messageString, stack: stackString }\n    },\n    requestString && /* @__PURE__ */ React.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React.createElement(\n      ListItemText,\n      {\n        classes: { secondary: classes.text },\n        primary: \"Request\",\n        secondary: request ? `${requestString}` : void 0\n      }\n    ), /* @__PURE__ */ React.createElement(CopyTextButton, { text: requestString })),\n    /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Divider, { component: \"li\", className: classes.divider }), /* @__PURE__ */ React.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React.createElement(\n      ListItemText,\n      {\n        classes: { secondary: classes.text },\n        primary: \"Full Error as JSON\"\n      }\n    )), /* @__PURE__ */ React.createElement(CodeSnippet, { language: \"json\", text: jsonString, showCopyCodeButton: true }))\n  );\n}\n\nfunction createRootElement(id) {\n  const rootContainer = document.createElement(\"div\");\n  rootContainer.setAttribute(\"id\", id);\n  return rootContainer;\n}\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(\n    rootElem,\n    document.body.lastElementChild.nextElementSibling\n  );\n}\nfunction usePortal(id) {\n  const rootElemRef = useRef(null);\n  useEffect(\n    function setupElement() {\n      const existingParent = document.querySelector(`#${id}`);\n      const parentElem = existingParent || createRootElement(id);\n      if (!existingParent) {\n        addRootElement(parentElem);\n      }\n      parentElem.appendChild(rootElemRef.current);\n      return function removeElement() {\n        rootElemRef.current.remove();\n        if (parentElem.childNodes.length === -1) {\n          parentElem.remove();\n        }\n      };\n    },\n    [id]\n  );\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement(\"div\");\n    }\n    return rootElemRef.current;\n  }\n  return getRootElem();\n}\n\nconst STATES_LOCAL_STORAGE_KEY = \"core.calloutSeen\";\nfunction useCalloutStates() {\n  const [states, setStates] = useState(() => {\n    const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\n    return raw ? JSON.parse(raw) : {};\n  });\n  const setState = useCallback((key, value) => {\n    const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\n    const oldStates = raw ? JSON.parse(raw) : {};\n    const newStates = { ...oldStates, [key]: value };\n    setStates(newStates);\n    localStorage.setItem(STATES_LOCAL_STORAGE_KEY, JSON.stringify(newStates));\n  }, []);\n  return { states, setState };\n}\nfunction useCalloutHasBeenSeen(featureId) {\n  const { states, setState } = useCalloutStates();\n  const markSeen = useCallback(() => {\n    setState(featureId, true);\n  }, [setState, featureId]);\n  return { seen: states[featureId] === true, markSeen };\n}\nfunction useShowCallout(featureId) {\n  const { seen, markSeen } = useCalloutHasBeenSeen(featureId);\n  return { show: seen === false, hide: markSeen };\n}\n\nconst useStyles$B = makeStyles(\n  (theme) => ({\n    \"@keyframes pulsateSlightly\": {\n      \"0%\": { transform: \"scale(1.0)\" },\n      \"100%\": { transform: \"scale(1.1)\" }\n    },\n    \"@keyframes pulsateAndFade\": {\n      \"0%\": { transform: \"scale(1.0)\", opacity: 0.9 },\n      \"100%\": { transform: \"scale(1.5)\", opacity: 0 }\n    },\n    featureWrapper: {\n      position: \"relative\"\n    },\n    backdrop: {\n      zIndex: 2e3,\n      position: \"fixed\",\n      overflow: \"hidden\",\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n    dot: {\n      position: \"absolute\",\n      backgroundColor: \"transparent\",\n      borderRadius: \"100%\",\n      border: \"1px solid rgba(103, 146, 180, 0.98)\",\n      boxShadow: \"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)\",\n      zIndex: 2001,\n      transformOrigin: \"center center\",\n      animation: \"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite\"\n    },\n    pulseCircle: {\n      width: \"100%\",\n      height: \"100%\",\n      backgroundColor: \"transparent\",\n      borderRadius: \"100%\",\n      border: `2px solid ${theme.palette.common.white}`,\n      zIndex: 2001,\n      transformOrigin: \"center center\",\n      animation: \"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite\"\n    },\n    text: {\n      position: \"absolute\",\n      color: theme.palette.common.white,\n      zIndex: 2003\n    }\n  }),\n  { name: \"BackstageFeatureCalloutCircular\" }\n);\nfunction FeatureCalloutCircular(props) {\n  const { featureId, title, description, children } = props;\n  const { show, hide } = useShowCallout(featureId);\n  const portalElement = usePortal(\"core.callout\");\n  const wrapperRef = useRef(null);\n  const [placement, setPlacement] = useState();\n  const classes = useStyles$B();\n  const update = useCallback(() => {\n    if (wrapperRef.current) {\n      const wrapperBounds = wrapperRef.current.getBoundingClientRect();\n      const longest = Math.max(wrapperBounds.width, wrapperBounds.height);\n      const borderWidth = 800;\n      const dotLeft = wrapperBounds.x - (longest - wrapperBounds.width) / 2 - borderWidth;\n      const dotTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 - borderWidth;\n      const dotSize = longest + 2 * borderWidth;\n      const textWidth = 450;\n      const textLeft = wrapperBounds.x + wrapperBounds.width / 2 - textWidth;\n      const textTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 + longest + 20;\n      setPlacement({\n        dotLeft,\n        dotTop,\n        dotSize,\n        borderWidth,\n        textTop,\n        textLeft,\n        textWidth\n      });\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"resize\", update);\n    window.addEventListener(\"scroll\", update);\n    return () => {\n      window.removeEventListener(\"resize\", update);\n      window.removeEventListener(\"scroll\", update);\n    };\n  }, [update]);\n  useLayoutEffect(update, [wrapperRef.current, update]);\n  if (!show) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, { className: classes.featureWrapper, ...{ ref: wrapperRef } }, children), createPortal(\n    /* @__PURE__ */ React.createElement(Box, { className: classes.backdrop }, /* @__PURE__ */ React.createElement(ClickAwayListener, { onClickAway: hide }, /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Box,\n      {\n        className: classes.dot,\n        \"data-testid\": \"dot\",\n        style: {\n          left: placement == null ? void 0 : placement.dotLeft,\n          top: placement == null ? void 0 : placement.dotTop,\n          width: placement == null ? void 0 : placement.dotSize,\n          height: placement == null ? void 0 : placement.dotSize,\n          borderWidth: placement == null ? void 0 : placement.borderWidth\n        },\n        onClick: hide,\n        onKeyDown: hide,\n        role: \"button\",\n        tabIndex: 0\n      },\n      /* @__PURE__ */ React.createElement(Box, { className: classes.pulseCircle })\n    ), /* @__PURE__ */ React.createElement(\n      Box,\n      {\n        className: classes.text,\n        \"data-testid\": \"text\",\n        style: {\n          left: placement == null ? void 0 : placement.textLeft,\n          top: placement == null ? void 0 : placement.textTop,\n          width: placement == null ? void 0 : placement.textWidth\n        }\n      },\n      /* @__PURE__ */ React.createElement(Typography, { variant: \"h2\", paragraph: true }, title),\n      /* @__PURE__ */ React.createElement(Typography, null, description)\n    )))),\n    portalElement\n  ));\n}\n\nconst useIconStyles = makeStyles(\n  (theme) => ({\n    link: {\n      display: \"grid\",\n      justifyItems: \"center\",\n      gridGap: 4,\n      textAlign: \"center\"\n    },\n    disabled: {\n      color: theme.palette.text.secondary,\n      cursor: \"default\"\n    },\n    primary: {\n      color: theme.palette.primary.main\n    },\n    secondary: {\n      color: theme.palette.secondary.main\n    },\n    label: {\n      textTransform: \"uppercase\",\n      fontWeight: theme.typography.fontWeightBold,\n      letterSpacing: 1.2\n    }\n  }),\n  { name: \"BackstageIconLinkVertical\" }\n);\nfunction IconLinkVertical({\n  color = \"primary\",\n  disabled = false,\n  href = \"#\",\n  icon = /* @__PURE__ */ React.createElement(LinkIcon, null),\n  label,\n  onClick,\n  title\n}) {\n  const classes = useIconStyles();\n  if (disabled) {\n    return /* @__PURE__ */ React.createElement(Box, { title, className: classNames(classes.link, classes.disabled) }, icon, /* @__PURE__ */ React.createElement(\n      Typography,\n      {\n        variant: \"caption\",\n        component: \"span\",\n        className: classes.label\n      },\n      label\n    ));\n  }\n  return /* @__PURE__ */ React.createElement(\n    Link,\n    {\n      title,\n      className: classNames(classes.link, classes[color]),\n      to: href,\n      onClick\n    },\n    icon,\n    /* @__PURE__ */ React.createElement(Typography, { variant: \"caption\", component: \"span\", className: classes.label }, label)\n  );\n}\n\nconst useStyles$A = makeStyles(\n  (theme) => ({\n    links: {\n      margin: theme.spacing(2, 0),\n      display: \"grid\",\n      gridAutoFlow: \"column\",\n      gridAutoColumns: \"min-content\",\n      gridGap: theme.spacing(3)\n    }\n  }),\n  { name: \"BackstageHeaderIconLinkRow\" }\n);\nfunction HeaderIconLinkRow(props) {\n  const { links } = props;\n  const classes = useStyles$A();\n  return /* @__PURE__ */ React.createElement(\"nav\", { className: classes.links }, links.map((link, index) => /* @__PURE__ */ React.createElement(IconLinkVertical, { key: index + 1, ...link })));\n}\n\nconst generateGradientStops = (themeType) => {\n  const luminance = themeType === \"dark\" ? \"16%\" : \"97%\";\n  return `\n    hsl(0, 0%, ${luminance}) 0%,\n    hsla(0, 0%, ${luminance}, 0.987) 8.1%,\n    hsla(0, 0%, ${luminance}, 0.951) 15.5%,\n    hsla(0, 0%, ${luminance}, 0.896) 22.5%,\n    hsla(0, 0%, ${luminance}, 0.825) 29%,\n    hsla(0, 0%, ${luminance}, 0.741) 35.3%,\n    hsla(0, 0%, ${luminance}, 0.648) 41.2%,\n    hsla(0, 0%, ${luminance}, 0.55) 47.1%,\n    hsla(0, 0%, ${luminance}, 0.45) 52.9%,\n    hsla(0, 0%, ${luminance}, 0.352) 58.8%,\n    hsla(0, 0%, ${luminance}, 0.259) 64.7%,\n    hsla(0, 0%, ${luminance}, 0.175) 71%,\n    hsla(0, 0%, ${luminance}, 0.104) 77.5%,\n    hsla(0, 0%, ${luminance}, 0.049) 84.5%,\n    hsla(0, 0%, ${luminance}, 0.013) 91.9%,\n    hsla(0, 0%, ${luminance}, 0) 100%\n  `;\n};\nconst fadeSize = 100;\nconst fadePadding = 10;\nconst useStyles$z = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"relative\",\n      display: \"flex\",\n      flexFlow: \"row nowrap\",\n      alignItems: \"center\"\n    },\n    container: {\n      overflow: \"auto\",\n      scrollbarWidth: 0,\n      // hide in FF\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n        // hide in Chrome\n      }\n    },\n    fade: {\n      position: \"absolute\",\n      width: fadeSize,\n      height: `calc(100% + ${fadePadding}px)`,\n      transition: \"opacity 300ms\",\n      pointerEvents: \"none\"\n    },\n    fadeLeft: {\n      left: -fadePadding,\n      background: `linear-gradient(90deg, ${generateGradientStops(\n        theme.palette.type\n      )})`\n    },\n    fadeRight: {\n      right: -fadePadding,\n      background: `linear-gradient(270deg, ${generateGradientStops(\n        theme.palette.type\n      )})`\n    },\n    fadeHidden: {\n      opacity: 0\n    },\n    button: {\n      position: \"absolute\"\n    },\n    buttonLeft: {\n      left: -theme.spacing(2)\n    },\n    buttonRight: {\n      right: -theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageHorizontalScrollGrid\" }\n);\nfunction useScrollDistance(ref) {\n  const [[scrollLeft, scrollRight], setScroll] = React.useState([0, 0]);\n  React.useLayoutEffect(() => {\n    const el = ref.current;\n    if (!el) {\n      setScroll([0, 0]);\n      return;\n    }\n    const handleUpdate = () => {\n      const left = el.scrollLeft;\n      const right = el.scrollWidth - el.offsetWidth - el.scrollLeft;\n      setScroll([left, right]);\n    };\n    handleUpdate();\n    el.addEventListener(\"scroll\", handleUpdate);\n    window.addEventListener(\"resize\", handleUpdate);\n    return () => {\n      el.removeEventListener(\"scroll\", handleUpdate);\n      window.removeEventListener(\"resize\", handleUpdate);\n    };\n  }, [ref]);\n  return [scrollLeft, scrollRight];\n}\nfunction useSmoothScroll(ref, speed, minDistance) {\n  const [scrollTarget, setScrollTarget] = React.useState(0);\n  React.useLayoutEffect(() => {\n    if (scrollTarget === 0) {\n      return;\n    }\n    const startTime = window.performance.now();\n    const id = requestAnimationFrame((frameTime) => {\n      if (!ref.current) {\n        return;\n      }\n      const frameDuration = frameTime - startTime;\n      const scrollDistance = Math.abs(scrollTarget) * frameDuration / speed;\n      const cappedScrollDistance = Math.max(minDistance, scrollDistance);\n      const scrollAmount = cappedScrollDistance * Math.sign(scrollTarget);\n      ref.current.scrollBy({ left: scrollAmount });\n      const newScrollTarget = scrollTarget - scrollAmount;\n      if (Math.sign(scrollTarget) !== Math.sign(newScrollTarget)) {\n        setScrollTarget(0);\n      } else {\n        setScrollTarget(newScrollTarget);\n      }\n    });\n    return () => cancelAnimationFrame(id);\n  }, [ref, scrollTarget, speed, minDistance]);\n  return setScrollTarget;\n}\nfunction HorizontalScrollGrid(props) {\n  const {\n    scrollStep = 100,\n    scrollSpeed = 50,\n    minScrollDistance = 5,\n    children,\n    ...otherProps\n  } = props;\n  const classes = useStyles$z(props);\n  const ref = React.useRef();\n  const [scrollLeft, scrollRight] = useScrollDistance(ref);\n  const setScrollTarget = useSmoothScroll(ref, scrollSpeed, minScrollDistance);\n  const handleScrollClick = (forwards) => {\n    const el = ref.current;\n    if (!el) {\n      return;\n    }\n    setScrollTarget(forwards ? scrollStep : -scrollStep);\n  };\n  return /* @__PURE__ */ React.createElement(Box, { ...otherProps, className: classes.root }, /* @__PURE__ */ React.createElement(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      wrap: \"nowrap\",\n      className: classes.container,\n      ref\n    },\n    children\n  ), /* @__PURE__ */ React.createElement(\n    Box,\n    {\n      className: classNames(classes.fade, classes.fadeLeft, {\n        [classes.fadeHidden]: scrollLeft === 0\n      })\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Box,\n    {\n      className: classNames(classes.fade, classes.fadeRight, {\n        [classes.fadeHidden]: scrollRight === 0\n      })\n    }\n  ), scrollLeft > 0 && /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      title: \"Scroll Left\",\n      onClick: () => handleScrollClick(false),\n      className: classNames(classes.button, classes.buttonLeft, {})\n    },\n    /* @__PURE__ */ React.createElement(ChevronLeftIcon, null)\n  ), scrollRight > 0 && /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      title: \"Scroll Right\",\n      onClick: () => handleScrollClick(true),\n      className: classNames(classes.button, classes.buttonRight, {})\n    },\n    /* @__PURE__ */ React.createElement(ChevronRight, null)\n  ));\n}\n\nconst useStyles$y = makeStyles(\n  (theme) => ({\n    alpha: {\n      color: theme.palette.common.white,\n      fontFamily: \"serif\",\n      fontWeight: \"normal\",\n      fontStyle: \"italic\"\n    },\n    beta: {\n      color: \"#4d65cc\",\n      fontFamily: \"serif\",\n      fontWeight: \"normal\",\n      fontStyle: \"italic\"\n    }\n  }),\n  { name: \"BackstageLifecycle\" }\n);\nfunction Lifecycle(props) {\n  const classes = useStyles$y(props);\n  const { shorthand, alpha } = props;\n  return shorthand ? /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: classes[alpha ? \"alpha\" : \"beta\"],\n      style: { fontSize: \"120%\" }\n    },\n    alpha ? /* @__PURE__ */ React.createElement(React.Fragment, null, \"\\u03B1\") : /* @__PURE__ */ React.createElement(React.Fragment, null, \"\\u03B2\")\n  ) : /* @__PURE__ */ React.createElement(Typography, { component: \"span\", className: classes[alpha ? \"alpha\" : \"beta\"] }, alpha ? \"Alpha\" : \"Beta\");\n}\n\nconst RealLogViewer = lazy(\n  () => import('./esm/RealLogViewer-9f2cfff0.esm.js').then((m) => ({ default: m.RealLogViewer }))\n);\nfunction LogViewer(props) {\n  const { Progress } = useApp().getComponents();\n  return /* @__PURE__ */ React.createElement(Suspense, { fallback: /* @__PURE__ */ React.createElement(Progress, null) }, /* @__PURE__ */ React.createElement(RealLogViewer, { ...props }));\n}\n\nconst useStyles$x = makeStyles(\n  (theme) => ({\n    markdown: {\n      \"& table\": {\n        borderCollapse: \"collapse\",\n        border: `1px solid ${theme.palette.border}`\n      },\n      \"& th, & td\": {\n        border: `1px solid ${theme.palette.border}`,\n        padding: theme.spacing(1)\n      },\n      \"& td\": {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      },\n      \"& th\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr:nth-child(odd)\": {\n        backgroundColor: theme.palette.background.default\n      },\n      \"& a\": {\n        color: theme.palette.link\n      },\n      \"& img\": {\n        maxWidth: \"100%\"\n      }\n    }\n  }),\n  { name: \"BackstageMarkdownContent\" }\n);\nconst flatten = (text, child) => {\n  if (!child)\n    return text;\n  return typeof child === \"string\" ? text + child : React.Children.toArray(child.props.children).reduce(flatten, text);\n};\nconst headingRenderer = ({ level, children }) => {\n  const childrenArray = React.Children.toArray(children);\n  const text = childrenArray.reduce(flatten, \"\");\n  const slug = text.toLocaleLowerCase(\"en-US\").replace(/\\W/g, \"-\");\n  return React.createElement(`h${level}`, { id: slug }, children);\n};\nconst components = {\n  code: ({ inline, className, children, ...props }) => {\n    const text = String(children).replace(/\\n+$/, \"\");\n    const match = /language-(\\w+)/.exec(className || \"\");\n    return !inline && match ? /* @__PURE__ */ React.createElement(CodeSnippet, { language: match[1], text }) : /* @__PURE__ */ React.createElement(\"code\", { className, ...props }, children);\n  },\n  h1: headingRenderer,\n  h2: headingRenderer,\n  h3: headingRenderer,\n  h4: headingRenderer,\n  h5: headingRenderer,\n  h6: headingRenderer\n};\nfunction MarkdownContent(props) {\n  const {\n    content,\n    dialect = \"gfm\",\n    linkTarget,\n    transformLinkUri,\n    transformImageUri,\n    className\n  } = props;\n  const classes = useStyles$x();\n  return /* @__PURE__ */ React.createElement(\n    ReactMarkdown,\n    {\n      remarkPlugins: dialect === \"gfm\" ? [gfm] : [],\n      className: `${classes.markdown} ${className}`,\n      children: content,\n      components,\n      linkTarget,\n      transformLinkUri,\n      transformImageUri\n    }\n  );\n}\n\nconst useItemStyles = makeStyles(\n  (theme) => ({\n    root: {\n      paddingLeft: theme.spacing(3)\n    }\n  }),\n  { name: \"BackstageLoginRequestListItem\" }\n);\nconst LoginRequestListItem = ({ request, busy, setBusy }) => {\n  const classes = useItemStyles();\n  const [error, setError] = useState();\n  const handleContinue = async () => {\n    setBusy(true);\n    try {\n      await request.trigger();\n    } catch (e) {\n      setError(isError(e) ? e.message : \"An unspecified error occurred\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  const IconComponent = request.provider.icon;\n  return /* @__PURE__ */ React.createElement(ListItem, { disabled: busy, classes: { root: classes.root } }, /* @__PURE__ */ React.createElement(ListItemAvatar, null, /* @__PURE__ */ React.createElement(IconComponent, { fontSize: \"large\" })), /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      primary: request.provider.title,\n      secondary: error && /* @__PURE__ */ React.createElement(Typography, { color: \"error\" }, error)\n    }\n  ), /* @__PURE__ */ React.createElement(Button$1, { color: \"primary\", variant: \"contained\", onClick: handleContinue }, \"Log in\"));\n};\n\nconst useStyles$w = makeStyles(\n  (theme) => ({\n    dialog: {\n      paddingTop: theme.spacing(1)\n    },\n    title: {\n      minWidth: 0\n    },\n    titleHeading: {\n      fontSize: theme.typography.h6.fontSize\n    },\n    contentList: {\n      padding: 0\n    },\n    actionButtons: {\n      padding: theme.spacing(2, 0)\n    }\n  }),\n  { name: \"OAuthRequestDialog\" }\n);\nfunction OAuthRequestDialog(_props) {\n  var _a;\n  const classes = useStyles$w();\n  const [busy, setBusy] = useState(false);\n  const oauthRequestApi = useApi(oauthRequestApiRef);\n  const configApi = useApi(configApiRef);\n  const authRedirect = (_a = configApi.getOptionalBoolean(\"enableExperimentalRedirectFlow\")) != null ? _a : false;\n  const requests = useObservable(\n    useMemo(() => oauthRequestApi.authRequest$(), [oauthRequestApi]),\n    []\n  );\n  const handleRejectAll = () => {\n    requests.forEach((request) => request.reject());\n  };\n  return /* @__PURE__ */ React.createElement(\n    Dialog,\n    {\n      open: Boolean(requests.length),\n      fullWidth: true,\n      maxWidth: \"xs\",\n      classes: { paper: classes.dialog },\n      \"aria-labelledby\": \"oauth-req-dialog-title\"\n    },\n    /* @__PURE__ */ React.createElement(\"main\", null, /* @__PURE__ */ React.createElement(\n      DialogTitle,\n      {\n        classes: { root: classes.title },\n        id: \"oauth-req-dialog-title\"\n      },\n      /* @__PURE__ */ React.createElement(\n        Typography,\n        {\n          className: classes.titleHeading,\n          variant: \"h1\",\n          variantMapping: { h1: \"span\" }\n        },\n        \"Login Required\"\n      ),\n      authRedirect ? /* @__PURE__ */ React.createElement(Typography, null, \"This will trigger a http redirect to OAuth Login.\") : null\n    ), /* @__PURE__ */ React.createElement(DialogContent, { dividers: true, classes: { root: classes.contentList } }, /* @__PURE__ */ React.createElement(List, null, requests.map((request) => /* @__PURE__ */ React.createElement(\n      LoginRequestListItem,\n      {\n        key: request.provider.title,\n        request,\n        busy,\n        setBusy\n      }\n    ))))),\n    /* @__PURE__ */ React.createElement(DialogActions, { classes: { root: classes.actionButtons } }, /* @__PURE__ */ React.createElement(Button$1, { onClick: handleRejectAll }, \"Reject All\"))\n  );\n}\n\nconst useStyles$v = makeStyles(\n  {\n    container: {\n      overflow: \"visible !important\"\n    }\n  },\n  { name: \"BackstageOverflowTooltip\" }\n);\nfunction OverflowTooltip(props) {\n  var _a;\n  const [hover, setHover] = useState(false);\n  const isMounted = useIsMounted();\n  const classes = useStyles$v();\n  const handleToggled = (truncated) => {\n    if (isMounted()) {\n      setHover(truncated);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(\n    Tooltip,\n    {\n      title: (_a = props.title) != null ? _a : props.text || \"\",\n      placement: props.placement,\n      disableHoverListener: !hover\n    },\n    /* @__PURE__ */ React.createElement(\n      TextTruncate,\n      {\n        text: props.text,\n        line: props.line,\n        onToggled: handleToggled,\n        containerClassName: classes.container\n      }\n    )\n  );\n}\n\nfunction Progress(props) {\n  const theme = useTheme();\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(\n      () => setIsVisible(true),\n      theme.transitions.duration.short\n    );\n    return () => clearTimeout(handle);\n  }, [theme.transitions.duration.short]);\n  return isVisible ? /* @__PURE__ */ React.createElement(LinearProgress, { ...props, \"data-testid\": \"progress\" }) : /* @__PURE__ */ React.createElement(Box, { display: \"none\" });\n}\n\nconst useStyles$u = makeStyles(\n  (theme) => ({\n    root: {\n      maxWidth: \"fit-content\",\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    boxTitle: {\n      margin: 0,\n      color: theme.palette.textSubtle\n    },\n    arrow: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageBottomLink\" }\n);\nfunction BottomLink(props) {\n  const { link, title, onClick } = props;\n  const classes = useStyles$u();\n  return /* @__PURE__ */ React.createElement(Box, null, /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(Link, { to: link, onClick, underline: \"none\" }, /* @__PURE__ */ React.createElement(Box, { display: \"flex\", alignItems: \"center\", className: classes.root }, /* @__PURE__ */ React.createElement(Box, { className: classes.boxTitle, fontWeight: \"fontWeightBold\", m: 1 }, /* @__PURE__ */ React.createElement(Typography, null, /* @__PURE__ */ React.createElement(\"strong\", null, title))), /* @__PURE__ */ React.createElement(ArrowIcon, { className: classes.arrow }))));\n}\n\nconst SlackLink = (props) => {\n  const { slackChannel } = props;\n  if (!slackChannel) {\n    return null;\n  } else if (typeof slackChannel === \"string\") {\n    return /* @__PURE__ */ React.createElement(Typography, null, \"Please contact \", slackChannel, \" for help.\");\n  } else if (!slackChannel.href) {\n    return /* @__PURE__ */ React.createElement(Typography, null, \"Please contact \", slackChannel.name, \" for help.\");\n  }\n  return /* @__PURE__ */ React.createElement(LinkButton, { to: slackChannel.href, variant: \"contained\" }, slackChannel.name);\n};\nconst ErrorBoundary = class ErrorBoundary2 extends Component$3 {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: void 0,\n      errorInfo: void 0\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(`ErrorBoundary, error: ${error}, info: ${errorInfo}`);\n    this.setState({ error, errorInfo });\n  }\n  render() {\n    const { slackChannel, children } = this.props;\n    const { error } = this.state;\n    if (!error) {\n      return children;\n    }\n    return /* @__PURE__ */ React.createElement(ErrorPanel, { title: \"Something Went Wrong\", error }, /* @__PURE__ */ React.createElement(SlackLink, { slackChannel }));\n  }\n};\n\nconst useStyles$t = makeStyles(\n  (theme) => ({\n    noPadding: {\n      padding: 0,\n      \"&:last-child\": {\n        paddingBottom: 0\n      }\n    },\n    header: {\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    headerTitle: {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    headerSubheader: {\n      paddingTop: theme.spacing(1)\n    },\n    headerAvatar: {},\n    headerAction: {},\n    headerContent: {},\n    subheader: {\n      display: \"flex\"\n    }\n  }),\n  { name: \"BackstageInfoCard\" }\n);\nconst CardActionsTopRight = withStyles(\n  (theme) => ({\n    root: {\n      display: \"inline-block\",\n      padding: theme.spacing(8, 8, 0, 0),\n      float: \"right\"\n    }\n  }),\n  { name: \"BackstageInfoCardCardActionsTopRight\" }\n)(CardActions);\nconst VARIANT_STYLES = {\n  card: {\n    flex: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    fullHeight: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100%\"\n    },\n    gridItem: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"calc(100% - 10px)\",\n      // for pages without content header\n      marginBottom: \"10px\",\n      breakInside: \"avoid-page\",\n      \"@media print\": {\n        height: \"auto\"\n      }\n    }\n  },\n  cardContent: {\n    fullHeight: {\n      flex: 1\n    },\n    gridItem: {\n      flex: 1\n    }\n  }\n};\nfunction InfoCard(props) {\n  const {\n    title,\n    subheader,\n    divider = true,\n    deepLink,\n    slackChannel,\n    errorBoundaryProps,\n    variant,\n    children,\n    headerStyle,\n    headerProps,\n    icon,\n    action,\n    actionsClassName,\n    actions,\n    cardClassName,\n    actionsTopRight,\n    className,\n    noPadding,\n    titleTypographyProps\n  } = props;\n  const classes = useStyles$t();\n  let calculatedStyle = {};\n  let calculatedCardStyle = {};\n  if (variant) {\n    const variants = variant.split(/[\\s]+/g);\n    variants.forEach((name) => {\n      calculatedStyle = {\n        ...calculatedStyle,\n        ...VARIANT_STYLES.card[name]\n      };\n      calculatedCardStyle = {\n        ...calculatedCardStyle,\n        ...VARIANT_STYLES.cardContent[name]\n      };\n    });\n  }\n  const cardSubTitle = () => {\n    if (!subheader && !icon) {\n      return null;\n    }\n    return /* @__PURE__ */ React.createElement(\n      \"div\",\n      {\n        className: classes.headerSubheader,\n        \"data-testid\": \"info-card-subheader\"\n      },\n      subheader && /* @__PURE__ */ React.createElement(\"div\", { className: classes.subheader }, subheader),\n      icon\n    );\n  };\n  const errProps = errorBoundaryProps || (slackChannel ? { slackChannel } : {});\n  return /* @__PURE__ */ React.createElement(Card, { style: calculatedStyle, className }, /* @__PURE__ */ React.createElement(ErrorBoundary, { ...errProps }, title && /* @__PURE__ */ React.createElement(\n    CardHeader,\n    {\n      classes: {\n        root: classes.header,\n        title: classes.headerTitle,\n        subheader: classes.headerSubheader,\n        avatar: classes.headerAvatar,\n        action: classes.headerAction,\n        content: classes.headerContent\n      },\n      title,\n      subheader: cardSubTitle(),\n      action,\n      style: { ...headerStyle },\n      titleTypographyProps,\n      ...headerProps\n    }\n  ), actionsTopRight && /* @__PURE__ */ React.createElement(CardActionsTopRight, null, actionsTopRight), divider && /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(\n    CardContent,\n    {\n      className: classNames(cardClassName, {\n        [classes.noPadding]: noPadding\n      }),\n      style: calculatedCardStyle\n    },\n    children\n  ), actions && /* @__PURE__ */ React.createElement(CardActions, { className: actionsClassName }, actions), deepLink && /* @__PURE__ */ React.createElement(BottomLink, { ...deepLink })));\n}\n\nconst useStyles$s = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"relative\",\n      lineHeight: 0\n    },\n    overlay: {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -60%)\",\n      fontSize: theme.typography.pxToRem(45),\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.textContrast\n    },\n    description: {\n      fontSize: \"100%\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\",\n      position: \"absolute\",\n      wordBreak: \"break-all\",\n      display: \"inline-block\"\n    },\n    circle: {\n      width: \"80%\",\n      transform: \"translate(10%, 0)\"\n    },\n    colorUnknown: {}\n  }),\n  { name: \"BackstageGauge\" }\n);\nconst defaultGaugeProps = {\n  fractional: true,\n  inverse: false,\n  unit: \"%\",\n  max: 100\n};\nconst getProgressColor = ({\n  palette,\n  value,\n  inverse,\n  max\n}) => {\n  if (isNaN(value)) {\n    return \"#ddd\";\n  }\n  const actualMax = max ? max : defaultGaugeProps.max;\n  const actualValue = inverse ? actualMax - value : value;\n  if (actualValue < actualMax / 3) {\n    return palette.status.error;\n  } else if (actualValue < actualMax * (2 / 3)) {\n    return palette.status.warning;\n  }\n  return palette.status.ok;\n};\nfunction Gauge(props) {\n  const [hoverRef, setHoverRef] = useState(null);\n  const { getColor = getProgressColor } = props;\n  const classes = useStyles$s(props);\n  const { palette } = useTheme();\n  const { value, fractional, inverse, unit, max, description } = {\n    ...defaultGaugeProps,\n    ...props\n  };\n  const asPercentage = fractional ? Math.round(value * max) : value;\n  const asActual = max !== 100 ? Math.round(value) : asPercentage;\n  const [isHovering, setIsHovering] = useState(false);\n  useEffect(() => {\n    const node = hoverRef;\n    const handleMouseOver = () => setIsHovering(true);\n    const handleMouseOut = () => setIsHovering(false);\n    if (node && description) {\n      node.addEventListener(\"mouseenter\", handleMouseOver);\n      node.addEventListener(\"mouseleave\", handleMouseOut);\n      return () => {\n        node.removeEventListener(\"mouseenter\", handleMouseOver);\n        node.removeEventListener(\"mouseleave\", handleMouseOut);\n      };\n    }\n    return () => {\n      setIsHovering(false);\n    };\n  }, [description, hoverRef]);\n  return /* @__PURE__ */ React.createElement(Box, { ...{ ref: setHoverRef }, className: classes.root }, /* @__PURE__ */ React.createElement(\n    Circle,\n    {\n      strokeLinecap: \"butt\",\n      percent: asPercentage,\n      strokeWidth: 12,\n      trailWidth: 12,\n      strokeColor: getColor({ palette, value: asActual, inverse, max }),\n      className: classes.circle\n    }\n  ), description && isHovering ? /* @__PURE__ */ React.createElement(Box, { className: classes.description }, description) : /* @__PURE__ */ React.createElement(Box, { className: classes.overlay }, isNaN(value) ? \"N/A\" : `${asActual}${unit}`));\n}\n\nconst useStyles$r = makeStyles(\n  {\n    root: {\n      height: \"100%\",\n      width: 250\n    }\n  },\n  { name: \"BackstageGaugeCard\" }\n);\nfunction GaugeCard(props) {\n  const classes = useStyles$r(props);\n  const {\n    title,\n    subheader,\n    progress,\n    inverse,\n    deepLink,\n    description,\n    icon,\n    variant,\n    getColor\n  } = props;\n  const gaugeProps = {\n    inverse,\n    description,\n    getColor,\n    value: progress\n  };\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.root }, /* @__PURE__ */ React.createElement(\n    InfoCard,\n    {\n      title,\n      subheader,\n      deepLink,\n      variant,\n      icon\n    },\n    /* @__PURE__ */ React.createElement(Gauge, { ...gaugeProps })\n  ));\n}\n\nfunction LinearGauge(props) {\n  const { value, getColor = getProgressColor, width = \"thick\" } = props;\n  const { palette } = useTheme();\n  if (isNaN(value)) {\n    return null;\n  }\n  let percent = Math.round(value * 100 * 100) / 100;\n  if (percent > 100) {\n    percent = 100;\n  }\n  const lineWidth = width === \"thick\" ? 4 : 1;\n  const strokeColor = getColor({\n    palette,\n    value: percent,\n    inverse: false,\n    max: 100\n  });\n  return /* @__PURE__ */ React.createElement(Tooltip, { title: `${percent}%` }, /* @__PURE__ */ React.createElement(Typography, { component: \"span\" }, /* @__PURE__ */ React.createElement(\n    Line,\n    {\n      percent,\n      strokeWidth: lineWidth,\n      trailWidth: lineWidth,\n      strokeColor\n    }\n  )));\n}\n\nconst useStyles$q = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\"\n    }\n  }),\n  { name: \"BackstageClosedDropdown\" }\n);\nconst ClosedDropdown = () => {\n  const classes = useStyles$q();\n  return /* @__PURE__ */ React.createElement(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    },\n    /* @__PURE__ */ React.createElement(\n      \"path\",\n      {\n        d: \"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z\",\n        fill: \"#616161\"\n      }\n    )\n  );\n};\n\nconst useStyles$p = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\"\n    }\n  }),\n  { name: \"BackstageOpenedDropdown\" }\n);\nconst OpenedDropdown = () => {\n  const classes = useStyles$p();\n  return /* @__PURE__ */ React.createElement(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    },\n    /* @__PURE__ */ React.createElement(\n      \"path\",\n      {\n        d: \"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z\",\n        fill: \"#616161\"\n      }\n    )\n  );\n};\n\nconst BootstrapInput = withStyles(\n  (theme) => createStyles({\n    root: {\n      \"label + &\": {\n        marginTop: theme.spacing(3)\n      },\n      \"&.Mui-focused > div[role=button]\": {\n        borderColor: theme.palette.primary.main\n      }\n    },\n    input: {\n      borderRadius: theme.shape.borderRadius,\n      position: \"relative\",\n      backgroundColor: theme.palette.background.paper,\n      border: \"1px solid #ced4da\",\n      fontSize: theme.typography.body1.fontSize,\n      padding: theme.spacing(1.25, 3.25, 1.25, 1.5),\n      transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n      fontFamily: \"Helvetica Neue\",\n      \"&:focus\": {\n        background: theme.palette.background.paper,\n        borderRadius: theme.shape.borderRadius\n      }\n    }\n  }),\n  { name: \"BackstageSelectInputBase\" }\n)(InputBase);\nconst useStyles$o = makeStyles(\n  (theme) => createStyles({\n    formControl: {\n      margin: theme.spacing(1, 0),\n      maxWidth: 300\n    },\n    label: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    formLabel: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    chips: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    chip: {\n      margin: 2\n    },\n    checkbox: {},\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    }\n  }),\n  { name: \"BackstageSelect\" }\n);\nfunction SelectComponent(props) {\n  const {\n    multiple,\n    items,\n    label,\n    placeholder,\n    selected,\n    onChange,\n    triggerReset,\n    native = false,\n    disabled = false,\n    margin\n  } = props;\n  const classes = useStyles$o();\n  const [value, setValue] = useState(\n    selected || (multiple ? [] : \"\")\n  );\n  const [isOpen, setOpen] = useState(false);\n  useEffect(() => {\n    setValue(multiple ? [] : \"\");\n  }, [triggerReset, multiple]);\n  useEffect(() => {\n    setValue(selected || (multiple ? [] : \"\"));\n  }, [selected, multiple]);\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    onChange(event.target.value);\n  };\n  const handleOpen = (event) => {\n    if (disabled) {\n      event.preventDefault();\n      return;\n    }\n    setOpen((previous) => {\n      if (multiple && !(event.target instanceof HTMLElement)) {\n        return true;\n      }\n      return !previous;\n    });\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleDelete = (selectedValue) => () => {\n    const newValue = value.filter((chip) => chip !== selectedValue);\n    setValue(newValue);\n    onChange(newValue);\n  };\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.root }, /* @__PURE__ */ React.createElement(FormControl, { className: classes.formControl }, /* @__PURE__ */ React.createElement(InputLabel, { className: classes.formLabel }, label), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      \"aria-label\": label,\n      value,\n      native,\n      disabled,\n      \"data-testid\": \"select\",\n      displayEmpty: true,\n      multiple,\n      margin,\n      onChange: handleChange,\n      open: isOpen,\n      onOpen: handleOpen,\n      onClose: handleClose,\n      input: /* @__PURE__ */ React.createElement(BootstrapInput, null),\n      label,\n      renderValue: (s) => {\n        var _a;\n        return multiple && value.length !== 0 ? /* @__PURE__ */ React.createElement(Box, { className: classes.chips }, s.map((selectedValue) => {\n          var _a2, _b;\n          return /* @__PURE__ */ React.createElement(\n            Chip,\n            {\n              key: (_a2 = items.find((el) => el.value === selectedValue)) == null ? void 0 : _a2.value,\n              label: (_b = items.find((el) => el.value === selectedValue)) == null ? void 0 : _b.label,\n              clickable: true,\n              onDelete: handleDelete(selectedValue),\n              className: classes.chip\n            }\n          );\n        })) : /* @__PURE__ */ React.createElement(Typography, null, value.length === 0 ? placeholder || \"\" : (_a = items.find((el) => el.value === s)) == null ? void 0 : _a.label);\n      },\n      IconComponent: () => !isOpen ? /* @__PURE__ */ React.createElement(ClosedDropdown, null) : /* @__PURE__ */ React.createElement(OpenedDropdown, null),\n      MenuProps: {\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"left\"\n        },\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"left\"\n        },\n        getContentAnchorEl: null\n      }\n    },\n    placeholder && !multiple && /* @__PURE__ */ React.createElement(MenuItem, { value: [] }, placeholder),\n    native ? items && items.map((item) => /* @__PURE__ */ React.createElement(\"option\", { value: item.value, key: item.value }, item.label)) : items && items.map((item) => /* @__PURE__ */ React.createElement(MenuItem, { key: item.value, value: item.value }, multiple && /* @__PURE__ */ React.createElement(\n      Checkbox,\n      {\n        color: \"primary\",\n        checked: value.includes(item.value) || false,\n        className: classes.checkbox\n      }\n    ), item.label))\n  )));\n}\n\nconst noop = () => {\n};\nconst VerticalStepperContext = React.createContext({\n  stepperLength: 0,\n  stepIndex: 0,\n  setStepIndex: noop,\n  stepHistory: [],\n  setStepHistory: noop,\n  onStepChange: noop\n});\nfunction SimpleStepper(props) {\n  const { children, elevated, onStepChange, activeStep = 0 } = props;\n  const [stepIndex, setStepIndex] = useState(activeStep);\n  const [stepHistory, setStepHistory] = useState([0]);\n  useEffect(() => {\n    setStepIndex(activeStep);\n  }, [activeStep]);\n  const steps = [];\n  let endStep;\n  Children.forEach(children, (child) => {\n    if (isValidElement(child)) {\n      if (child.props.end) {\n        endStep = child;\n      } else {\n        steps.push(child);\n      }\n    }\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    VerticalStepperContext.Provider,\n    {\n      value: {\n        stepIndex,\n        setStepIndex,\n        stepHistory,\n        setStepHistory,\n        onStepChange,\n        stepperLength: Children.count(children)\n      }\n    },\n    /* @__PURE__ */ React.createElement(\n      MuiStepper,\n      {\n        activeStep: stepIndex,\n        orientation: \"vertical\",\n        elevation: elevated ? 2 : 0\n      },\n      steps\n    )\n  ), stepIndex >= Children.count(children) - 1 && endStep);\n}\n\nconst useStyles$n = makeStyles(\n  (theme) => ({\n    root: {\n      marginTop: theme.spacing(3),\n      \"& button\": {\n        marginRight: theme.spacing(1)\n      }\n    }\n  }),\n  { name: \"BackstageSimpleStepperFooter\" }\n);\nconst RestartBtn = ({ text, handleClick }) => /* @__PURE__ */ React.createElement(Button$1, { onClick: handleClick }, text || \"Reset\");\nconst NextBtn = ({\n  text,\n  handleClick,\n  disabled,\n  last,\n  stepIndex\n}) => /* @__PURE__ */ React.createElement(\n  Button$1,\n  {\n    variant: \"contained\",\n    color: \"primary\",\n    disabled,\n    \"data-testid\": `nextButton-${stepIndex}`,\n    onClick: handleClick\n  },\n  text || (last ? \"Finish\" : \"Next\")\n);\nconst SkipBtn = ({ text, handleClick, disabled, stepIndex }) => /* @__PURE__ */ React.createElement(\n  Button$1,\n  {\n    variant: \"outlined\",\n    color: \"primary\",\n    disabled,\n    \"data-testid\": `skipButton-${stepIndex}`,\n    onClick: handleClick\n  },\n  text || \"Skip\"\n);\nconst BackBtn = ({ text, handleClick, disabled, stepIndex }) => /* @__PURE__ */ React.createElement(\n  Button$1,\n  {\n    onClick: handleClick,\n    \"data-testid\": `backButton-${stepIndex}`,\n    disabled\n  },\n  text || \"Back\"\n);\nconst SimpleStepperFooter = ({\n  actions = {},\n  children\n}) => {\n  const classes = useStyles$n();\n  const {\n    stepperLength,\n    stepIndex,\n    setStepIndex,\n    stepHistory,\n    setStepHistory,\n    onStepChange\n  } = useContext(VerticalStepperContext);\n  const onChange = (newIndex, callback) => {\n    if (callback) {\n      callback();\n    }\n    if (onStepChange) {\n      onStepChange(stepIndex, newIndex);\n    }\n    setStepIndex(newIndex);\n  };\n  const handleNext = () => {\n    const newIndex = actions.nextStep ? actions.nextStep(stepIndex, stepperLength - 1) : stepIndex + 1;\n    onChange(newIndex, actions.onNext);\n    setStepHistory([...stepHistory, newIndex]);\n  };\n  const handleBack = () => {\n    stepHistory.pop();\n    onChange(stepHistory[stepHistory.length - 1], actions.onBack);\n    setStepHistory([...stepHistory]);\n  };\n  const handleRestart = () => {\n    onChange(0, actions.onRestart);\n    setStepHistory([0]);\n  };\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.root }, [void 0, true].includes(actions.showBack) && stepIndex !== 0 && /* @__PURE__ */ React.createElement(\n    BackBtn,\n    {\n      text: actions.backText,\n      handleClick: handleBack,\n      disabled: stepIndex === 0,\n      stepIndex\n    }\n  ), actions.showSkip && /* @__PURE__ */ React.createElement(\n    SkipBtn,\n    {\n      text: actions.skipText,\n      handleClick: handleNext,\n      disabled: !!stepperLength && stepIndex >= stepperLength || !!actions.canSkip && !actions.canSkip(),\n      stepIndex\n    }\n  ), [void 0, true].includes(actions.showNext) && /* @__PURE__ */ React.createElement(\n    NextBtn,\n    {\n      text: actions.nextText,\n      handleClick: handleNext,\n      disabled: !!stepperLength && stepIndex >= stepperLength || !!actions.canNext && !actions.canNext(),\n      stepIndex\n    }\n  ), actions.showRestart && stepIndex !== 0 && /* @__PURE__ */ React.createElement(\n    RestartBtn,\n    {\n      text: actions.restartText,\n      handleClick: handleRestart,\n      stepIndex\n    }\n  ), children);\n};\n\nconst useStyles$m = makeStyles(\n  (theme) => ({\n    end: {\n      padding: theme.spacing(3)\n    }\n  }),\n  { name: \"SimpleStepperStep\" }\n);\nfunction SimpleStepperStep(props) {\n  const { title, children, end, actions, ...muiProps } = props;\n  const classes = useStyles$m();\n  return end ? /* @__PURE__ */ React.createElement(Box, { className: classes.end }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\" }, title), children, /* @__PURE__ */ React.createElement(SimpleStepperFooter, { actions: { ...actions || {}, showNext: false } })) : /* @__PURE__ */ React.createElement(MuiStep, { ...muiProps }, /* @__PURE__ */ React.createElement(StepLabel, null, /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\" }, title)), /* @__PURE__ */ React.createElement(StepContent, null, children, /* @__PURE__ */ React.createElement(SimpleStepperFooter, { actions })));\n}\n\nconst useStyles$l = makeStyles(\n  (theme) => ({\n    status: {\n      fontWeight: theme.typography.fontWeightMedium,\n      \"&::before\": {\n        width: \"0.7em\",\n        height: \"0.7em\",\n        display: \"inline-block\",\n        marginRight: theme.spacing(1),\n        borderRadius: \"50%\",\n        content: '\"\"'\n      }\n    },\n    ok: {\n      \"&::before\": {\n        backgroundColor: theme.palette.status.ok\n      }\n    },\n    warning: {\n      \"&::before\": {\n        backgroundColor: theme.palette.status.warning\n      }\n    },\n    error: {\n      \"&::before\": {\n        backgroundColor: theme.palette.status.error\n      }\n    },\n    pending: {\n      \"&::before\": {\n        backgroundColor: theme.palette.status.pending\n      }\n    },\n    running: {\n      \"&::before\": {\n        backgroundColor: theme.palette.status.running\n      }\n    },\n    aborted: {\n      \"&::before\": {\n        backgroundColor: theme.palette.status.aborted\n      }\n    }\n  }),\n  { name: \"BackstageStatus\" }\n);\nfunction StatusOK(props) {\n  const classes = useStyles$l(props);\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status, classes.ok),\n      \"aria-label\": \"Status ok\",\n      \"aria-hidden\": \"true\",\n      ...props\n    }\n  );\n}\nfunction StatusWarning(props) {\n  const classes = useStyles$l(props);\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status, classes.warning),\n      \"aria-label\": \"Status warning\",\n      \"aria-hidden\": \"true\",\n      ...props\n    }\n  );\n}\nfunction StatusError(props) {\n  const classes = useStyles$l(props);\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status, classes.error),\n      \"aria-label\": \"Status error\",\n      \"aria-hidden\": \"true\",\n      ...props\n    }\n  );\n}\nfunction StatusPending(props) {\n  const classes = useStyles$l(props);\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status, classes.pending),\n      \"aria-label\": \"Status pending\",\n      \"aria-hidden\": \"true\",\n      ...props\n    }\n  );\n}\nfunction StatusRunning(props) {\n  const classes = useStyles$l(props);\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status, classes.running),\n      \"aria-label\": \"Status running\",\n      \"aria-hidden\": \"true\",\n      ...props\n    }\n  );\n}\nfunction StatusAborted(props) {\n  const classes = useStyles$l(props);\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status, classes.aborted),\n      \"aria-label\": \"Status aborted\",\n      \"aria-hidden\": \"true\",\n      ...props\n    }\n  );\n}\n\nconst tableTitleCellStyles = (theme) => createStyles({\n  root: {\n    fontWeight: theme.typography.fontWeightBold,\n    whiteSpace: \"nowrap\",\n    paddingRight: theme.spacing(4),\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n});\nconst tableContentCellStyles = {\n  root: {\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n};\nconst listStyles = (theme) => createStyles({\n  root: {\n    margin: theme.spacing(0, 0, -1, 0)\n  }\n});\nconst listItemStyles = (theme) => createStyles({\n  root: {\n    padding: theme.spacing(0, 0, 1, 0)\n  },\n  random: {}\n});\nconst TitleCell = withStyles(tableTitleCellStyles, {\n  name: \"BackstageMetadataTableTitleCell\"\n})(TableCell);\nconst ContentCell = withStyles(tableContentCellStyles, {\n  name: \"BackstageMetadataTableCell\"\n})(TableCell);\nconst MetadataTable = ({\n  dense,\n  children\n}) => /* @__PURE__ */ React.createElement(Table$1, { size: dense ? \"small\" : \"medium\" }, /* @__PURE__ */ React.createElement(TableBody, null, children));\nconst MetadataTableItem = ({\n  title,\n  children,\n  ...rest\n}) => /* @__PURE__ */ React.createElement(TableRow, null, title && /* @__PURE__ */ React.createElement(TitleCell, null, title), /* @__PURE__ */ React.createElement(ContentCell, { colSpan: title ? 1 : 2, ...rest }, children));\nconst MetadataList = withStyles(listStyles, {\n  name: \"BackstageMetadataTableList\"\n})(({ classes, children }) => /* @__PURE__ */ React.createElement(List, { disablePadding: true, className: classes.root }, children));\nconst MetadataListItem = withStyles(listItemStyles, {\n  name: \"BackstageMetadataTableListItem\"\n})(({ classes, children }) => /* @__PURE__ */ React.createElement(ListItem, { className: classes.root }, children));\n\nconst listStyle = createStyles({\n  root: {\n    margin: \"0 0\",\n    listStyleType: \"none\"\n  }\n});\nconst nestedListStyle = (theme) => createStyles({\n  root: {\n    ...listStyle.root,\n    paddingLeft: theme.spacing(1)\n  }\n});\nconst StyledList = withStyles(listStyle, {\n  name: \"BackstageStructuredMetadataTableList\"\n})(({ classes, children }) => /* @__PURE__ */ React.createElement(MetadataList, { classes }, children));\nconst StyledNestedList = withStyles(nestedListStyle, {\n  name: \"BackstageStructuredMetadataTableNestedList\"\n})(({ classes, children }) => /* @__PURE__ */ React.createElement(MetadataList, { classes }, children));\nfunction renderList(list, nested) {\n  const values = list.map((item, index) => /* @__PURE__ */ React.createElement(MetadataListItem, { key: index }, toValue(item)));\n  return nested ? /* @__PURE__ */ React.createElement(StyledNestedList, null, values) : /* @__PURE__ */ React.createElement(StyledList, null, values);\n}\nfunction renderMap(map, nested, options) {\n  const values = Object.keys(map).map((key) => {\n    const value = toValue(map[key], true);\n    const fmtKey = options && options.titleFormat ? options.titleFormat(key) : startCase(key);\n    return /* @__PURE__ */ React.createElement(MetadataListItem, { key }, /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\", component: \"span\" }, `${fmtKey}: `), value);\n  });\n  return nested ? /* @__PURE__ */ React.createElement(StyledNestedList, null, values) : /* @__PURE__ */ React.createElement(StyledList, null, values);\n}\nfunction toValue(value, options, nested) {\n  if (React.isValidElement(value)) {\n    return /* @__PURE__ */ React.createElement(Fragment, null, value);\n  }\n  if (typeof value === \"object\" && !Array.isArray(value)) {\n    return renderMap(value, options, nested);\n  }\n  if (Array.isArray(value)) {\n    return renderList(value, nested);\n  }\n  if (typeof value === \"boolean\") {\n    return /* @__PURE__ */ React.createElement(Fragment, null, value ? \"\\u2705\" : \"\\u274C\");\n  }\n  return /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\", component: \"span\" }, value);\n}\nconst ItemValue = ({ value, options }) => /* @__PURE__ */ React.createElement(Fragment, null, toValue(value, options));\nconst TableItem = ({\n  title,\n  value,\n  options\n}) => {\n  return /* @__PURE__ */ React.createElement(\n    MetadataTableItem,\n    {\n      title: options && options.titleFormat ? options.titleFormat(title) : startCase(title)\n    },\n    /* @__PURE__ */ React.createElement(ItemValue, { value, options })\n  );\n};\nfunction mapToItems(info, options) {\n  return Object.keys(info).map((key) => /* @__PURE__ */ React.createElement(TableItem, { key, title: key, value: info[key], options }));\n}\nfunction StructuredMetadataTable(props) {\n  const { metadata, dense = true, options } = props;\n  const metadataItems = mapToItems(metadata, options || {});\n  return /* @__PURE__ */ React.createElement(MetadataTable, { dense }, metadataItems);\n}\n\nfunction stringify(queryParams) {\n  return qs.stringify(queryParams, {\n    strictNullHandling: true\n  });\n}\nfunction parse(queryString) {\n  return qs.parse(queryString, {\n    ignoreQueryPrefix: true,\n    strictNullHandling: true\n  });\n}\nfunction extractState(queryString, stateName) {\n  const queryParams = parse(queryString);\n  return queryParams[stateName];\n}\nfunction joinQueryString(queryString, stateName, state) {\n  const queryParams = {\n    ...parse(queryString),\n    [stateName]: state\n  };\n  return stringify(queryParams);\n}\nfunction useQueryParamState(stateName, debounceTime = 250) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchParamsString = searchParams.toString();\n  const [queryParamState, setQueryParamState] = useState(\n    extractState(searchParamsString, stateName)\n  );\n  useEffect(() => {\n    const newState = extractState(searchParamsString, stateName);\n    setQueryParamState(\n      (oldState) => isEqual(newState, oldState) ? oldState : newState\n    );\n  }, [searchParamsString, setQueryParamState, stateName]);\n  useDebouncedEffect(\n    () => {\n      const queryString = joinQueryString(\n        searchParamsString,\n        stateName,\n        queryParamState\n      );\n      if (searchParamsString !== queryString) {\n        setSearchParams(queryString, { replace: true });\n      }\n    },\n    [setSearchParams, queryParamState, searchParamsString, stateName],\n    debounceTime\n  );\n  return [queryParamState, setQueryParamState];\n}\n\nconst DEFAULT_SUPPORT_CONFIG = {\n  url: \"https://github.com/backstage/backstage/issues\",\n  items: [\n    {\n      title: \"Support Not Configured\",\n      icon: \"warning\",\n      links: [\n        {\n          // TODO: Update to dedicated support page on backstage.io/docs\n          title: \"Add `app.support` config key\",\n          url: \"https://github.com/backstage/backstage/blob/master/app-config.yaml\"\n        }\n      ]\n    }\n  ]\n};\nfunction useSupportConfig() {\n  const apiHolder = useApiHolder();\n  const config = apiHolder.get(configApiRef);\n  const supportConfig = config == null ? void 0 : config.getOptionalConfig(\"app.support\");\n  if (!supportConfig) {\n    return DEFAULT_SUPPORT_CONFIG;\n  }\n  return {\n    url: supportConfig.getString(\"url\"),\n    items: supportConfig.getConfigArray(\"items\").flatMap((itemConf) => {\n      var _a;\n      return {\n        title: itemConf.getString(\"title\"),\n        icon: itemConf.getOptionalString(\"icon\"),\n        links: ((_a = itemConf.getOptionalConfigArray(\"links\")) != null ? _a : []).flatMap(\n          (linkConf) => ({\n            url: linkConf.getString(\"url\"),\n            title: linkConf.getString(\"title\")\n          })\n        )\n      };\n    })\n  };\n}\n\nfunction useSystemIcon(key, props) {\n  const app = useApp();\n  const Icon = app.getSystemIcon(key);\n  return Icon ? /* @__PURE__ */ React.createElement(Icon, { ...props }) : /* @__PURE__ */ React.createElement(MuiBrokenImageIcon, { ...props });\n}\nfunction BrokenImageIcon(props) {\n  return useSystemIcon(\"brokenImage\", props);\n}\nfunction CatalogIcon(props) {\n  return useSystemIcon(\"catalog\", props);\n}\nfunction ChatIcon(props) {\n  return useSystemIcon(\"chat\", props);\n}\nfunction DashboardIcon(props) {\n  return useSystemIcon(\"dashboard\", props);\n}\nfunction DocsIcon(props) {\n  return useSystemIcon(\"docs\", props);\n}\nfunction EmailIcon(props) {\n  return useSystemIcon(\"email\", props);\n}\nfunction GitHubIcon(props) {\n  return useSystemIcon(\"github\", props);\n}\nfunction GroupIcon(props) {\n  return useSystemIcon(\"group\", props);\n}\nfunction HelpIcon(props) {\n  return useSystemIcon(\"help\", props);\n}\nfunction UserIcon(props) {\n  return useSystemIcon(\"user\", props);\n}\nfunction WarningIcon(props) {\n  return useSystemIcon(\"warning\", props);\n}\n\nconst useStyles$k = makeStyles(\n  {\n    popoverList: {\n      minWidth: 260,\n      maxWidth: 400\n    }\n  },\n  { name: \"BackstageSupportButton\" }\n);\nconst SupportIcon = ({ icon }) => {\n  var _a;\n  const app = useApp();\n  const Icon = icon ? (_a = app.getSystemIcon(icon)) != null ? _a : HelpIcon : HelpIcon;\n  return /* @__PURE__ */ React.createElement(Icon, null);\n};\nconst SupportLink = ({ link }) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(Link, { to: link.url }, (_a = link.title) != null ? _a : link.url);\n};\nconst SupportListItem = ({ item }) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(MenuItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(SupportIcon, { icon: item.icon })), /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      primary: item.title,\n      secondary: (_a = item.links) == null ? void 0 : _a.reduce(\n        (prev, link, idx) => [\n          ...prev,\n          idx > 0 && /* @__PURE__ */ React.createElement(\"br\", { key: idx }),\n          /* @__PURE__ */ React.createElement(SupportLink, { link, key: link.url })\n        ],\n        []\n      )\n    }\n  ));\n};\nfunction SupportButton(props) {\n  const { title, items, children } = props;\n  const { items: configItems } = useSupportConfig();\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles$k();\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"sm\")\n  );\n  const onClickHandler = (event) => {\n    setAnchorEl(event.currentTarget);\n    setPopoverOpen(true);\n  };\n  const popoverCloseHandler = () => {\n    setPopoverOpen(false);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, { display: \"flex\", ml: 1 }, isSmallScreen ? /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      color: \"primary\",\n      size: \"small\",\n      onClick: onClickHandler,\n      \"data-testid\": \"support-button\",\n      \"aria-label\": \"Support\"\n    },\n    /* @__PURE__ */ React.createElement(HelpIcon, null)\n  ) : /* @__PURE__ */ React.createElement(\n    Button$1,\n    {\n      \"data-testid\": \"support-button\",\n      \"aria-label\": \"Support\",\n      color: \"primary\",\n      onClick: onClickHandler,\n      startIcon: /* @__PURE__ */ React.createElement(HelpIcon, null)\n    },\n    \"Support\"\n  )), /* @__PURE__ */ React.createElement(\n    Popover,\n    {\n      \"data-testid\": \"support-button-popover\",\n      open: popoverOpen,\n      anchorEl,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"right\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      onClose: popoverCloseHandler\n    },\n    /* @__PURE__ */ React.createElement(\n      MenuList,\n      {\n        className: classes.popoverList,\n        autoFocusItem: Boolean(anchorEl)\n      },\n      title && /* @__PURE__ */ React.createElement(MenuItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React.createElement(Typography, { variant: \"subtitle1\" }, title)),\n      React.Children.map(children, (child, i) => /* @__PURE__ */ React.createElement(MenuItem, { alignItems: \"flex-start\", key: `child-${i}` }, child)),\n      (items != null ? items : configItems).map((item, i) => /* @__PURE__ */ React.createElement(SupportListItem, { item, key: `item-${i}` }))\n    ),\n    /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(\n      Button$1,\n      {\n        color: \"primary\",\n        onClick: popoverCloseHandler,\n        \"aria-label\": \"Close\"\n      },\n      \"Close\"\n    ))\n  ));\n}\n\nconst useStyles$j = makeStyles(\n  (theme) => ({\n    root: {\n      gridArea: \"pageContent\",\n      minWidth: 0,\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3)\n      }\n    },\n    stretch: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexGrow: 1\n    },\n    noPadding: {\n      padding: 0\n    }\n  }),\n  { name: \"BackstageContent\" }\n);\nfunction Content(props) {\n  const { className, stretch, noPadding, children, ...restProps } = props;\n  const classes = useStyles$j();\n  return /* @__PURE__ */ React.createElement(\n    \"article\",\n    {\n      ...restProps,\n      className: classNames(classes.root, className, {\n        [classes.stretch]: stretch,\n        [classes.noPadding]: noPadding\n      })\n    },\n    children\n  );\n}\n\nconst useStyles$i = makeStyles(\n  (theme) => ({\n    tabsWrapper: {\n      gridArea: \"pageSubheader\",\n      backgroundColor: theme.palette.background.paper,\n      paddingLeft: theme.spacing(3),\n      minWidth: 0\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: \"uppercase\",\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary\n    },\n    selected: {\n      color: theme.palette.text.primary\n    },\n    tabRoot: {\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary\n      }\n    }\n  }),\n  { name: \"BackstageHeaderTabs\" }\n);\nfunction HeaderTabs(props) {\n  const { tabs, onChange, selectedIndex } = props;\n  const [selectedTab, setSelectedTab] = useState(selectedIndex != null ? selectedIndex : 0);\n  const styles = useStyles$i();\n  const handleChange = useCallback(\n    (_, index) => {\n      if (selectedIndex === void 0) {\n        setSelectedTab(index);\n      }\n      if (onChange && selectedIndex !== index)\n        onChange(index);\n    },\n    [selectedIndex, onChange]\n  );\n  useEffect(() => {\n    if (selectedIndex !== void 0) {\n      setSelectedTab(selectedIndex);\n    }\n  }, [selectedIndex]);\n  return /* @__PURE__ */ React.createElement(Box, { className: styles.tabsWrapper }, /* @__PURE__ */ React.createElement(\n    Tabs,\n    {\n      selectionFollowsFocus: true,\n      indicatorColor: \"primary\",\n      textColor: \"inherit\",\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      \"aria-label\": \"tabs\",\n      onChange: handleChange,\n      value: selectedTab\n    },\n    tabs.map((tab, index) => /* @__PURE__ */ React.createElement(\n      TabUI,\n      {\n        ...tab.tabProps,\n        \"data-testid\": `header-tab-${index}`,\n        label: tab.label,\n        key: tab.id,\n        value: index,\n        className: styles.defaultTab,\n        classes: { selected: styles.selected, root: styles.tabRoot }\n      }\n    ))\n  ));\n}\n\nfunction useSelectedSubRoute(subRoutes) {\n  var _a, _b, _c, _d;\n  const params = useParams();\n  const routes = subRoutes.map(({ path, children }) => ({\n    caseSensitive: false,\n    path: `${path}/*`,\n    element: children\n  }));\n  const sortedRoutes = routes.sort(\n    (a, b) => (\n      // remove \"/*\" symbols from path end before comparing\n      b.path.replace(/\\/\\*$/, \"\").localeCompare(a.path.replace(/\\/\\*$/, \"\"))\n    )\n  );\n  const element = (_a = useRoutes(sortedRoutes)) != null ? _a : subRoutes[0].children;\n  let currentRoute = (_b = params[\"*\"]) != null ? _b : \"\";\n  if (!currentRoute.startsWith(\"/\")) {\n    currentRoute = `/${currentRoute}`;\n  }\n  const [matchedRoute] = (_c = matchRoutes(sortedRoutes, currentRoute)) != null ? _c : [];\n  const foundIndex = matchedRoute ? subRoutes.findIndex((t) => `${t.path}/*` === matchedRoute.route.path) : 0;\n  return {\n    index: foundIndex === -1 ? 0 : foundIndex,\n    element,\n    route: (_d = subRoutes[foundIndex]) != null ? _d : subRoutes[0]\n  };\n}\nfunction RoutedTabs(props) {\n  const { routes } = props;\n  const navigate = useNavigate();\n  const { index, route, element } = useSelectedSubRoute(routes);\n  const headerTabs = useMemo(\n    () => routes.map((t) => ({\n      id: t.path,\n      label: t.title,\n      tabProps: t.tabProps\n    })),\n    [routes]\n  );\n  const onTabChange = (tabIndex) => {\n    let { path } = routes[tabIndex];\n    path = path.replace(/\\/\\*$/, \"\");\n    path = path.replace(/^\\//, \"\");\n    navigate(path);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    HeaderTabs,\n    {\n      tabs: headerTabs,\n      selectedIndex: index,\n      onChange: onTabChange\n    }\n  ), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Helmet, { title: route.title }), element));\n}\n\nconst Route = () => null;\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction createSubRoutesFromChildren(childrenProps) {\n  const routeType = (/* @__PURE__ */ React.createElement(Route, { path: \"\", title: \"\" }, /* @__PURE__ */ React.createElement(\"div\", null))).type;\n  return Children.toArray(childrenProps).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSubRoutesFromChildren(child.props.children);\n    }\n    if (child.type !== routeType) {\n      throw new Error(\"Child of TabbedLayout must be an TabbedLayout.Route\");\n    }\n    const { path, title, children, tabProps } = child.props;\n    return [{ path, title, children, tabProps }];\n  });\n}\nfunction TabbedLayout(props) {\n  const routes = createSubRoutesFromChildren(props.children);\n  return /* @__PURE__ */ React.createElement(RoutedTabs, { routes });\n}\nTabbedLayout.Route = Route;\n\nconst useSubvalueCellStyles = makeStyles(\n  (theme) => ({\n    value: {\n      marginBottom: theme.spacing(0.75)\n    },\n    subvalue: {\n      color: theme.palette.textSubtle,\n      fontWeight: \"normal\"\n    }\n  }),\n  { name: \"BackstageSubvalueCell\" }\n);\nfunction SubvalueCell(props) {\n  const { value, subvalue } = props;\n  const classes = useSubvalueCellStyles();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, { className: classes.value }, value), /* @__PURE__ */ React.createElement(Box, { className: classes.subvalue }, subvalue));\n}\n\nconst useFilterStyles$1 = makeStyles(\n  (theme) => ({\n    root: {\n      height: \"100%\",\n      width: \"315px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginRight: theme.spacing(3)\n    },\n    value: {\n      fontWeight: \"bold\",\n      fontSize: 18\n    },\n    header: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: theme.spacing(7.5),\n      justifyContent: \"space-between\",\n      borderBottom: `1px solid ${theme.palette.grey[500]}`\n    },\n    filters: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      \"& > *\": {\n        marginTop: theme.spacing(2)\n      }\n    }\n  }),\n  { name: \"BackstageTableFilters\" }\n);\nconst Filters = (props) => {\n  var _a;\n  const classes = useFilterStyles$1();\n  const { onChangeFilters } = props;\n  const [selectedFilters, setSelectedFilters] = useState({\n    ...props.selectedFilters\n  });\n  const [reset, triggerReset] = useState(false);\n  const handleClick = () => {\n    setSelectedFilters({});\n    triggerReset((el) => !el);\n  };\n  useEffect(() => {\n    onChangeFilters(selectedFilters);\n  }, [selectedFilters, onChangeFilters]);\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.root }, /* @__PURE__ */ React.createElement(Box, { className: classes.header }, /* @__PURE__ */ React.createElement(Box, { className: classes.value }, \"Filters\"), /* @__PURE__ */ React.createElement(Button$1, { color: \"primary\", onClick: handleClick }, \"Clear all\")), /* @__PURE__ */ React.createElement(Box, { className: classes.filters }, ((_a = props.filters) == null ? void 0 : _a.length) && props.filters.map((filter) => /* @__PURE__ */ React.createElement(\n    SelectComponent,\n    {\n      triggerReset: reset,\n      key: filter.element.label,\n      ...filter.element,\n      selected: selectedFilters[filter.element.label],\n      onChange: (el) => setSelectedFilters({\n        ...selectedFilters,\n        [filter.element.label]: el\n      })\n    }\n  ))));\n};\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(AddBox, { ...props, ref })),\n  Check: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Check, { ...props, ref })),\n  Clear: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Clear, { ...props, ref })),\n  Delete: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(DeleteOutline, { ...props, ref })),\n  DetailPanel: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronRight, { ...props, ref })),\n  Edit: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Edit, { ...props, ref })),\n  Export: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(SaveAlt, { ...props, ref })),\n  Filter: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(FilterList, { ...props, ref })),\n  FirstPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(FirstPage, { ...props, ref })),\n  LastPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(LastPage, { ...props, ref })),\n  NextPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronRight, { ...props, ref })),\n  PreviousPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronLeftIcon, { ...props, ref })),\n  ResetSearch: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Clear, { ...props, ref })),\n  Search: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(FilterList, { ...props, ref })),\n  SortArrow: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ArrowUpward, { ...props, ref })),\n  ThirdStateCheck: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Remove, { ...props, ref })),\n  ViewColumn: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ViewColumn, { ...props, ref }))\n};\nfunction extractValueByField(data, field) {\n  const path = field.split(\".\");\n  let value = data[path[0]];\n  for (let i = 1; i < path.length; ++i) {\n    if (value === void 0) {\n      return value;\n    }\n    const f = path[i];\n    value = value[f];\n  }\n  return value;\n}\nconst StyledMTableHeader = withStyles(\n  (theme) => ({\n    header: {\n      padding: theme.spacing(1, 2, 1, 2.5),\n      borderTop: `1px solid ${theme.palette.grey.A100}`,\n      borderBottom: `1px solid ${theme.palette.grey.A100}`,\n      // withStyles hasn't a generic overload for theme\n      fontWeight: theme.typography.fontWeightBold,\n      position: \"static\",\n      wordBreak: \"normal\"\n    }\n  }),\n  { name: \"BackstageTableHeader\" }\n)(MTableHeader);\nconst StyledMTableToolbar = withStyles(\n  (theme) => ({\n    root: {\n      padding: theme.spacing(3, 0, 2.5, 2.5)\n    },\n    title: {\n      \"& > h6\": {\n        fontWeight: theme.typography.fontWeightBold\n      }\n    },\n    searchField: {\n      paddingRight: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageTableToolbar\" }\n)(MTableToolbar);\nconst useFilterStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    title: {\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: 18,\n      whiteSpace: \"nowrap\"\n    }\n  }),\n  { name: \"BackstageTableFiltersContainer\" }\n);\nconst useTableStyles = makeStyles(\n  () => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"start\"\n    }\n  }),\n  { name: \"BackstageTable\" }\n);\nfunction convertColumns(columns, theme) {\n  return columns.map((column) => {\n    var _a;\n    const headerStyle = (_a = column.headerStyle) != null ? _a : {};\n    let cellStyle = column.cellStyle || {};\n    if (column.highlight) {\n      headerStyle.color = theme.palette.textContrast;\n      if (typeof cellStyle === \"object\") {\n        cellStyle.fontWeight = theme.typography.fontWeightBold;\n      } else {\n        const cellStyleFn = cellStyle;\n        cellStyle = (data, rowData, rowColumn) => {\n          const style = cellStyleFn(data, rowData, rowColumn);\n          return { ...style, fontWeight: theme.typography.fontWeightBold };\n        };\n      }\n    }\n    return {\n      ...column,\n      headerStyle,\n      cellStyle\n    };\n  });\n}\nfunction removeDefaultValues(state, defaultState) {\n  return transform(state, (result, value, key) => {\n    if (!isEqual(value, defaultState[key])) {\n      result[key] = value;\n    }\n  });\n}\nconst defaultInitialState = {\n  search: \"\",\n  filtersOpen: false,\n  filters: {}\n};\nfunction TableToolbar(toolbarProps) {\n  const {\n    toolbarRef,\n    setSearch,\n    hasFilters,\n    selectedFiltersLength,\n    toggleFilters\n  } = toolbarProps;\n  const filtersClasses = useFilterStyles();\n  const onSearchChanged = useCallback(\n    (searchText) => {\n      toolbarProps.onSearchChanged(searchText);\n      setSearch(searchText);\n    },\n    [toolbarProps, setSearch]\n  );\n  if (hasFilters) {\n    return /* @__PURE__ */ React.createElement(Box, { className: filtersClasses.root }, /* @__PURE__ */ React.createElement(Box, { className: filtersClasses.root }, /* @__PURE__ */ React.createElement(IconButton, { onClick: toggleFilters, \"aria-label\": \"filter list\" }, /* @__PURE__ */ React.createElement(FilterList, null)), /* @__PURE__ */ React.createElement(Typography, { className: filtersClasses.title }, \"Filters (\", selectedFiltersLength, \")\")), /* @__PURE__ */ React.createElement(\n      StyledMTableToolbar,\n      {\n        ...toolbarProps,\n        ref: toolbarRef,\n        onSearchChanged\n      }\n    ));\n  }\n  return /* @__PURE__ */ React.createElement(\n    StyledMTableToolbar,\n    {\n      ...toolbarProps,\n      ref: toolbarRef,\n      onSearchChanged\n    }\n  );\n}\nfunction Table(props) {\n  const {\n    data,\n    columns,\n    options,\n    title,\n    subtitle,\n    filters,\n    initialState,\n    emptyContent,\n    onStateChange,\n    components,\n    ...restProps\n  } = props;\n  const tableClasses = useTableStyles();\n  const theme = useTheme();\n  const calculatedInitialState = { ...defaultInitialState, ...initialState };\n  const [filtersOpen, setFiltersOpen] = useState(\n    calculatedInitialState.filtersOpen\n  );\n  const toggleFilters = useCallback(\n    () => setFiltersOpen((v) => !v),\n    [setFiltersOpen]\n  );\n  const [selectedFiltersLength, setSelectedFiltersLength] = useState(0);\n  const [tableData, setTableData] = useState(data);\n  const [selectedFilters, setSelectedFilters] = useState(\n    calculatedInitialState.filters\n  );\n  const MTColumns = convertColumns(columns, theme);\n  const [search, setSearch] = useState(calculatedInitialState.search);\n  useEffect(() => {\n    if (onStateChange) {\n      const state = removeDefaultValues(\n        {\n          search,\n          filtersOpen,\n          filters: selectedFilters\n        },\n        defaultInitialState\n      );\n      onStateChange(state);\n    }\n  }, [search, filtersOpen, selectedFilters, onStateChange]);\n  const defaultOptions = {\n    headerStyle: {\n      textTransform: \"uppercase\"\n    }\n  };\n  const getFieldByTitle = useCallback(\n    (titleValue) => {\n      var _a;\n      return (_a = columns.find((el) => el.title === titleValue)) == null ? void 0 : _a.field;\n    },\n    [columns]\n  );\n  useEffect(() => {\n    if (typeof data === \"function\") {\n      return;\n    }\n    if (!selectedFilters) {\n      setTableData(data);\n      return;\n    }\n    const selectedFiltersArray = Object.values(selectedFilters);\n    if (data && selectedFiltersArray.flat().length) {\n      const newData = data.filter(\n        (el) => !!Object.entries(selectedFilters).filter(([, value]) => !!value.length).every(([key, filterValue]) => {\n          const fieldValue = extractValueByField(\n            el,\n            getFieldByTitle(key)\n          );\n          if (Array.isArray(fieldValue) && Array.isArray(filterValue)) {\n            return fieldValue.some((v) => filterValue.includes(v));\n          } else if (Array.isArray(fieldValue)) {\n            return fieldValue.includes(filterValue);\n          } else if (Array.isArray(filterValue)) {\n            return filterValue.includes(fieldValue);\n          }\n          return fieldValue === filterValue;\n        })\n      );\n      setTableData(newData);\n    } else {\n      setTableData(data);\n    }\n    setSelectedFiltersLength(selectedFiltersArray.flat().length);\n  }, [data, selectedFilters, getFieldByTitle]);\n  const constructFilters = (filterConfig, dataValue) => {\n    const extractDistinctValues = (field) => {\n      const distinctValues = /* @__PURE__ */ new Set();\n      const addValue = (value) => {\n        if (value !== void 0 && value !== null) {\n          distinctValues.add(value);\n        }\n      };\n      if (dataValue) {\n        dataValue.forEach((el) => {\n          const value = extractValueByField(\n            el,\n            getFieldByTitle(field)\n          );\n          if (Array.isArray(value)) {\n            value.forEach(addValue);\n          } else {\n            addValue(value);\n          }\n        });\n      }\n      return distinctValues;\n    };\n    const constructSelect = (filter) => {\n      return {\n        placeholder: \"All results\",\n        label: filter.column,\n        multiple: filter.type === \"multiple-select\",\n        items: [...extractDistinctValues(filter.column)].sort().map((value) => ({\n          label: value,\n          value\n        }))\n      };\n    };\n    return filterConfig.map((filter) => ({\n      type: filter.type,\n      element: constructSelect(filter)\n    }));\n  };\n  const hasFilters = !!(filters == null ? void 0 : filters.length);\n  const Toolbar = useCallback(\n    (toolbarProps) => {\n      return /* @__PURE__ */ React.createElement(\n        TableToolbar,\n        {\n          setSearch,\n          hasFilters,\n          selectedFiltersLength,\n          toggleFilters,\n          ...toolbarProps\n        }\n      );\n    },\n    [toggleFilters, hasFilters, selectedFiltersLength, setSearch]\n  );\n  const hasNoRows = typeof data !== \"function\" && data.length === 0;\n  const columnCount = columns.length;\n  const Body = useCallback(\n    (bodyProps) => {\n      if (emptyContent && hasNoRows) {\n        return /* @__PURE__ */ React.createElement(\"tbody\", null, /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", { colSpan: columnCount }, emptyContent)));\n      }\n      return /* @__PURE__ */ React.createElement(MTableBody, { ...bodyProps });\n    },\n    [hasNoRows, emptyContent, columnCount]\n  );\n  return /* @__PURE__ */ React.createElement(Box, { className: tableClasses.root }, filtersOpen && data && typeof data !== \"function\" && (filters == null ? void 0 : filters.length) && /* @__PURE__ */ React.createElement(\n    Filters,\n    {\n      filters: constructFilters(filters, data),\n      selectedFilters,\n      onChangeFilters: setSelectedFilters\n    }\n  ), /* @__PURE__ */ React.createElement(\n    MTable,\n    {\n      components: {\n        Header: StyledMTableHeader,\n        Toolbar,\n        Body,\n        ...components\n      },\n      options: { ...defaultOptions, ...options },\n      columns: MTColumns,\n      icons: tableIcons,\n      title: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { variant: \"h5\", component: \"h2\" }, title), subtitle && /* @__PURE__ */ React.createElement(Typography, { color: \"textSecondary\", variant: \"body1\" }, subtitle)),\n      data: typeof data === \"function\" ? data : tableData,\n      style: { width: \"100%\" },\n      localization: {\n        toolbar: { searchPlaceholder: \"Filter\", searchTooltip: \"Filter\" }\n      },\n      ...restProps\n    }\n  ));\n}\nTable.icons = Object.freeze(tableIcons);\n\nfunction color(data, theme) {\n  const lastNum = data[data.length - 1];\n  if (!lastNum)\n    return void 0;\n  if (lastNum >= 0.9)\n    return theme.palette.status.ok;\n  if (lastNum >= 0.5)\n    return theme.palette.status.warning;\n  return theme.palette.status.error;\n}\nfunction TrendLine(props) {\n  var _a;\n  const theme = useTheme();\n  if (!props.data)\n    return null;\n  return /* @__PURE__ */ React.createElement(Sparklines, { width: 120, height: 30, min: 0, max: 1, ...props }, props.title && /* @__PURE__ */ React.createElement(\"title\", null, props.title), /* @__PURE__ */ React.createElement(SparklinesLine, { color: (_a = props.color) != null ? _a : color(props.data, theme) }));\n}\n\nconst useStyles$h = (props) => makeStyles(\n  (theme) => ({\n    container: {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      marginBottom: theme.spacing(2),\n      textAlign: props.textAlign\n    },\n    leftItemsBox: {\n      flex: \"1 1 auto\",\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    rightItemsBox: {\n      flex: \"0 1 auto\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\",\n      marginLeft: theme.spacing(1),\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    description: {},\n    title: {\n      display: \"inline-flex\",\n      marginBottom: 0\n    }\n  }),\n  { name: \"BackstageContentHeader\" }\n);\nconst ContentHeaderTitle = ({\n  title = \"Unknown page\",\n  className\n}) => /* @__PURE__ */ React.createElement(\n  Typography,\n  {\n    variant: \"h4\",\n    component: \"h2\",\n    className,\n    \"data-testid\": \"header-title\"\n  },\n  title\n);\nfunction ContentHeader(props) {\n  const {\n    description,\n    title,\n    titleComponent: TitleComponent = void 0,\n    children,\n    textAlign = \"left\"\n  } = props;\n  const classes = useStyles$h({ textAlign })();\n  const renderedTitle = TitleComponent ? TitleComponent : /* @__PURE__ */ React.createElement(ContentHeaderTitle, { title, className: classes.title });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Helmet, { title }), /* @__PURE__ */ React.createElement(Box, { className: classes.container }, /* @__PURE__ */ React.createElement(Box, { className: classes.leftItemsBox }, renderedTitle, description && /* @__PURE__ */ React.createElement(Typography, { className: classes.description, variant: \"body2\" }, description)), /* @__PURE__ */ React.createElement(Box, { className: classes.rightItemsBox }, children)));\n}\n\nconst useStyles$g = makeStyles(\n  (theme) => ({\n    micDrop: {\n      maxWidth: \"60%\",\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"96%\",\n        bottom: \"unset\",\n        right: \"unset\",\n        margin: theme.spacing(10, \"auto\", 4)\n      }\n    }\n  }),\n  { name: \"BackstageErrorPageMicDrop\" }\n);\nconst MicDrop = () => {\n  const classes = useStyles$g();\n  return /* @__PURE__ */ React.createElement(\n    \"img\",\n    {\n      src: MicDropSvgUrl,\n      className: classes.micDrop,\n      alt: \"Girl dropping mic from her hands\"\n    }\n  );\n};\n\nconst useStyles$f = makeStyles(\n  (theme) => ({\n    container: {\n      padding: theme.spacing(8),\n      [theme.breakpoints.down(\"xs\")]: {\n        padding: theme.spacing(2)\n      }\n    },\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize\n      }\n    },\n    subtitle: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageErrorPage\" }\n);\nfunction ErrorPage(props) {\n  const { status, statusMessage, additionalInfo, supportUrl } = props;\n  const classes = useStyles$f();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  return /* @__PURE__ */ React.createElement(Grid, { container: true, spacing: 0, className: classes.container }, /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12, sm: 8, md: 4 }, /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      \"data-testid\": \"error\",\n      variant: \"body1\",\n      className: classes.subtitle\n    },\n    \"ERROR \",\n    status,\n    \": \",\n    statusMessage\n  ), /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\", className: classes.subtitle }, additionalInfo), /* @__PURE__ */ React.createElement(Typography, { variant: \"h2\", className: classes.title }, \"Looks like someone dropped the mic!\"), /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\" }, /* @__PURE__ */ React.createElement(Link, { to: \"#\", \"data-testid\": \"go-back-link\", onClick: () => navigate(-1) }, \"Go back\"), \"... or please\", \" \", /* @__PURE__ */ React.createElement(Link, { to: supportUrl || support.url }, \"contact support\"), \" if you think this is a bug.\")), /* @__PURE__ */ React.createElement(MicDrop, null));\n}\n\nconst ClickableText = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      cursor: \"pointer\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsClickableText\" }\n)(Typography);\nconst StyledBox = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      color: \"inherit\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsStyledBox\" }\n)(Box);\nfunction Breadcrumbs(props) {\n  const { children, ...restProps } = props;\n  const [anchorEl, setAnchorEl] = React.useState(\n    null\n  );\n  const childrenArray = React.Children.toArray(children);\n  const [firstPage, secondPage, ...expandablePages] = childrenArray;\n  const currentPage = expandablePages.length ? expandablePages.pop() : childrenArray[childrenArray.length - 1];\n  const hasHiddenBreadcrumbs = childrenArray.length > 3;\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(MaterialBreadcrumbs, { \"aria-label\": \"breadcrumb\", ...restProps }, childrenArray.length > 1 && /* @__PURE__ */ React.createElement(StyledBox, { clone: true }, firstPage), childrenArray.length > 2 && /* @__PURE__ */ React.createElement(StyledBox, { clone: true }, secondPage), hasHiddenBreadcrumbs && /* @__PURE__ */ React.createElement(ClickableText, { onClick: handleClick }, \"...\"), /* @__PURE__ */ React.createElement(Box, { style: { fontStyle: \"italic\" } }, currentPage)), /* @__PURE__ */ React.createElement(\n    Popover,\n    {\n      open,\n      anchorEl,\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n      }\n    },\n    /* @__PURE__ */ React.createElement(List, null, expandablePages.map((pageLink, index) => /* @__PURE__ */ React.createElement(ListItem, { key: index, button: true }, /* @__PURE__ */ React.createElement(StyledBox, { clone: true }, pageLink))))\n  ));\n}\n\nconst drawerWidthClosed = 72;\nconst iconPadding = 24;\nconst userBadgePadding = 18;\nconst sidebarConfig = {\n  drawerWidthClosed,\n  drawerWidthOpen: 224,\n  // As per NN/g's guidance on timing for exposing hidden content\n  // See https://www.nngroup.com/articles/timing-exposing-content/\n  defaultOpenDelayMs: 100,\n  defaultCloseDelayMs: 0,\n  defaultFadeDuration: 200,\n  logoHeight: 32,\n  iconContainerWidth: drawerWidthClosed,\n  iconSize: drawerWidthClosed - iconPadding * 2,\n  iconPadding,\n  selectedIndicatorWidth: 3,\n  userBadgePadding,\n  userBadgeDiameter: drawerWidthClosed - userBadgePadding * 2,\n  mobileSidebarHeight: 56\n};\nconst makeSidebarConfig = (customSidebarConfig) => ({\n  ...sidebarConfig,\n  ...customSidebarConfig,\n  iconContainerWidth: sidebarConfig.drawerWidthClosed,\n  iconSize: sidebarConfig.drawerWidthClosed - sidebarConfig.iconPadding * 2,\n  userBadgeDiameter: sidebarConfig.drawerWidthClosed - sidebarConfig.userBadgePadding * 2\n});\nconst submenuConfig = {\n  drawerWidthClosed: 0,\n  drawerWidthOpen: 202,\n  defaultOpenDelayMs: sidebarConfig.defaultOpenDelayMs + 200\n};\nconst makeSidebarSubmenuConfig = (customSubmenuConfig) => ({\n  ...submenuConfig,\n  ...customSubmenuConfig\n});\nconst SIDEBAR_INTRO_LOCAL_STORAGE = \"@backstage/core/sidebar-intro-dismissed\";\nconst SidebarConfigContext = createContext({\n  sidebarConfig,\n  submenuConfig\n});\nconst SidebarItemWithSubmenuContext = createContext({\n  isHoveredOn: false,\n  setIsHoveredOn: () => {\n  }\n});\n\nconst defaultSidebarOpenStateContext = {\n  isOpen: false,\n  setOpen: () => {\n  }\n};\nconst LegacySidebarContext = createContext(\n  defaultSidebarOpenStateContext\n);\nconst VersionedSidebarContext = createVersionedContext(\"sidebar-open-state-context\");\nfunction SidebarOpenStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ React.createElement(LegacySidebarContext.Provider, { value }, /* @__PURE__ */ React.createElement(\n    VersionedSidebarContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value })\n    },\n    children\n  ));\n}\nconst useSidebarOpenState = () => {\n  const versionedOpenStateContext = useContext(VersionedSidebarContext);\n  const legacyOpenStateContext = useContext(LegacySidebarContext);\n  if (versionedOpenStateContext === void 0) {\n    return legacyOpenStateContext || defaultSidebarOpenStateContext;\n  }\n  const openStateContext = versionedOpenStateContext.atVersion(1);\n  if (openStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return openStateContext;\n};\n\nconst defaultSidebarPinStateContext = {\n  isPinned: true,\n  toggleSidebarPinState: () => {\n  },\n  isMobile: false\n};\nconst LegacySidebarPinStateContext = createContext(defaultSidebarPinStateContext);\nconst VersionedSidebarPinStateContext = createVersionedContext(\"sidebar-pin-state-context\");\nfunction SidebarPinStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ React.createElement(LegacySidebarPinStateContext.Provider, { value }, /* @__PURE__ */ React.createElement(\n    VersionedSidebarPinStateContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value })\n    },\n    children\n  ));\n}\nconst useSidebarPinState = () => {\n  const versionedPinStateContext = useContext(VersionedSidebarPinStateContext);\n  const legacyPinStateContext = useContext(LegacySidebarPinStateContext);\n  if (versionedPinStateContext === void 0) {\n    return legacyPinStateContext || defaultSidebarPinStateContext;\n  }\n  const pinStateContext = versionedPinStateContext.atVersion(1);\n  if (pinStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return pinStateContext;\n};\n\nconst useStyles$e = makeStyles(\n  (theme) => ({\n    root: {\n      flexGrow: 0,\n      margin: theme.spacing(0, 2),\n      color: theme.palette.navigation.color\n    },\n    selected: (props) => ({\n      color: `${theme.palette.navigation.selectedColor}!important`,\n      borderTop: `solid ${props.sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n      marginTop: \"-1px\"\n    }),\n    label: {\n      display: \"none\"\n    }\n  })\n);\nconst MobileSidebarGroup = (props) => {\n  const { to, label, icon, value } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles$e({ sidebarConfig });\n  const location = useLocation();\n  const { selectedMenuItemIndex, setSelectedMenuItemIndex } = useContext(MobileSidebarContext);\n  const onChange = (_, value2) => {\n    if (value2 === selectedMenuItemIndex) {\n      setSelectedMenuItemIndex(-1);\n    } else {\n      setSelectedMenuItemIndex(value2);\n    }\n  };\n  const selected = value === selectedMenuItemIndex && selectedMenuItemIndex >= 0 || !(value === selectedMenuItemIndex) && !(selectedMenuItemIndex >= 0) && to === location.pathname;\n  return (\n    // Material UI issue: https://github.com/mui-org/material-ui/issues/27820\n    /* @__PURE__ */ React.createElement(\n      BottomNavigationAction,\n      {\n        \"aria-label\": label,\n        label,\n        icon,\n        component: Link,\n        to: to ? to : location.pathname,\n        onChange,\n        value,\n        selected,\n        classes\n      }\n    )\n  );\n};\nconst SidebarGroup = (props) => {\n  const { children, to, label, icon, value } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ React.createElement(MobileSidebarGroup, { to, label, icon, value }) : /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n};\n\nconst useStyles$d = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"fixed\",\n      backgroundColor: theme.palette.navigation.background,\n      color: theme.palette.navigation.color,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: theme.zIndex.snackbar,\n      // SidebarDivider color\n      borderTop: \"1px solid #383838\",\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    overlay: (props) => ({\n      background: theme.palette.navigation.background,\n      width: \"100%\",\n      bottom: `${props.sidebarConfig.mobileSidebarHeight}px`,\n      height: `calc(100% - ${props.sidebarConfig.mobileSidebarHeight}px)`,\n      flex: \"0 1 auto\",\n      overflow: \"auto\"\n    }),\n    overlayHeader: {\n      display: \"flex\",\n      color: theme.palette.text.primary,\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2, 3)\n    },\n    overlayHeaderClose: {\n      color: theme.palette.text.primary\n    },\n    marginMobileSidebar: (props) => ({\n      marginBottom: `${props.sidebarConfig.mobileSidebarHeight}px`\n    })\n  })\n);\nconst sortSidebarGroupsForPriority = (children) => orderBy(\n  children,\n  ({ props: { priority } }) => Number.isInteger(priority) ? priority : -1,\n  \"desc\"\n);\nconst sidebarGroupType = React.createElement(SidebarGroup).type;\nconst OverlayMenu = ({\n  children,\n  label = \"Menu\",\n  open,\n  onClose\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles$d({ sidebarConfig });\n  return /* @__PURE__ */ React.createElement(\n    Drawer,\n    {\n      anchor: \"bottom\",\n      open,\n      onClose,\n      ModalProps: {\n        BackdropProps: { classes: { root: classes.marginMobileSidebar } }\n      },\n      classes: {\n        root: classes.marginMobileSidebar,\n        paperAnchorBottom: classes.overlay\n      }\n    },\n    /* @__PURE__ */ React.createElement(Box, { className: classes.overlayHeader }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h3\" }, label), /* @__PURE__ */ React.createElement(\n      IconButton,\n      {\n        onClick: onClose,\n        classes: { root: classes.overlayHeaderClose }\n      },\n      /* @__PURE__ */ React.createElement(CloseIcon, null)\n    )),\n    /* @__PURE__ */ React.createElement(Box, { component: \"nav\" }, children)\n  );\n};\nconst MobileSidebarContext = createContext({\n  selectedMenuItemIndex: -1,\n  setSelectedMenuItemIndex: () => {\n  }\n});\nconst MobileSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { children } = props;\n  const classes = useStyles$d({ sidebarConfig });\n  const location = useLocation();\n  const [selectedMenuItemIndex, setSelectedMenuItemIndex] = useState(-1);\n  useEffect(() => {\n    setSelectedMenuItemIndex(-1);\n  }, [location.pathname]);\n  let sidebarGroups = useElementFilter(\n    children,\n    (elements) => elements.getElements().filter((child) => child.type === sidebarGroupType)\n  );\n  if (!children) {\n    return null;\n  } else if (!sidebarGroups.length) {\n    sidebarGroups.push(\n      /* @__PURE__ */ React.createElement(SidebarGroup, { key: \"default_menu\", icon: /* @__PURE__ */ React.createElement(MenuIcon, null) }, children)\n    );\n  } else {\n    sidebarGroups = sortSidebarGroupsForPriority(sidebarGroups);\n  }\n  const shouldShowGroupChildren = selectedMenuItemIndex >= 0 && !sidebarGroups[selectedMenuItemIndex].props.to;\n  return /* @__PURE__ */ React.createElement(SidebarOpenStateProvider, { value: { isOpen: true, setOpen: () => {\n  } } }, /* @__PURE__ */ React.createElement(\n    MobileSidebarContext.Provider,\n    {\n      value: { selectedMenuItemIndex, setSelectedMenuItemIndex }\n    },\n    /* @__PURE__ */ React.createElement(\n      OverlayMenu,\n      {\n        label: sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.label,\n        open: shouldShowGroupChildren,\n        onClose: () => setSelectedMenuItemIndex(-1)\n      },\n      sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.children\n    ),\n    /* @__PURE__ */ React.createElement(\n      BottomNavigation,\n      {\n        className: classes.root,\n        \"data-testid\": \"mobile-sidebar-root\",\n        component: \"nav\"\n      },\n      sidebarGroups\n    )\n  ));\n};\n\nconst LocalStorage = {\n  getSidebarPinState() {\n    let value;\n    try {\n      value = JSON.parse(\n        window.localStorage.getItem(\"sidebarPinState\" /* SIDEBAR_PIN_STATE */) || \"true\"\n      );\n    } catch {\n      return true;\n    }\n    return !!value;\n  },\n  setSidebarPinState(state) {\n    return window.localStorage.setItem(\n      \"sidebarPinState\" /* SIDEBAR_PIN_STATE */,\n      JSON.stringify(state)\n    );\n  }\n};\n\nconst useStyles$c = makeStyles(\n  (theme) => ({\n    root: {\n      width: \"100%\",\n      transition: \"padding-left 0.1s ease-out\",\n      isolation: \"isolate\",\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: (props) => props.isPinned ? props.sidebarConfig.drawerWidthOpen : props.sidebarConfig.drawerWidthClosed\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: (props) => props.sidebarConfig.mobileSidebarHeight\n      },\n      \"@media print\": {\n        padding: \"0px !important\"\n      }\n    },\n    content: {\n      zIndex: 0,\n      isolation: \"isolate\",\n      \"&:focus\": {\n        outline: 0\n      }\n    }\n  }),\n  { name: \"BackstageSidebarPage\" }\n);\nconst PageContext = createContext({\n  content: {\n    contentRef: void 0\n  }\n});\nfunction SidebarPage(props) {\n  const [isPinned, setIsPinned] = useState(\n    () => LocalStorage.getSidebarPinState()\n  );\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const contentRef = useRef(null);\n  const pageContext = useMemo(\n    () => ({\n      content: {\n        contentRef\n      }\n    }),\n    [contentRef]\n  );\n  useEffect(() => {\n    LocalStorage.setSidebarPinState(isPinned);\n  }, [isPinned]);\n  const isMobile = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"xs\"),\n    { noSsr: true }\n  );\n  const toggleSidebarPinState = () => setIsPinned(!isPinned);\n  const classes = useStyles$c({ isPinned, sidebarConfig });\n  return /* @__PURE__ */ React.createElement(\n    SidebarPinStateProvider,\n    {\n      value: {\n        isPinned,\n        toggleSidebarPinState,\n        isMobile\n      }\n    },\n    /* @__PURE__ */ React.createElement(PageContext.Provider, { value: pageContext }, /* @__PURE__ */ React.createElement(Box, { className: classes.root }, props.children))\n  );\n}\nfunction useContent() {\n  const { content } = useContext(PageContext);\n  const focusContent = useCallback(() => {\n    var _a, _b;\n    (_b = (_a = content == null ? void 0 : content.contentRef) == null ? void 0 : _a.current) == null ? void 0 : _b.focus();\n  }, [content]);\n  return { focusContent, contentRef: content == null ? void 0 : content.contentRef };\n}\n\nconst useStyles$b = makeStyles(\n  (theme) => ({\n    drawer: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      position: \"fixed\",\n      left: 0,\n      top: 0,\n      bottom: 0,\n      zIndex: theme.zIndex.appBar,\n      background: theme.palette.navigation.background,\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shortest\n      }),\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      },\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    drawerWidth: (props) => ({\n      width: props.sidebarConfig.drawerWidthClosed\n    }),\n    drawerOpen: (props) => ({\n      width: props.sidebarConfig.drawerWidthOpen,\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shorter\n      })\n    }),\n    visuallyHidden: {\n      top: 0,\n      position: \"absolute\",\n      zIndex: 1e3,\n      transform: \"translateY(-200%)\",\n      \"&:focus\": {\n        transform: \"translateY(5px)\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebar\" }\n);\nconst DesktopSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const {\n    openDelayMs = sidebarConfig.defaultOpenDelayMs,\n    closeDelayMs = sidebarConfig.defaultCloseDelayMs,\n    disableExpandOnHover,\n    children\n  } = props;\n  const classes = useStyles$b({ sidebarConfig });\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  const [state, setState] = useState(0 /* Closed */);\n  const hoverTimerRef = useRef();\n  const { isPinned, toggleSidebarPinState } = useSidebarPinState();\n  const handleOpen = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state !== 2 /* Open */ && !isSmallScreen) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(2 /* Open */);\n      }, openDelayMs);\n      setState(1 /* Idle */);\n    }\n  };\n  const handleClose = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state === 1 /* Idle */) {\n      setState(0 /* Closed */);\n    } else if (state === 2 /* Open */) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(0 /* Closed */);\n      }, closeDelayMs);\n    }\n  };\n  const isOpen = state === 2 /* Open */ && !isSmallScreen || isPinned;\n  const setOpen = (open) => {\n    if (open) {\n      setState(2 /* Open */);\n      toggleSidebarPinState();\n    } else {\n      setState(0 /* Closed */);\n      toggleSidebarPinState();\n    }\n  };\n  return /* @__PURE__ */ React.createElement(\"nav\", { style: {}, \"aria-label\": \"sidebar nav\" }, /* @__PURE__ */ React.createElement(A11ySkipSidebar, null), /* @__PURE__ */ React.createElement(SidebarOpenStateProvider, { value: { isOpen, setOpen } }, /* @__PURE__ */ React.createElement(\n    Box,\n    {\n      className: classes.root,\n      \"data-testid\": \"sidebar-root\",\n      onMouseEnter: disableExpandOnHover ? () => {\n      } : handleOpen,\n      onFocus: disableExpandOnHover ? () => {\n      } : handleOpen,\n      onMouseLeave: disableExpandOnHover ? () => {\n      } : handleClose,\n      onBlur: disableExpandOnHover ? () => {\n      } : handleClose\n    },\n    /* @__PURE__ */ React.createElement(\n      Box,\n      {\n        className: classNames(classes.drawer, classes.drawerWidth, {\n          [classes.drawerOpen]: isOpen\n        })\n      },\n      children\n    )\n  )));\n};\nconst Sidebar = (props) => {\n  var _a, _b;\n  const sidebarConfig = makeSidebarConfig(\n    (_a = props.sidebarOptions) != null ? _a : {}\n  );\n  const submenuConfig = makeSidebarSubmenuConfig(\n    (_b = props.submenuOptions) != null ? _b : {}\n  );\n  const { children, disableExpandOnHover, openDelayMs, closeDelayMs } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ React.createElement(MobileSidebar, null, children) : /* @__PURE__ */ React.createElement(SidebarConfigContext.Provider, { value: { sidebarConfig, submenuConfig } }, /* @__PURE__ */ React.createElement(\n    DesktopSidebar,\n    {\n      openDelayMs,\n      closeDelayMs,\n      disableExpandOnHover\n    },\n    children\n  ));\n};\nfunction A11ySkipSidebar() {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { focusContent, contentRef } = useContent();\n  const classes = useStyles$b({ sidebarConfig });\n  if (!(contentRef == null ? void 0 : contentRef.current)) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\n    Button$1,\n    {\n      onClick: focusContent,\n      variant: \"contained\",\n      className: classNames(classes.visuallyHidden)\n    },\n    \"Skip to content\"\n  );\n}\n\nfunction isLocationMatch(currentLocation, toLocation, exact = false) {\n  const toDecodedSearch = new URLSearchParams(toLocation.search).toString();\n  const toQueryParameters = qs.parse(toDecodedSearch);\n  const currentDecodedSearch = new URLSearchParams(\n    currentLocation.search\n  ).toString();\n  const currentQueryParameters = qs.parse(currentDecodedSearch);\n  const queryStringMatcher = exact ? isEqual : isMatch;\n  const matching = isEqual(toLocation.pathname, currentLocation.pathname) && queryStringMatcher(currentQueryParameters, toQueryParameters);\n  return matching;\n}\n\nconst useStyles$a = makeStyles(\n  (theme) => {\n    var _a, _b;\n    return {\n      item: {\n        height: 48,\n        width: \"100%\",\n        \"&:hover\": {\n          background: ((_a = theme.palette.navigation.navItem) == null ? void 0 : _a.hoverBackground) || \"#6f6f6f\",\n          color: theme.palette.navigation.selectedColor\n        },\n        display: \"flex\",\n        alignItems: \"center\",\n        color: theme.palette.navigation.color,\n        padding: theme.spacing(2.5),\n        cursor: \"pointer\",\n        position: \"relative\",\n        background: \"none\",\n        border: \"none\"\n      },\n      itemContainer: {\n        width: \"100%\"\n      },\n      selected: {\n        background: \"#6f6f6f\",\n        color: theme.palette.common.white\n      },\n      label: {\n        margin: theme.spacing(1.75),\n        marginLeft: theme.spacing(1),\n        fontSize: theme.typography.body2.fontSize,\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        \"text-overflow\": \"ellipsis\",\n        lineHeight: 1\n      },\n      subtitle: {\n        fontSize: 10,\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        \"text-overflow\": \"ellipsis\"\n      },\n      dropdownArrow: {\n        position: \"absolute\",\n        right: 21\n      },\n      dropdown: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"end\"\n      },\n      dropdownItem: {\n        width: \"100%\",\n        padding: \"10px 0 10px 0\",\n        \"&:hover\": {\n          background: ((_b = theme.palette.navigation.navItem) == null ? void 0 : _b.hoverBackground) || \"#6f6f6f\",\n          color: theme.palette.navigation.selectedColor\n        }\n      },\n      textContent: {\n        color: theme.palette.navigation.color,\n        paddingLeft: theme.spacing(4),\n        paddingRight: theme.spacing(1),\n        fontSize: theme.typography.body2.fontSize,\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        \"text-overflow\": \"ellipsis\"\n      }\n    };\n  },\n  { name: \"BackstageSidebarSubmenuItem\" }\n);\nconst SidebarSubmenuItem = (props) => {\n  const { title, subtitle, to, icon: Icon, dropdownItems, exact } = props;\n  const classes = useStyles$a();\n  const { setIsHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const closeSubmenu = () => {\n    setIsHoveredOn(false);\n  };\n  const toLocation = useResolvedPath$1(to != null ? to : \"\");\n  const currentLocation = useLocation();\n  let isActive = isLocationMatch(currentLocation, toLocation, exact);\n  const [showDropDown, setShowDropDown] = useState(false);\n  const handleClickDropdown = () => {\n    setShowDropDown(!showDropDown);\n  };\n  if (dropdownItems !== void 0) {\n    dropdownItems.some((item) => {\n      const resolvedPath = resolvePath(item.to);\n      isActive = isLocationMatch(currentLocation, resolvedPath, exact);\n      return isActive;\n    });\n    return /* @__PURE__ */ React.createElement(Box, { className: classes.itemContainer }, /* @__PURE__ */ React.createElement(Tooltip, { title, enterDelay: 500, enterNextDelay: 500 }, /* @__PURE__ */ React.createElement(\n      Button$1,\n      {\n        role: \"button\",\n        onClick: handleClickDropdown,\n        onTouchStart: (e) => e.stopPropagation(),\n        className: classNames(\n          classes.item,\n          isActive ? classes.selected : void 0\n        )\n      },\n      Icon && /* @__PURE__ */ React.createElement(Icon, { fontSize: \"small\" }),\n      /* @__PURE__ */ React.createElement(\n        Typography,\n        {\n          variant: \"subtitle1\",\n          component: \"span\",\n          className: classes.label\n        },\n        title,\n        /* @__PURE__ */ React.createElement(\"br\", null),\n        subtitle && /* @__PURE__ */ React.createElement(\n          Typography,\n          {\n            variant: \"caption\",\n            component: \"span\",\n            className: classes.subtitle\n          },\n          subtitle\n        )\n      ),\n      showDropDown ? /* @__PURE__ */ React.createElement(ArrowDropUpIcon, { className: classes.dropdownArrow }) : /* @__PURE__ */ React.createElement(ArrowDropDownIcon, { className: classes.dropdownArrow })\n    )), dropdownItems && showDropDown && /* @__PURE__ */ React.createElement(Box, { className: classes.dropdown }, dropdownItems.map((object, key) => /* @__PURE__ */ React.createElement(\n      Tooltip,\n      {\n        key,\n        title: object.title,\n        enterDelay: 500,\n        enterNextDelay: 500\n      },\n      /* @__PURE__ */ React.createElement(\n        Link,\n        {\n          to: object.to,\n          underline: \"none\",\n          className: classes.dropdownItem,\n          onClick: closeSubmenu,\n          onTouchStart: (e) => e.stopPropagation()\n        },\n        /* @__PURE__ */ React.createElement(Typography, { component: \"span\", className: classes.textContent }, object.title)\n      )\n    ))));\n  }\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.itemContainer }, /* @__PURE__ */ React.createElement(Tooltip, { title, enterDelay: 500, enterNextDelay: 500 }, /* @__PURE__ */ React.createElement(\n    Link,\n    {\n      to,\n      underline: \"none\",\n      className: classNames(\n        classes.item,\n        isActive ? classes.selected : void 0\n      ),\n      onClick: closeSubmenu,\n      onTouchStart: (e) => e.stopPropagation()\n    },\n    Icon && /* @__PURE__ */ React.createElement(Icon, { fontSize: \"small\" }),\n    /* @__PURE__ */ React.createElement(\n      Typography,\n      {\n        variant: \"subtitle1\",\n        component: \"span\",\n        className: classes.label\n      },\n      title,\n      /* @__PURE__ */ React.createElement(\"br\", null),\n      subtitle && /* @__PURE__ */ React.createElement(\n        Typography,\n        {\n          variant: \"caption\",\n          component: \"span\",\n          className: classes.subtitle\n        },\n        subtitle\n      )\n    )\n  )));\n};\n\nconst useStyles$9 = makeStyles(\n  (theme) => ({\n    root: {\n      zIndex: 1e3,\n      position: \"relative\",\n      overflow: \"visible\",\n      width: theme.spacing(7) + 1\n    },\n    drawer: (props) => {\n      var _a, _b;\n      return {\n        display: \"flex\",\n        flexFlow: \"column nowrap\",\n        alignItems: \"flex-start\",\n        position: \"fixed\",\n        [theme.breakpoints.up(\"sm\")]: {\n          marginLeft: props.left,\n          transition: theme.transitions.create(\"margin-left\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.shortest\n          })\n        },\n        top: 0,\n        bottom: 0,\n        padding: 0,\n        background: (_b = (_a = theme.palette.navigation.submenu) == null ? void 0 : _a.background) != null ? _b : \"#404040\",\n        overflowX: \"hidden\",\n        msOverflowStyle: \"none\",\n        scrollbarWidth: \"none\",\n        cursor: \"default\",\n        width: props.submenuConfig.drawerWidthClosed,\n        transitionDelay: `${props.submenuConfig.defaultOpenDelayMs}ms`,\n        \"& > *\": {\n          flexShrink: 0\n        },\n        \"&::-webkit-scrollbar\": {\n          display: \"none\"\n        }\n      };\n    },\n    drawerOpen: (props) => ({\n      width: props.submenuConfig.drawerWidthOpen,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"100%\",\n        position: \"relative\",\n        paddingLeft: theme.spacing(3),\n        left: 0,\n        top: 0\n      }\n    }),\n    title: {\n      fontSize: theme.typography.h5.fontSize,\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.palette.common.white,\n      padding: theme.spacing(2.5),\n      [theme.breakpoints.down(\"xs\")]: {\n        display: \"none\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebarSubmenu\" }\n);\nconst SidebarSubmenu = (props) => {\n  const { isOpen } = useSidebarOpenState();\n  const { sidebarConfig, submenuConfig } = useContext(SidebarConfigContext);\n  const left = isOpen ? sidebarConfig.drawerWidthOpen : sidebarConfig.drawerWidthClosed;\n  const classes = useStyles$9({ left, submenuConfig });\n  const { isHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const [isSubmenuOpen, setIsSubmenuOpen] = useState(false);\n  useEffect(() => {\n    setIsSubmenuOpen(isHoveredOn);\n  }, [isHoveredOn]);\n  return /* @__PURE__ */ React.createElement(\n    Box,\n    {\n      className: classNames(classes.drawer, {\n        [classes.drawerOpen]: isSubmenuOpen\n      })\n    },\n    /* @__PURE__ */ React.createElement(Typography, { variant: \"h5\", component: \"span\", className: classes.title }, props.title),\n    props.children\n  );\n};\n\nconst useStyles$8 = makeStyles({\n  iconContainer: {\n    display: \"flex\",\n    position: \"relative\",\n    width: \"100%\"\n  },\n  arrow1: {\n    right: \"6px\",\n    position: \"absolute\"\n  }\n});\nconst DoubleArrowLeft = () => {\n  const classes = useStyles$8();\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.iconContainer }, /* @__PURE__ */ React.createElement(Box, { className: classes.arrow1 }, /* @__PURE__ */ React.createElement(ArrowBackIosIcon, { style: { fontSize: \"12px\" } })), /* @__PURE__ */ React.createElement(Box, null, /* @__PURE__ */ React.createElement(ArrowBackIosIcon, { style: { fontSize: \"12px\" } })));\n};\n\nconst useStyles$7 = makeStyles({\n  iconContainer: {\n    display: \"flex\",\n    position: \"relative\",\n    width: \"100%\"\n  },\n  arrow1: {\n    right: \"6px\",\n    position: \"absolute\"\n  }\n});\nconst DoubleArrowRight = () => {\n  const classes = useStyles$7();\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.iconContainer }, /* @__PURE__ */ React.createElement(Box, { className: classes.arrow1 }, /* @__PURE__ */ React.createElement(ArrowForwardIosIcon, { style: { fontSize: \"12px\" } })), /* @__PURE__ */ React.createElement(Box, null, /* @__PURE__ */ React.createElement(ArrowForwardIosIcon, { style: { fontSize: \"12px\" } })));\n};\n\nconst makeSidebarStyles = (sidebarConfig) => makeStyles(\n  (theme) => {\n    var _a, _b, _c, _d;\n    return {\n      root: {\n        color: theme.palette.navigation.color,\n        display: \"flex\",\n        flexFlow: \"row nowrap\",\n        alignItems: \"center\",\n        height: 48,\n        cursor: \"pointer\"\n      },\n      buttonItem: {\n        background: \"none\",\n        border: \"none\",\n        width: \"100%\",\n        margin: 0,\n        padding: 0,\n        textAlign: \"inherit\",\n        font: \"inherit\",\n        textTransform: \"none\"\n      },\n      closed: {\n        width: sidebarConfig.drawerWidthClosed,\n        justifyContent: \"center\"\n      },\n      open: {\n        [theme.breakpoints.up(\"sm\")]: {\n          width: sidebarConfig.drawerWidthOpen\n        }\n      },\n      highlightable: {\n        \"&:hover\": {\n          background: (_b = (_a = theme.palette.navigation.navItem) == null ? void 0 : _a.hoverBackground) != null ? _b : \"#404040\"\n        }\n      },\n      highlighted: {\n        background: (_d = (_c = theme.palette.navigation.navItem) == null ? void 0 : _c.hoverBackground) != null ? _d : \"#404040\"\n      },\n      label: {\n        // XXX (@koroeskohr): I can't seem to achieve the desired font-weight from the designs\n        fontWeight: \"bold\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"auto\",\n        flex: \"3 1 auto\",\n        width: \"110px\",\n        overflow: \"hidden\",\n        \"text-overflow\": \"ellipsis\"\n      },\n      iconContainer: {\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        width: sidebarConfig.iconContainerWidth,\n        marginRight: -theme.spacing(2),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        lineHeight: \"0\"\n      },\n      searchRoot: {\n        marginBottom: 12\n      },\n      searchField: {\n        color: \"#b5b5b5\",\n        fontWeight: theme.typography.fontWeightBold,\n        fontSize: theme.typography.fontSize\n      },\n      searchFieldHTMLInput: {\n        padding: theme.spacing(2, 0, 2)\n      },\n      searchContainer: {\n        width: sidebarConfig.drawerWidthOpen - sidebarConfig.iconContainerWidth\n      },\n      secondaryAction: {\n        width: theme.spacing(6),\n        textAlign: \"center\",\n        marginRight: theme.spacing(1)\n      },\n      closedItemIcon: {\n        width: \"100%\",\n        justifyContent: \"center\"\n      },\n      submenuArrow: {\n        display: \"flex\"\n      },\n      expandButton: {\n        background: \"none\",\n        border: \"none\",\n        color: theme.palette.navigation.color,\n        width: \"100%\",\n        cursor: \"pointer\",\n        position: \"relative\",\n        height: 48\n      },\n      arrows: {\n        position: \"absolute\",\n        right: 10\n      },\n      selected: {\n        \"&$root\": {\n          borderLeft: `solid ${sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n          color: theme.palette.navigation.selectedColor\n        },\n        \"&$closed\": {\n          width: sidebarConfig.drawerWidthClosed\n        },\n        \"& $closedItemIcon\": {\n          paddingRight: sidebarConfig.selectedIndicatorWidth\n        },\n        \"& $iconContainer\": {\n          marginLeft: -sidebarConfig.selectedIndicatorWidth\n        }\n      }\n    };\n  },\n  { name: \"BackstageSidebarItem\" }\n);\nfunction useMemoStyles(sidebarConfig) {\n  const useStyles = useMemo(\n    () => makeSidebarStyles(sidebarConfig),\n    [sidebarConfig]\n  );\n  return useStyles();\n}\nconst useLocationMatch = (submenu, location) => useElementFilter(\n  submenu.props.children,\n  (elements) => {\n    let active = false;\n    elements.getElements().forEach(\n      ({\n        props: { to, dropdownItems }\n      }) => {\n        if (!active) {\n          if (dropdownItems == null ? void 0 : dropdownItems.length) {\n            dropdownItems.forEach(\n              ({ to: _to }) => active = active || isLocationMatch(location, resolvePath(_to))\n            );\n            return;\n          }\n          if (to) {\n            active = isLocationMatch(location, resolvePath(to));\n          }\n        }\n      }\n    );\n    return active;\n  },\n  [location.pathname]\n);\nfunction isButtonItem(props) {\n  return props.to === void 0;\n}\nconst sidebarSubmenuType = React.createElement(SidebarSubmenu).type;\nconst WorkaroundNavLink = React.forwardRef(function WorkaroundNavLinkWithRef({\n  to,\n  end,\n  style,\n  className,\n  activeStyle,\n  caseSensitive,\n  activeClassName = \"active\",\n  \"aria-current\": ariaCurrentProp = \"page\",\n  ...rest\n}, ref) {\n  let { pathname: locationPathname } = useLocation();\n  let { pathname: toPathname } = useResolvedPath$1(to);\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLocaleLowerCase(\"en-US\");\n    toPathname = toPathname.toLocaleLowerCase(\"en-US\");\n  }\n  let isActive = locationPathname === toPathname;\n  if (!isActive && !end) {\n    isActive = locationPathname.startsWith(`${toPathname}/`);\n  }\n  const ariaCurrent = isActive ? ariaCurrentProp : void 0;\n  return /* @__PURE__ */ React.createElement(\n    Link$1,\n    {\n      ...rest,\n      to,\n      ref,\n      \"aria-current\": ariaCurrent,\n      style: { ...style, ...isActive ? activeStyle : void 0 },\n      className: classNames([\n        className,\n        isActive ? activeClassName : void 0\n      ])\n    }\n  );\n});\nconst SidebarItemBase = forwardRef((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    hasSubmenu = false,\n    disableHighlight = false,\n    onClick,\n    noTrack,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen } = useSidebarOpenState();\n  const divStyle = !isOpen && hasSubmenu ? { display: \"flex\", marginLeft: \"20px\" } : { lineHeight: \"0\" };\n  const displayItemIcon = /* @__PURE__ */ React.createElement(Box, { style: divStyle }, /* @__PURE__ */ React.createElement(Icon, { fontSize: \"small\" }), !isOpen && hasSubmenu ? /* @__PURE__ */ React.createElement(ArrowRightIcon, { fontSize: \"small\" }) : /* @__PURE__ */ React.createElement(React.Fragment, null));\n  const itemIcon = /* @__PURE__ */ React.createElement(\n    Badge,\n    {\n      color: \"secondary\",\n      variant: \"dot\",\n      overlap: \"circular\",\n      invisible: !hasNotifications,\n      className: classNames({ [classes.closedItemIcon]: !isOpen })\n    },\n    displayItemIcon\n  );\n  const openContent = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, { \"data-testid\": \"login-button\", className: classes.iconContainer }, itemIcon), text && /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      variant: \"subtitle2\",\n      component: \"span\",\n      className: classes.label\n    },\n    text\n  ), /* @__PURE__ */ React.createElement(\"div\", { className: classes.secondaryAction }, children));\n  const content = isOpen ? openContent : itemIcon;\n  const childProps = {\n    onClick,\n    className: classNames(\n      className,\n      classes.root,\n      isOpen ? classes.open : classes.closed,\n      isButtonItem(props) && classes.buttonItem,\n      { [classes.highlightable]: !disableHighlight }\n    )\n  };\n  const analyticsApi = useAnalytics();\n  const { pathname: to } = useResolvedPath$1(\n    !isButtonItem(props) && props.to ? props.to : \"\"\n  );\n  const handleClick = useCallback(\n    (event) => {\n      if (!noTrack) {\n        const action = \"click\";\n        const subject = text != null ? text : \"Sidebar Item\";\n        const options = to ? { attributes: { to } } : void 0;\n        analyticsApi.captureEvent(action, subject, options);\n      }\n      onClick == null ? void 0 : onClick(event);\n    },\n    [analyticsApi, text, to, noTrack, onClick]\n  );\n  if (isButtonItem(props)) {\n    return /* @__PURE__ */ React.createElement(\n      Button$1,\n      {\n        role: \"button\",\n        \"aria-label\": text,\n        ...childProps,\n        ref,\n        onClick: handleClick\n      },\n      content\n    );\n  }\n  return /* @__PURE__ */ React.createElement(\n    WorkaroundNavLink,\n    {\n      ...childProps,\n      activeClassName: classes.selected,\n      to: props.to ? props.to : \"\",\n      ref,\n      \"aria-label\": text ? text : props.to,\n      ...navLinkProps,\n      onClick: handleClick\n    },\n    content\n  );\n});\nconst SidebarItemWithSubmenu = ({\n  children,\n  ...props\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const [isHoveredOn, setIsHoveredOn] = useState(false);\n  const location = useLocation();\n  const isActive = useLocationMatch(children, location);\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"sm\")\n  );\n  const handleMouseEnter = () => {\n    setIsHoveredOn(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHoveredOn(false);\n  };\n  const arrowIcon = () => {\n    if (isSmallScreen) {\n      return isHoveredOn ? /* @__PURE__ */ React.createElement(ArrowDropUpIcon, { fontSize: \"small\", className: classes.submenuArrow }) : /* @__PURE__ */ React.createElement(ArrowDropDownIcon, { fontSize: \"small\", className: classes.submenuArrow });\n    }\n    return !isHoveredOn && /* @__PURE__ */ React.createElement(ArrowRightIcon, { fontSize: \"small\", className: classes.submenuArrow });\n  };\n  return /* @__PURE__ */ React.createElement(\n    SidebarItemWithSubmenuContext.Provider,\n    {\n      value: {\n        isHoveredOn,\n        setIsHoveredOn\n      }\n    },\n    /* @__PURE__ */ React.createElement(\n      \"div\",\n      {\n        \"data-testid\": \"item-with-submenu\",\n        onMouseLeave: handleMouseLeave,\n        onTouchStart: isHoveredOn ? handleMouseLeave : handleMouseEnter,\n        onMouseEnter: handleMouseEnter,\n        className: classNames(isHoveredOn && classes.highlighted)\n      },\n      /* @__PURE__ */ React.createElement(\n        SidebarItemBase,\n        {\n          hasSubmenu: true,\n          className: isActive ? classes.selected : \"\",\n          ...props\n        },\n        arrowIcon()\n      ),\n      isHoveredOn && children\n    )\n  );\n};\nconst SidebarItem = forwardRef((props, ref) => {\n  const [submenu] = useElementFilter(\n    props.children,\n    (elements) => (\n      // Directly comparing child.type with SidebarSubmenu will not work with in\n      // combination with react-hot-loader\n      //\n      // https://github.com/gaearon/react-hot-loader/issues/304#issuecomment-456569720\n      elements.getElements().filter((child) => child.type === sidebarSubmenuType)\n    )\n  );\n  if (submenu) {\n    return /* @__PURE__ */ React.createElement(SidebarItemWithSubmenu, { ...props }, submenu);\n  }\n  return /* @__PURE__ */ React.createElement(SidebarItemBase, { ...props, ref });\n});\nfunction SidebarSearchField(props) {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const [input, setInput] = useState(\"\");\n  const classes = useMemoStyles(sidebarConfig);\n  const Icon = props.icon ? props.icon : SearchIcon;\n  const search = () => {\n    props.onSearch(input);\n    setInput(\"\");\n  };\n  const handleEnter = (ev) => {\n    if (ev.key === \"Enter\") {\n      ev.preventDefault();\n      search();\n    }\n  };\n  const handleInput = (ev) => {\n    setInput(ev.target.value);\n  };\n  const handleInputClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n  const handleItemClick = (ev) => {\n    search();\n    ev.preventDefault();\n  };\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.searchRoot }, /* @__PURE__ */ React.createElement(\n    SidebarItem,\n    {\n      icon: Icon,\n      to: props.to,\n      onClick: handleItemClick,\n      disableHighlight: true\n    },\n    /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        placeholder: \"Search\",\n        value: input,\n        onClick: handleInputClick,\n        onChange: handleInput,\n        onKeyDown: handleEnter,\n        className: classes.searchContainer,\n        InputProps: {\n          disableUnderline: true,\n          className: classes.searchField\n        },\n        inputProps: {\n          className: classes.searchFieldHTMLInput\n        }\n      }\n    )\n  ));\n}\nconst SidebarSpace = styled(\"div\")(\n  {\n    flex: 1\n  },\n  { name: \"BackstageSidebarSpace\" }\n);\nconst SidebarSpacer = styled(\"div\")(\n  {\n    height: 8\n  },\n  { name: \"BackstageSidebarSpacer\" }\n);\nconst SidebarDivider = styled(\"hr\")(\n  ({ theme }) => ({\n    height: 1,\n    width: \"100%\",\n    background: \"#383838\",\n    border: \"none\",\n    margin: theme.spacing(1.2, 0)\n  }),\n  { name: \"BackstageSidebarDivider\" }\n);\nconst styledScrollbar = (theme) => ({\n  overflowY: \"auto\",\n  \"&::-webkit-scrollbar\": {\n    backgroundColor: theme.palette.background.default,\n    width: \"5px\",\n    borderRadius: \"5px\"\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    backgroundColor: theme.palette.text.secondary,\n    borderRadius: \"5px\"\n  }\n});\nconst SidebarScrollWrapper = styled(\"div\")(({ theme }) => {\n  const scrollbarStyles = styledScrollbar(theme);\n  return {\n    flex: \"0 1 auto\",\n    overflowX: \"hidden\",\n    // 5px space to the right of the scrollbar\n    width: \"calc(100% - 5px)\",\n    // Display at least one item in the container\n    // Question: Can this be a config/theme variable - if so, which? :/\n    minHeight: \"48px\",\n    overflowY: \"hidden\",\n    \"@media (hover: none)\": scrollbarStyles,\n    \"&:hover\": scrollbarStyles\n  };\n});\nconst SidebarExpandButton = () => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen, setOpen } = useSidebarOpenState();\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  if (isSmallScreen) {\n    return null;\n  }\n  const handleClick = () => {\n    setOpen(!isOpen);\n  };\n  return /* @__PURE__ */ React.createElement(\n    Button$1,\n    {\n      role: \"button\",\n      onClick: handleClick,\n      className: classes.expandButton,\n      \"aria-label\": \"Expand Sidebar\",\n      \"data-testid\": \"sidebar-expand-button\"\n    },\n    /* @__PURE__ */ React.createElement(Box, { className: classes.arrows }, isOpen ? /* @__PURE__ */ React.createElement(DoubleArrowLeft, null) : /* @__PURE__ */ React.createElement(DoubleArrowRight, null))\n  );\n};\n\nconst useStyles$6 = makeStyles(\n  (theme) => ({\n    introCard: (props) => ({\n      color: \"#b5b5b5\",\n      // XXX (@koroeskohr): should I be using a Mui theme variable?\n      fontSize: 12,\n      width: props.sidebarConfig.drawerWidthOpen,\n      marginTop: theme.spacing(2.25),\n      marginBottom: theme.spacing(1.5),\n      paddingLeft: props.sidebarConfig.iconPadding,\n      paddingRight: props.sidebarConfig.iconPadding\n    }),\n    introDismiss: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      marginTop: theme.spacing(1.5)\n    },\n    introDismissLink: {\n      color: \"#dddddd\",\n      display: \"flex\",\n      alignItems: \"center\",\n      marginBottom: theme.spacing(0.5),\n      \"&:hover\": {\n        color: theme.palette.linkHover,\n        transition: theme.transitions.create(\"color\", {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.shortest\n        })\n      }\n    },\n    introDismissText: {\n      fontSize: \"0.7rem\",\n      fontWeight: \"bold\",\n      textTransform: \"uppercase\",\n      letterSpacing: 1\n    },\n    introDismissIcon: {\n      width: 18,\n      height: 18,\n      marginRight: theme.spacing(1.5)\n    }\n  }),\n  { name: \"BackstageSidebarIntro\" }\n);\nfunction IntroCard(props) {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles$6({ sidebarConfig });\n  const { text, onClose } = props;\n  const handleClose = () => onClose();\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.introCard }, /* @__PURE__ */ React.createElement(Typography, { variant: \"subtitle2\" }, text), /* @__PURE__ */ React.createElement(Box, { className: classes.introDismiss }, /* @__PURE__ */ React.createElement(IconButton, { onClick: handleClose, className: classes.introDismissLink }, /* @__PURE__ */ React.createElement(CloseIcon, { className: classes.introDismissIcon }), /* @__PURE__ */ React.createElement(Typography, { component: \"span\", className: classes.introDismissText }, \"Dismiss\"))));\n}\nconst SidebarIntroCard = (props) => {\n  const { text, onDismiss } = props;\n  const [collapsing, setCollapsing] = useState(false);\n  const startDismissing = () => {\n    setCollapsing(true);\n  };\n  return /* @__PURE__ */ React.createElement(Collapse, { in: !collapsing, onExited: onDismiss }, /* @__PURE__ */ React.createElement(IntroCard, { text, onClose: startDismissing }));\n};\nconst starredIntroText = `Fun fact! As you explore all the awesome plugins in Backstage, you can actually pin them to this side nav.\nKeep an eye out for the little star icon (\\u2B50) next to the plugin name and give it a click!`;\nconst recentlyViewedIntroText = \"And your recently viewed plugins will pop up here!\";\nfunction SidebarIntro(_props) {\n  const { isOpen } = useSidebarOpenState();\n  const defaultValue = {\n    starredItemsDismissed: false,\n    recentlyViewedItemsDismissed: false\n  };\n  const { value: dismissedIntro, set: setDismissedIntro } = useLocalStorageValue(SIDEBAR_INTRO_LOCAL_STORAGE);\n  const { starredItemsDismissed, recentlyViewedItemsDismissed } = dismissedIntro != null ? dismissedIntro : {};\n  const dismissStarred = () => {\n    setDismissedIntro((state) => ({\n      ...defaultValue,\n      ...state,\n      starredItemsDismissed: true\n    }));\n  };\n  const dismissRecentlyViewed = () => {\n    setDismissedIntro((state) => ({\n      ...defaultValue,\n      ...state,\n      recentlyViewedItemsDismissed: true\n    }));\n  };\n  if (!isOpen) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, !starredItemsDismissed && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    SidebarIntroCard,\n    {\n      text: starredIntroText,\n      onDismiss: dismissStarred\n    }\n  ), /* @__PURE__ */ React.createElement(SidebarDivider, null)), !recentlyViewedItemsDismissed && /* @__PURE__ */ React.createElement(\n    SidebarIntroCard,\n    {\n      text: recentlyViewedIntroText,\n      onDismiss: dismissRecentlyViewed\n    }\n  ));\n}\n\nconst useStyles$5 = makeStyles(\n  (theme) => ({\n    header: {\n      gridArea: \"pageHeader\",\n      padding: theme.spacing(3),\n      width: \"100%\",\n      boxShadow: theme.shadows[4],\n      position: \"relative\",\n      zIndex: 100,\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundImage: theme.page.backgroundImage,\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      [theme.breakpoints.down(\"sm\")]: {\n        flexWrap: \"wrap\"\n      }\n    },\n    leftItemsBox: {\n      maxWidth: \"100%\",\n      flexGrow: 1\n    },\n    rightItemsBox: {\n      width: \"auto\",\n      alignItems: \"center\"\n    },\n    title: {\n      color: theme.page.fontColor,\n      wordBreak: \"break-word\",\n      fontSize: theme.typography.h3.fontSize,\n      marginBottom: 0\n    },\n    subtitle: {\n      color: theme.page.fontColor,\n      opacity: 0.8,\n      display: \"inline-block\",\n      // prevents margin collapse of adjacent siblings\n      marginTop: theme.spacing(1),\n      maxWidth: \"75ch\"\n    },\n    type: {\n      textTransform: \"uppercase\",\n      fontSize: 11,\n      opacity: 0.8,\n      marginBottom: theme.spacing(1),\n      color: theme.page.fontColor\n    },\n    breadcrumb: {\n      color: theme.page.fontColor\n    },\n    breadcrumbType: {\n      fontSize: \"inherit\",\n      opacity: 0.7,\n      marginRight: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    },\n    breadcrumbTitle: {\n      fontSize: \"inherit\",\n      marginLeft: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    }\n  }),\n  { name: \"BackstageHeader\" }\n);\nconst TypeFragment = ({\n  type,\n  typeLink,\n  classes,\n  pageTitle\n}) => {\n  if (!type) {\n    return null;\n  }\n  if (!typeLink) {\n    return /* @__PURE__ */ React.createElement(Typography, { className: classes.type }, type);\n  }\n  return /* @__PURE__ */ React.createElement(Breadcrumbs, { className: classes.breadcrumb }, /* @__PURE__ */ React.createElement(Link, { to: typeLink }, type), /* @__PURE__ */ React.createElement(Typography, null, pageTitle));\n};\nconst TitleFragment = ({ pageTitle, classes, tooltip }) => {\n  const { contentRef } = useContent();\n  const FinalTitle = /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      ref: contentRef,\n      tabIndex: -1,\n      className: classes.title,\n      variant: \"h1\"\n    },\n    pageTitle\n  );\n  if (!tooltip) {\n    return FinalTitle;\n  }\n  return /* @__PURE__ */ React.createElement(Tooltip, { title: tooltip, placement: \"top-start\" }, FinalTitle);\n};\nconst SubtitleFragment = ({ classes, subtitle }) => {\n  if (!subtitle) {\n    return null;\n  }\n  if (typeof subtitle !== \"string\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, subtitle);\n  }\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      className: classes.subtitle,\n      variant: \"subtitle2\",\n      component: \"span\"\n    },\n    subtitle\n  );\n};\nfunction Header(props) {\n  const {\n    children,\n    pageTitleOverride,\n    style,\n    subtitle,\n    title,\n    tooltip,\n    type,\n    typeLink\n  } = props;\n  const classes = useStyles$5();\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString(\"app.title\") || \"Backstage\";\n  const documentTitle = pageTitleOverride || title;\n  const pageTitle = title || pageTitleOverride;\n  const titleTemplate = `${documentTitle} | %s | ${appTitle}`;\n  const defaultTitle = `${documentTitle} | ${appTitle}`;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Helmet, { titleTemplate, defaultTitle }), /* @__PURE__ */ React.createElement(\"header\", { style, className: classes.header }, /* @__PURE__ */ React.createElement(Box, { className: classes.leftItemsBox }, /* @__PURE__ */ React.createElement(\n    TypeFragment,\n    {\n      classes,\n      type,\n      typeLink,\n      pageTitle\n    }\n  ), /* @__PURE__ */ React.createElement(\n    TitleFragment,\n    {\n      classes,\n      pageTitle,\n      tooltip\n    }\n  ), /* @__PURE__ */ React.createElement(SubtitleFragment, { classes, subtitle })), /* @__PURE__ */ React.createElement(Grid, { container: true, className: classes.rightItemsBox, spacing: 4 }, children)));\n}\n\nconst ActionItem = ({\n  label,\n  secondaryLabel,\n  icon,\n  disabled = false,\n  onClick\n}) => {\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(\n    ListItem,\n    {\n      \"data-testid\": \"header-action-item\",\n      disabled,\n      button: true,\n      onClick: (event) => {\n        if (onClick) {\n          onClick(event);\n        }\n      }\n    },\n    icon && /* @__PURE__ */ React.createElement(ListItemIcon, null, icon),\n    /* @__PURE__ */ React.createElement(ListItemText, { primary: label, secondary: secondaryLabel })\n  ));\n};\nfunction HeaderActionMenu(props) {\n  const {\n    palette: {\n      common: { white }\n    }\n  } = useTheme();\n  const { actionItems } = props;\n  const [open, setOpen] = React.useState(false);\n  const anchorElRef = React.useRef(null);\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      onClick: () => setOpen(true),\n      \"data-testid\": \"header-action-menu\",\n      ref: anchorElRef,\n      style: {\n        color: white,\n        height: 56,\n        width: 56,\n        marginRight: -4,\n        padding: 0\n      }\n    },\n    /* @__PURE__ */ React.createElement(MoreVert, null)\n  ), /* @__PURE__ */ React.createElement(\n    Popover,\n    {\n      open,\n      anchorEl: anchorElRef.current,\n      anchorOrigin: { horizontal: \"right\", vertical: \"bottom\" },\n      transformOrigin: { horizontal: \"right\", vertical: \"top\" },\n      onClose: () => setOpen(false)\n    },\n    /* @__PURE__ */ React.createElement(List, null, actionItems.map((actionItem, i) => {\n      return /* @__PURE__ */ React.createElement(ActionItem, { key: `header-action-menu-${i}`, ...actionItem });\n    }))\n  ));\n}\n\nconst useStyles$4 = makeStyles(\n  (theme) => ({\n    root: {\n      textAlign: \"left\"\n    },\n    label: {\n      color: theme.page.fontColor,\n      fontWeight: theme.typography.fontWeightBold,\n      letterSpacing: 0,\n      fontSize: theme.typography.fontSize,\n      marginBottom: theme.spacing(1) / 2,\n      lineHeight: 1\n    },\n    value: {\n      color: alpha(theme.page.fontColor, 0.8),\n      fontSize: theme.typography.fontSize,\n      lineHeight: 1\n    }\n  }),\n  { name: \"BackstageHeaderLabel\" }\n);\nconst HeaderLabelContent = ({ value, className }) => {\n  return /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: typeof value === \"string\" ? \"p\" : \"span\",\n      className\n    },\n    value\n  );\n};\nfunction HeaderLabel(props) {\n  const { label, value, url } = props;\n  const classes = useStyles$4();\n  const content = /* @__PURE__ */ React.createElement(\n    HeaderLabelContent,\n    {\n      className: classes.value,\n      value: value || \"<Unknown>\"\n    }\n  );\n  return /* @__PURE__ */ React.createElement(Grid, { item: true }, /* @__PURE__ */ React.createElement(Typography, { component: \"span\", className: classes.root }, /* @__PURE__ */ React.createElement(Typography, { className: classes.label }, label), url ? /* @__PURE__ */ React.createElement(Link, { to: url }, content) : content));\n}\n\nconst styles$1 = (theme) => createStyles({\n  root: {\n    color: theme.palette.common.white,\n    padding: theme.spacing(2, 2, 3),\n    backgroundImage: theme.getPageTheme({ themeId: \"card\" }).backgroundImage,\n    backgroundPosition: 0,\n    backgroundSize: \"inherit\"\n  }\n});\nconst useStyles$3 = makeStyles(styles$1, { name: \"BackstageItemCardHeader\" });\nfunction ItemCardHeader(props) {\n  const { title, subtitle, children } = props;\n  const classes = useStyles$3(props);\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.root }, subtitle && /* @__PURE__ */ React.createElement(Typography, { variant: \"subtitle2\", component: \"h3\" }, subtitle), title && /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\", component: \"h4\" }, title), children);\n}\n\nfunction ItemCard(props) {\n  const { description, tags, title, type, subtitle, label, onClick, href } = props;\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardMedia, null, /* @__PURE__ */ React.createElement(ItemCardHeader, { title, subtitle: subtitle || type })), /* @__PURE__ */ React.createElement(CardContent, null, (tags == null ? void 0 : tags.length) ? /* @__PURE__ */ React.createElement(Box, null, tags.map((tag, i) => /* @__PURE__ */ React.createElement(Chip, { size: \"small\", label: tag, key: i }))) : null, description), /* @__PURE__ */ React.createElement(CardActions, null, !href && /* @__PURE__ */ React.createElement(LinkButton, { to: \"#\", onClick, color: \"primary\" }, label), href && /* @__PURE__ */ React.createElement(LinkButton, { to: href, color: \"primary\" }, label)));\n}\n\nconst styles = (theme) => createStyles({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fill, minmax(22em, 1fr))\",\n    gridAutoRows: \"1fr\",\n    gridGap: theme.spacing(2)\n  }\n});\nconst useStyles$2 = makeStyles(styles, { name: \"BackstageItemCardGrid\" });\nfunction ItemCardGrid(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles$2(otherProps);\n  return /* @__PURE__ */ React.createElement(Box, { className: classes.root, ...otherProps }, children);\n}\n\nconst useStyles$1 = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"grid\",\n      gridTemplateAreas: \"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'\",\n      gridTemplateRows: \"max-content auto 1fr\",\n      gridTemplateColumns: \"auto 1fr auto\",\n      overflowY: \"auto\",\n      height: \"100vh\",\n      [theme.breakpoints.down(\"xs\")]: {\n        height: \"100%\"\n      },\n      \"@media print\": {\n        display: \"block\",\n        height: \"auto\",\n        overflowY: \"inherit\"\n      }\n    }\n  }),\n  { name: \"BackstagePage\" }\n);\nfunction Page(props) {\n  const { themeId, children } = props;\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(\n    ThemeProvider,\n    {\n      theme: (baseTheme) => ({\n        ...baseTheme,\n        page: baseTheme.getPageTheme({ themeId })\n      })\n    },\n    /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, children)\n  );\n}\n\nfunction PageWithHeader(props) {\n  const { themeId, children, ...restProps } = props;\n  return /* @__PURE__ */ React.createElement(Page, { themeId }, /* @__PURE__ */ React.createElement(Header, { ...restProps }), children);\n}\n\nconst proxiedSessionSchema = z.object({\n  providerInfo: z.object({}).catchall(z.unknown()).optional(),\n  profile: z.object({\n    email: z.string().optional(),\n    displayName: z.string().optional(),\n    picture: z.string().optional()\n  }),\n  backstageIdentity: z.object({\n    token: z.string(),\n    identity: z.object({\n      type: z.literal(\"user\"),\n      userEntityRef: z.string(),\n      ownershipEntityRefs: z.array(z.string())\n    })\n  })\n});\n\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => {\n  __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst DEFAULTS = {\n  // The amount of time between token refreshes, if we fail to get an actual\n  // value out of the exp claim\n  defaultTokenExpiryMillis: 5 * 60 * 1e3,\n  // The amount of time before the actual expiry of the Backstage token, that we\n  // shall start trying to get a new one\n  tokenExpiryMarginMillis: 5 * 60 * 1e3\n};\nfunction tokenToExpiry(jwtToken) {\n  const fallback = new Date(Date.now() + DEFAULTS.defaultTokenExpiryMillis);\n  if (!jwtToken) {\n    return fallback;\n  }\n  const [_header, rawPayload, _signature] = jwtToken.split(\".\");\n  const payload = JSON.parse(window.atob(rawPayload));\n  if (typeof payload.exp !== \"number\") {\n    return fallback;\n  }\n  return new Date(payload.exp * 1e3 - DEFAULTS.tokenExpiryMarginMillis);\n}\nclass ProxiedSignInIdentity {\n  constructor(options) {\n    __publicField$1(this, \"options\");\n    __publicField$1(this, \"abortController\");\n    __publicField$1(this, \"state\");\n    this.options = options;\n    this.abortController = new AbortController();\n    this.state = { type: \"empty\" };\n  }\n  async start() {\n    await this.getSessionAsync();\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const { backstageIdentity } = this.getSessionSync();\n    const ref = backstageIdentity.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    const session = this.getSessionSync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    const session = await this.getSessionAsync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const session = await this.getSessionAsync();\n    return {\n      token: session.backstageIdentity.token\n    };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    this.abortController.abort();\n  }\n  getSessionSync() {\n    if (this.state.type === \"active\") {\n      return this.state.session;\n    } else if (this.state.type === \"fetching\" && this.state.previous) {\n      return this.state.previous;\n    }\n    throw new Error(\"No session available. Try reloading your browser page.\");\n  }\n  async getSessionAsync() {\n    if (this.state.type === \"fetching\") {\n      return this.state.promise;\n    } else if (this.state.type === \"active\" && /* @__PURE__ */ new Date() < this.state.expiresAt) {\n      return this.state.session;\n    }\n    const previous = this.state.type === \"active\" ? this.state.session : void 0;\n    const promise = this.fetchSession().then(\n      (session) => {\n        this.state = {\n          type: \"active\",\n          session,\n          expiresAt: tokenToExpiry(session.backstageIdentity.token)\n        };\n        return session;\n      },\n      (error) => {\n        this.state = {\n          type: \"failed\",\n          error\n        };\n        throw error;\n      }\n    );\n    this.state = {\n      type: \"fetching\",\n      promise,\n      previous\n    };\n    return promise;\n  }\n  async fetchSession() {\n    const baseUrl = await this.options.discoveryApi.getBaseUrl(\"auth\");\n    const headers = typeof this.options.headers === \"function\" ? await this.options.headers() : this.options.headers;\n    const mergedHeaders = new Headers(headers);\n    mergedHeaders.set(\"X-Requested-With\", \"XMLHttpRequest\");\n    const response = await fetch(\n      `${baseUrl}/${this.options.provider}/refresh`,\n      {\n        signal: this.abortController.signal,\n        headers: mergedHeaders,\n        credentials: \"include\"\n      }\n    );\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return proxiedSessionSchema.parse(await response.json());\n  }\n}\n\nconst ProxiedSignInPage = (props) => {\n  const discoveryApi = useApi(discoveryApiRef);\n  const [{ status, error }, { execute }] = useAsync(async () => {\n    const identity = new ProxiedSignInIdentity({\n      provider: props.provider,\n      discoveryApi,\n      headers: props.headers\n    });\n    await identity.start();\n    props.onSignInSuccess(identity);\n  });\n  useMountEffect(execute);\n  if (status === \"loading\") {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(\n      ErrorPanel,\n      {\n        title: \"You do not appear to be signed in. Please try reloading the browser page.\",\n        error\n      }\n    );\n  }\n  return null;\n};\n\nclass GuestUserIdentity {\n  getUserId() {\n    return \"guest\";\n  }\n  async getIdToken() {\n    return void 0;\n  }\n  getProfile() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getProfileInfo() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getBackstageIdentity() {\n    const userEntityRef = `user:default/guest`;\n    return {\n      type: \"user\",\n      userEntityRef,\n      ownershipEntityRefs: [userEntityRef]\n    };\n  }\n  async getCredentials() {\n    return {};\n  }\n  async signOut() {\n  }\n}\n\nfunction parseJwtPayload(token) {\n  const [_header, payload, _signature] = token.split(\".\");\n  return JSON.parse(window.atob(payload));\n}\nclass LegacyUserIdentity {\n  constructor(result) {\n    this.result = result;\n  }\n  getUserId() {\n    return this.result.userId;\n  }\n  static fromResult(result) {\n    return new LegacyUserIdentity(result);\n  }\n  async getIdToken() {\n    var _a, _b;\n    return (_b = (_a = this.result).getIdToken) == null ? void 0 : _b.call(_a);\n  }\n  getProfile() {\n    return this.result.profile;\n  }\n  async getProfileInfo() {\n    return this.result.profile;\n  }\n  async getBackstageIdentity() {\n    const token = await this.getIdToken();\n    if (!token) {\n      const userEntityRef = `user:default/${this.getUserId()}`;\n      return {\n        type: \"user\",\n        userEntityRef,\n        ownershipEntityRefs: [userEntityRef]\n      };\n    }\n    const { sub, ent } = parseJwtPayload(token);\n    return {\n      type: \"user\",\n      userEntityRef: sub,\n      ownershipEntityRefs: ent != null ? ent : []\n    };\n  }\n  async getCredentials() {\n    var _a, _b;\n    const token = await ((_b = (_a = this.result).getIdToken) == null ? void 0 : _b.call(_a));\n    return { token };\n  }\n  async signOut() {\n    var _a, _b;\n    return (_b = (_a = this.result).signOut) == null ? void 0 : _b.call(_a);\n  }\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass UserIdentity {\n  constructor(identity, authApi, profile) {\n    this.identity = identity;\n    this.authApi = authApi;\n    this.profile = profile;\n    __publicField(this, \"profilePromise\");\n  }\n  /**\n   * Creates a new IdentityApi that acts as a Guest User.\n   *\n   * @public\n   */\n  static createGuest() {\n    return new GuestUserIdentity();\n  }\n  /**\n   * Creates a new IdentityApi using a legacy SignInResult object.\n   *\n   * @public\n   */\n  static fromLegacy(result) {\n    return LegacyUserIdentity.fromResult(result);\n  }\n  /**\n   * Creates a new IdentityApi implementation using a user identity\n   * and an auth API that will be used to request backstage tokens.\n   *\n   * @public\n   */\n  static create(options) {\n    return new UserIdentity(options.identity, options.authApi, options.profile);\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const ref = this.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return identity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    if (!this.profile) {\n      throw new Error(\n        \"The identity API does not implement synchronous profile fetching, use getProfileInfo() instead\"\n      );\n    }\n    return this.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    if (this.profilePromise) {\n      return await this.profilePromise;\n    }\n    try {\n      this.profilePromise = this.authApi.getProfile();\n      return await this.profilePromise;\n    } catch (ex) {\n      this.profilePromise = void 0;\n      throw ex;\n    }\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    return this.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return { token: identity.token };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    return this.authApi.signOut();\n  }\n}\n\nconst useStyles = makeStyles(\n  {\n    container: {\n      padding: 0,\n      listStyle: \"none\"\n    },\n    item: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: \"400px\",\n      margin: 0,\n      padding: 0\n    }\n  },\n  { name: \"BackstageSignInPage\" }\n);\nconst GridItem = ({ children }) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(Grid, { component: \"li\", item: true, classes }, children);\n};\n\nconst Component$2 = ({\n  config,\n  onSignInStarted,\n  onSignInSuccess,\n  onSignInFailure\n}) => {\n  const { apiRef, title, message } = config;\n  const authApi = useApi(apiRef);\n  const errorApi = useApi(errorApiRef);\n  const handleLogin = async () => {\n    try {\n      onSignInStarted();\n      const identityResponse = await authApi.getBackstageIdentity({\n        instantPopup: true\n      });\n      if (!identityResponse) {\n        onSignInFailure();\n        throw new Error(\n          `The ${title} provider is not configured to support sign-in`\n        );\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          profile,\n          authApi\n        })\n      );\n    } catch (error) {\n      onSignInFailure();\n      errorApi.post(new ForwardedError(\"Login failed\", error));\n    }\n  };\n  return /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(\n    InfoCard,\n    {\n      variant: \"fullHeight\",\n      title,\n      actions: /* @__PURE__ */ React.createElement(Button$1, { color: \"primary\", variant: \"outlined\", onClick: handleLogin }, \"Sign In\")\n    },\n    /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, message)\n  ));\n};\nconst loader$2 = async (apis, apiRef) => {\n  const authApi = apis.get(apiRef);\n  const identityResponse = await authApi.getBackstageIdentity({\n    optional: true\n  });\n  if (!identityResponse) {\n    return void 0;\n  }\n  const profile = await authApi.getProfile();\n  return UserIdentity.create({\n    identity: identityResponse.identity,\n    profile,\n    authApi\n  });\n};\nconst commonProvider = { Component: Component$2, loader: loader$2 };\n\nconst Component$1 = ({ onSignInStarted, onSignInSuccess }) => /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(\n  InfoCard,\n  {\n    title: \"Guest\",\n    variant: \"fullHeight\",\n    actions: /* @__PURE__ */ React.createElement(\n      Button$1,\n      {\n        color: \"primary\",\n        variant: \"outlined\",\n        onClick: () => {\n          onSignInStarted();\n          onSignInSuccess(new GuestUserIdentity());\n        }\n      },\n      \"Enter\"\n    )\n  },\n  /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, \"Enter as a Guest User.\", /* @__PURE__ */ React.createElement(\"br\", null), \"You will not have a verified identity,\", /* @__PURE__ */ React.createElement(\"br\", null), \"meaning some features might be unavailable.\")\n));\nconst loader$1 = async () => {\n  return new GuestUserIdentity();\n};\nconst guestProvider = { Component: Component$1, loader: loader$1 };\n\nconst ID_TOKEN_REGEX = /^[a-z0-9_\\-]+\\.[a-z0-9_\\-]+\\.[a-z0-9_\\-]+$/i;\nconst useFormStyles = makeStyles(\n  (theme) => ({\n    form: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\"\n    },\n    button: {\n      alignSelf: \"center\",\n      marginTop: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageCustomProvider\" }\n);\nconst asInputRef = (renderResult) => {\n  const { ref, ...rest } = renderResult;\n  return {\n    inputRef: ref,\n    ...rest\n  };\n};\nconst Component = ({ onSignInStarted, onSignInSuccess }) => {\n  const classes = useFormStyles();\n  const { register, handleSubmit, formState } = useForm({\n    mode: \"onChange\"\n  });\n  const { errors } = formState;\n  const handleResult = ({ userId, idToken }) => {\n    onSignInStarted();\n    onSignInSuccess(\n      UserIdentity.fromLegacy({\n        userId,\n        getIdToken: idToken !== void 0 ? async () => idToken : void 0,\n        profile: {\n          email: `${userId}@example.com`\n        }\n      })\n    );\n  };\n  return /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, { title: \"Custom User\", variant: \"fullHeight\" }, /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, \"Enter your own User ID and credentials.\", /* @__PURE__ */ React.createElement(\"br\", null), \"This selection will not be stored.\"), /* @__PURE__ */ React.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit(handleResult) }, /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      ...asInputRef(register(\"userId\", { required: true })),\n      label: \"User ID\",\n      margin: \"normal\",\n      error: Boolean(errors.userId)\n    }\n  ), errors.userId && /* @__PURE__ */ React.createElement(FormHelperText, { error: true }, errors.userId.message)), /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      ...asInputRef(\n        register(\"idToken\", {\n          required: false,\n          validate: (token) => !token || ID_TOKEN_REGEX.test(token) || \"Token is not a valid OpenID Connect JWT Token\"\n        })\n      ),\n      label: \"ID Token (optional)\",\n      margin: \"normal\",\n      autoComplete: \"off\",\n      error: Boolean(errors.idToken)\n    }\n  ), errors.idToken && /* @__PURE__ */ React.createElement(FormHelperText, { error: true }, errors.idToken.message)), /* @__PURE__ */ React.createElement(\n    Button$1,\n    {\n      type: \"submit\",\n      color: \"primary\",\n      variant: \"outlined\",\n      className: classes.button,\n      disabled: !(formState == null ? void 0 : formState.isDirty) || !isEmpty(errors)\n    },\n    \"Continue\"\n  ))));\n};\nconst loader = async () => void 0;\nconst customProvider = { Component, loader };\n\nclass IdentityApiSignOutProxy {\n  constructor(config) {\n    this.config = config;\n  }\n  static from(config) {\n    return new IdentityApiSignOutProxy(config);\n  }\n  getUserId() {\n    if (!this.config.identityApi.getUserId) {\n      throw new Error(`SignOutProxy IdentityApi.getUserId is not implemented`);\n    }\n    return this.config.identityApi.getUserId();\n  }\n  getIdToken() {\n    if (!this.config.identityApi.getIdToken) {\n      throw new Error(`SignOutProxy IdentityApi.getIdToken is not implemented`);\n    }\n    return this.config.identityApi.getIdToken();\n  }\n  getProfile() {\n    if (!this.config.identityApi.getProfile) {\n      throw new Error(`SignOutProxy IdentityApi.getProfile is not implemented`);\n    }\n    return this.config.identityApi.getProfile();\n  }\n  getProfileInfo() {\n    return this.config.identityApi.getProfileInfo();\n  }\n  getBackstageIdentity() {\n    return this.config.identityApi.getBackstageIdentity();\n  }\n  getCredentials() {\n    return this.config.identityApi.getCredentials();\n  }\n  signOut() {\n    return this.config.signOut();\n  }\n}\n\nconst PROVIDER_STORAGE_KEY = \"@backstage/core:SignInPage:provider\";\nconst signInProviders = {\n  guest: guestProvider,\n  custom: customProvider,\n  common: commonProvider\n};\nfunction validateIDs(id, providers) {\n  if (id in providers)\n    throw new Error(\n      `\"${id}\" ID is duplicated. IDs of identity providers have to be unique.`\n    );\n}\nfunction getSignInProviders(identityProviders) {\n  const providers = identityProviders.reduce(\n    (acc, config) => {\n      if (typeof config === \"string\") {\n        validateIDs(config, acc);\n        acc[config] = { components: signInProviders[config], id: config };\n        return acc;\n      }\n      const { id } = config;\n      validateIDs(id, acc);\n      acc[id] = { components: signInProviders.common, id, config };\n      return acc;\n    },\n    {}\n  );\n  return providers;\n}\nconst useSignInProviders = (providers, onSignInSuccess) => {\n  const errorApi = useApi(errorApiRef);\n  const apiHolder = useApiHolder();\n  const [loading, setLoading] = useState(true);\n  const handleWrappedResult = useCallback(\n    (identityApi) => {\n      onSignInSuccess(\n        IdentityApiSignOutProxy.from({\n          identityApi,\n          signOut: async () => {\n            var _a;\n            localStorage.removeItem(PROVIDER_STORAGE_KEY);\n            await ((_a = identityApi.signOut) == null ? void 0 : _a.call(identityApi));\n          }\n        })\n      );\n    },\n    [onSignInSuccess]\n  );\n  useLayoutEffect(() => {\n    var _a;\n    if (!loading) {\n      return void 0;\n    }\n    const selectedProviderId = localStorage.getItem(\n      PROVIDER_STORAGE_KEY\n    );\n    if (selectedProviderId === null) {\n      setLoading(false);\n      return void 0;\n    }\n    const provider = providers[selectedProviderId];\n    if (!provider) {\n      setLoading(false);\n      return void 0;\n    }\n    let didCancel = false;\n    provider.components.loader(apiHolder, (_a = provider.config) == null ? void 0 : _a.apiRef).then((result) => {\n      if (didCancel) {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n        return;\n      }\n      if (result) {\n        handleWrappedResult(result);\n      } else {\n        setLoading(false);\n      }\n    }).catch((error) => {\n      localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      if (didCancel) {\n        return;\n      }\n      errorApi.post(error);\n      setLoading(false);\n    });\n    return () => {\n      didCancel = true;\n    };\n  }, [\n    loading,\n    errorApi,\n    onSignInSuccess,\n    apiHolder,\n    providers,\n    handleWrappedResult\n  ]);\n  const elements = useMemo(\n    () => Object.keys(providers).map((key) => {\n      const provider = providers[key];\n      const { Component } = provider.components;\n      const handleSignInSuccess = (result) => {\n        handleWrappedResult(result);\n      };\n      const handleSignInStarted = () => {\n        var _a;\n        localStorage.setItem(\n          PROVIDER_STORAGE_KEY,\n          ((_a = provider == null ? void 0 : provider.config) == null ? void 0 : _a.id) || provider.id\n        );\n      };\n      const handleSignInFailure = () => {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      };\n      return /* @__PURE__ */ React.createElement(\n        Component,\n        {\n          key: provider.id,\n          config: provider.config,\n          onSignInStarted: handleSignInStarted,\n          onSignInSuccess: handleSignInSuccess,\n          onSignInFailure: handleSignInFailure\n        }\n      );\n    }),\n    [providers, handleWrappedResult]\n  );\n  return [loading, elements];\n};\n\nconst MultiSignInPage = ({\n  onSignInSuccess,\n  providers = [],\n  title,\n  align = \"left\"\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles();\n  const signInProviders = getSignInProviders(providers);\n  const [loading, providerElements] = useSignInProviders(\n    signInProviders,\n    onSignInSuccess\n  );\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(Header, { title: configApi.getString(\"app.title\") }), /* @__PURE__ */ React.createElement(Content, null, title && /* @__PURE__ */ React.createElement(ContentHeader, { title, textAlign: align }), /* @__PURE__ */ React.createElement(\n    Grid,\n    {\n      container: true,\n      justifyContent: align === \"center\" ? align : \"flex-start\",\n      spacing: 2,\n      component: \"ul\",\n      classes\n    },\n    providerElements\n  )));\n};\nconst SingleSignInPage = ({\n  provider,\n  auto,\n  onSignInSuccess\n}) => {\n  const classes = useStyles();\n  const authApi = useApi(provider.apiRef);\n  const configApi = useApi(configApiRef);\n  const [error, setError] = useState();\n  const [showLoginPage, setShowLoginPage] = useState(false);\n  const login = async ({ checkExisting, showPopup }) => {\n    try {\n      let identityResponse;\n      if (checkExisting) {\n        identityResponse = await authApi.getBackstageIdentity({\n          optional: true\n        });\n      }\n      if (!identityResponse && (showPopup || auto)) {\n        setShowLoginPage(true);\n        identityResponse = await authApi.getBackstageIdentity({\n          instantPopup: true\n        });\n        if (!identityResponse) {\n          throw new Error(\n            `The ${provider.title} provider is not configured to support sign-in`\n          );\n        }\n      }\n      if (!identityResponse) {\n        setShowLoginPage(true);\n        return;\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          authApi,\n          profile\n        })\n      );\n    } catch (err) {\n      setError(err);\n      setShowLoginPage(true);\n    }\n  };\n  useMountEffect(() => login({ checkExisting: true }));\n  return showLoginPage ? /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(Header, { title: configApi.getString(\"app.title\") }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(\n    Grid,\n    {\n      container: true,\n      justifyContent: \"center\",\n      spacing: 2,\n      component: \"ul\",\n      classes\n    },\n    /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(\n      InfoCard,\n      {\n        variant: \"fullHeight\",\n        title: provider.title,\n        actions: /* @__PURE__ */ React.createElement(\n          Button$1,\n          {\n            color: \"primary\",\n            variant: \"outlined\",\n            onClick: () => {\n              login({ showPopup: true });\n            }\n          },\n          \"Sign In\"\n        )\n      },\n      /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, provider.message),\n      error && error.name !== \"PopupRejectedError\" && /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\", color: \"error\" }, error.message)\n    ))\n  ))) : /* @__PURE__ */ React.createElement(Progress, null);\n};\nfunction SignInPage(props) {\n  if (\"provider\" in props) {\n    return /* @__PURE__ */ React.createElement(SingleSignInPage, { ...props });\n  }\n  return /* @__PURE__ */ React.createElement(MultiSignInPage, { ...props });\n}\n\nconst useTabsStyles = makeStyles(\n  (theme) => ({\n    root: {\n      padding: theme.spacing(0, 2, 0, 2.5),\n      minHeight: theme.spacing(3)\n    },\n    indicator: {\n      backgroundColor: theme.palette.info.main,\n      height: theme.spacing(0.3)\n    }\n  }),\n  { name: \"BackstageTabbedCard\" }\n);\nconst BoldHeader = withStyles(\n  (theme) => ({\n    root: { padding: theme.spacing(2, 2, 2, 2.5), display: \"inline-block\" },\n    title: { fontWeight: 700 },\n    subheader: { paddingTop: theme.spacing(1) }\n  }),\n  { name: \"BackstageTabbedCardBoldHeader\" }\n)(CardHeader);\nfunction TabbedCard(props) {\n  const {\n    slackChannel,\n    errorBoundaryProps,\n    children,\n    title,\n    deepLink,\n    value,\n    onChange\n  } = props;\n  const tabsClasses = useTabsStyles();\n  const [selectedIndex, selectIndex] = useState(0);\n  const handleChange = onChange ? onChange : (_ev, newSelectedIndex) => selectIndex(newSelectedIndex);\n  let selectedTabContent;\n  if (!value) {\n    React.Children.map(children, (child, index) => {\n      if (React.isValidElement(child) && index === selectedIndex) {\n        selectedTabContent = child == null ? void 0 : child.props.children;\n      }\n    });\n  } else {\n    React.Children.map(children, (child) => {\n      if (React.isValidElement(child) && (child == null ? void 0 : child.props.value) === value) {\n        selectedTabContent = child == null ? void 0 : child.props.children;\n      }\n    });\n  }\n  const errProps = errorBoundaryProps || (slackChannel ? { slackChannel } : {});\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(ErrorBoundary, { ...errProps }, title && /* @__PURE__ */ React.createElement(BoldHeader, { title }), /* @__PURE__ */ React.createElement(\n    Tabs,\n    {\n      selectionFollowsFocus: true,\n      classes: tabsClasses,\n      value: value || selectedIndex,\n      onChange: handleChange\n    },\n    children\n  ), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, null, selectedTabContent), deepLink && /* @__PURE__ */ React.createElement(BottomLink, { ...deepLink })));\n}\nconst useCardTabStyles = makeStyles(\n  (theme) => ({\n    root: {\n      minWidth: theme.spacing(6),\n      minHeight: theme.spacing(3),\n      margin: theme.spacing(0, 2, 0, 0),\n      padding: theme.spacing(0.5, 0, 0.5, 0),\n      textTransform: \"none\",\n      \"&:hover\": {\n        opacity: 1,\n        backgroundColor: \"transparent\",\n        color: theme.palette.text.primary\n      }\n    },\n    selected: {\n      fontWeight: theme.typography.fontWeightBold\n    }\n  }),\n  { name: \"BackstageCardTab\" }\n);\nfunction CardTab(props) {\n  const { children, ...restProps } = props;\n  const classes = useCardTabStyles();\n  return /* @__PURE__ */ React.createElement(TabUI, { disableRipple: true, classes, ...restProps });\n}\n\nexport { AlertDisplay, Avatar, BottomLink, Breadcrumbs, BrokenImageIcon, Button, CardTab, CatalogIcon, ChatIcon, CodeSnippet, Content, ContentHeader, CopyTextButton, CreateButton, DashboardIcon, DependencyGraph, DependencyGraphTypes, DismissableBanner, DocsIcon, EmailIcon, EmptyState, ErrorBoundary, ErrorPage, ErrorPanel, FeatureCalloutCircular, Gauge, GaugeCard, GitHubIcon, GroupIcon, Header, HeaderActionMenu, HeaderIconLinkRow, HeaderLabel, HeaderTabs, HelpIcon, HorizontalScrollGrid, InfoCard, IntroCard, ItemCard, ItemCardGrid, ItemCardHeader, Lifecycle, LinearGauge, Link, LinkButton, LogViewer, MarkdownContent, MissingAnnotationEmptyState, MobileSidebar, OAuthRequestDialog, OverflowTooltip, Page, PageWithHeader, Progress, ProxiedSignInPage, ResponseErrorPanel, RoutedTabs, SIDEBAR_INTRO_LOCAL_STORAGE, SelectComponent as Select, Sidebar, LegacySidebarContext as SidebarContext, SidebarDivider, SidebarExpandButton, SidebarGroup, SidebarIntro, SidebarItem, SidebarOpenStateProvider, SidebarPage, LegacySidebarPinStateContext as SidebarPinStateContext, SidebarPinStateProvider, SidebarScrollWrapper, SidebarSearchField, SidebarSpace, SidebarSpacer, SidebarSubmenu, SidebarSubmenuItem, SignInPage, SimpleStepper, SimpleStepperStep, StatusAborted, StatusError, StatusOK, StatusPending, StatusRunning, StatusWarning, StructuredMetadataTable, SubvalueCell, SupportButton, TabbedCard, TabbedLayout, Table, TrendLine, UserIcon, UserIdentity, WarningIcon, WarningPanel, sidebarConfig, useContent, useQueryParamState, useSidebarOpenState, useSidebarPinState, useSupportConfig };\n//# sourceMappingURL=index.esm.js.map\n","import { parseEntityRef, stringifyEntityRef } from '@backstage/catalog-model';\nimport { AnalyticsContext } from '@backstage/core-plugin-api';\nimport { createVersionedContext, createVersionedValueMap, useVersionedContext } from '@backstage/version-bridge';\nimport React from 'react';\n\nfunction getEntityRelations(entity, relationType, filter) {\n  var _a;\n  let entityNames = ((_a = entity == null ? void 0 : entity.relations) == null ? void 0 : _a.filter((r) => r.type === relationType).map((r) => parseEntityRef(r.targetRef))) || [];\n  if (filter == null ? void 0 : filter.kind) {\n    entityNames = entityNames.filter(\n      (e) => e.kind.toLocaleLowerCase(\"en-US\") === filter.kind.toLocaleLowerCase(\"en-US\")\n    );\n  }\n  return entityNames;\n}\n\nconst NewEntityContext = createVersionedContext(\n  \"entity-context\"\n);\nconst AsyncEntityProvider = (props) => {\n  const { children, entity, loading, error, refresh } = props;\n  const value = { entity, loading, error, refresh };\n  return /* @__PURE__ */ React.createElement(NewEntityContext.Provider, { value: createVersionedValueMap({ 1: value }) }, /* @__PURE__ */ React.createElement(\n    AnalyticsContext,\n    {\n      attributes: {\n        ...entity ? { entityRef: stringifyEntityRef(entity) } : void 0\n      }\n    },\n    children\n  ));\n};\nconst EntityProvider = (props) => /* @__PURE__ */ React.createElement(\n  AsyncEntityProvider,\n  {\n    entity: props.entity,\n    loading: !Boolean(props.entity),\n    error: void 0,\n    refresh: void 0,\n    children: props.children\n  }\n);\nfunction useEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  if (!value.entity) {\n    throw new Error(\n      \"useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.\"\n    );\n  }\n  return { entity: value.entity };\n}\nfunction useAsyncEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  const { entity, loading, error, refresh } = value;\n  return { entity, loading, error, refresh };\n}\n\nexport { AsyncEntityProvider as A, EntityProvider as E, useAsyncEntity as a, getEntityRelations as g, useEntity as u };\n//# sourceMappingURL=useEntity-de64059a.esm.js.map\n","export { CATALOG_FILTER_EXISTS } from '@backstage/catalog-client';\nimport { createApiRef, useApi, identityApiRef, alertApiRef, createRouteRef, useRouteRef, useApiHolder, useApp, configApiRef } from '@backstage/core-plugin-api';\nimport ObservableImpl from 'zen-observable';\nimport React, { useState, createContext, useMemo, useCallback, useContext, useEffect, useRef, memo, forwardRef, useLayoutEffect, Fragment } from 'react';\nimport { Grid, useMediaQuery, useTheme, Button, Drawer, Box, Typography, FormControlLabel, Checkbox, makeStyles, TextField, Tooltip, IconButton, Card, CardContent, Chip, CardActions, Toolbar, FormControl, Input, InputAdornment, withStyles, DialogContentText, ListItemText as ListItemText$1, ListSubheader as ListSubheader$1, ListItem, ListItemIcon, List, Dialog, DialogTitle, DialogContent, Tabs, Tab, DialogActions, Divider, MenuItem, ListItemSecondaryAction } from '@material-ui/core';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport { Select, Link, Progress, ErrorPanel, ResponseErrorPanel, OverflowTooltip, Table, DependencyGraph, DependencyGraphTypes, CodeSnippet } from '@backstage/core-components';\nimport { ANNOTATION_SOURCE_LOCATION, parseLocationRef, stringifyEntityRef, parseEntityRef, RELATION_OWNED_BY, DEFAULT_NAMESPACE, getCompoundEntityRef, isUserEntity, isGroupEntity, RELATION_PART_OF, ANNOTATION_LOCATION, ANNOTATION_ORIGIN_LOCATION } from '@backstage/catalog-model';\nimport { g as getEntityRelations } from './esm/useEntity-de64059a.esm.js';\nexport { A as AsyncEntityProvider, E as EntityProvider, g as getEntityRelations, a as useAsyncEntity, u as useEntity } from './esm/useEntity-de64059a.esm.js';\nimport { compact, isEqual, debounce } from 'lodash';\nimport qs from 'qs';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport useAsyncFn from 'react-use/lib/useAsyncFn';\nimport useDebounce from 'react-use/lib/useDebounce';\nimport useMountedState from 'react-use/lib/useMountedState';\nimport useAsync from 'react-use/lib/useAsync';\nimport isEqual$1 from 'lodash/isEqual';\nimport sortBy from 'lodash/sortBy';\nimport useObservable from 'react-use/lib/useObservable';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Autocomplete, Alert } from '@material-ui/lab';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport classNames from 'classnames';\nimport { useMountEffect, useDebouncedEffect } from '@react-hookz/web';\nimport PersonIcon from '@material-ui/icons/Person';\nimport GroupIcon from '@material-ui/icons/Group';\nimport get from 'lodash/get';\nimport { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\nimport HoverPopover from 'material-ui-popup-state/HoverPopover';\nimport { usePopupState, bindHover, bindPopover } from 'material-ui-popup-state/hooks';\nimport InfoIcon from '@material-ui/icons/Info';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Clear from '@material-ui/icons/Clear';\nimport Search from '@material-ui/icons/Search';\nimport Star from '@material-ui/icons/Star';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport WorkIcon from '@material-ui/icons/Work';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport groupBy from 'lodash/groupBy';\nimport DialogContentText$1 from '@material-ui/core/DialogContentText';\nimport YAML from 'yaml';\nimport Alert$1 from '@material-ui/lab/Alert';\nimport { assertError } from '@backstage/errors';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nconst catalogApiRef = createApiRef({\n  id: \"plugin.catalog.service\"\n});\n\nconst starredEntitiesApiRef = createApiRef({\n  id: \"catalog-react.starred-entities\"\n});\n\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => {\n  __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass MockStarredEntitiesApi {\n  constructor() {\n    __publicField$1(this, \"starredEntities\", /* @__PURE__ */ new Set());\n    __publicField$1(this, \"subscribers\", /* @__PURE__ */ new Set());\n    __publicField$1(this, \"observable\", new ObservableImpl((subscriber) => {\n      subscriber.next(new Set(this.starredEntities));\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    }));\n  }\n  async toggleStarred(entityRef) {\n    if (!this.starredEntities.delete(entityRef)) {\n      this.starredEntities.add(entityRef);\n    }\n    for (const subscription of this.subscribers) {\n      subscription.next(new Set(this.starredEntities));\n    }\n  }\n  starredEntitie$() {\n    return this.observable;\n  }\n}\n\nconst Filters = (props) => {\n  var _a, _b;\n  const isScreenSmallerThanBreakpoint = useMediaQuery(\n    (theme2) => {\n      var _a2, _b2;\n      return theme2.breakpoints.down((_b2 = (_a2 = props.options) == null ? void 0 : _a2.drawerBreakpoint) != null ? _b2 : \"md\");\n    }\n  );\n  const theme = useTheme();\n  const [filterDrawerOpen, setFilterDrawerOpen] = useState(false);\n  return isScreenSmallerThanBreakpoint ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      style: { marginTop: theme.spacing(1), marginLeft: theme.spacing(1) },\n      onClick: () => setFilterDrawerOpen(true),\n      startIcon: /* @__PURE__ */ React.createElement(FilterListIcon, null)\n    },\n    \"Filters\"\n  ), /* @__PURE__ */ React.createElement(\n    Drawer,\n    {\n      open: filterDrawerOpen,\n      onClose: () => setFilterDrawerOpen(false),\n      anchor: (_b = (_a = props.options) == null ? void 0 : _a.drawerAnchor) != null ? _b : \"left\",\n      disableAutoFocus: true,\n      keepMounted: true,\n      variant: \"temporary\"\n    },\n    /* @__PURE__ */ React.createElement(Box, { m: 2 }, /* @__PURE__ */ React.createElement(\n      Typography,\n      {\n        variant: \"h6\",\n        component: \"h2\",\n        style: { marginBottom: theme.spacing(1) }\n      },\n      \"Filters\"\n    ), props.children)\n  )) : /* @__PURE__ */ React.createElement(Grid, { item: true, lg: 2 }, props.children);\n};\nconst Content = (props) => {\n  return /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12, lg: 10 }, props.children);\n};\nconst CatalogFilterLayout = (props) => {\n  return /* @__PURE__ */ React.createElement(Grid, { container: true, style: { position: \"relative\" } }, props.children);\n};\nCatalogFilterLayout.Filters = Filters;\nCatalogFilterLayout.Content = Content;\n\nfunction reduceCatalogFilters(filters) {\n  return filters.reduce((compoundFilter, filter) => {\n    return {\n      ...compoundFilter,\n      ...filter.getCatalogFilters ? filter.getCatalogFilters() : {}\n    };\n  }, {});\n}\nfunction reduceEntityFilters(filters) {\n  return (entity) => filters.every(\n    (filter) => !filter.filterEntity || filter.filterEntity(entity)\n  );\n}\n\nfunction getEntitySourceLocation(entity, scmIntegrationsApi) {\n  var _a;\n  const sourceLocation = (_a = entity.metadata.annotations) == null ? void 0 : _a[ANNOTATION_SOURCE_LOCATION];\n  if (!sourceLocation) {\n    return void 0;\n  }\n  try {\n    const sourceLocationRef = parseLocationRef(sourceLocation);\n    const integration = scmIntegrationsApi.byUrl(sourceLocationRef.target);\n    return {\n      locationTargetUrl: sourceLocationRef.target,\n      integrationType: integration == null ? void 0 : integration.type\n    };\n  } catch {\n    return void 0;\n  }\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass EntityKindFilter {\n  constructor(value) {\n    this.value = value;\n  }\n  getCatalogFilters() {\n    return { kind: this.value };\n  }\n  toQueryValue() {\n    return this.value;\n  }\n}\nclass EntityTypeFilter {\n  constructor(value) {\n    this.value = value;\n  }\n  // Simplify `string | string[]` for consumers, always returns an array\n  getTypes() {\n    return Array.isArray(this.value) ? this.value : [this.value];\n  }\n  getCatalogFilters() {\n    return { \"spec.type\": this.getTypes() };\n  }\n  toQueryValue() {\n    return this.getTypes();\n  }\n}\nclass EntityTagFilter {\n  constructor(values) {\n    this.values = values;\n  }\n  filterEntity(entity) {\n    return this.values.every((v) => {\n      var _a;\n      return ((_a = entity.metadata.tags) != null ? _a : []).includes(v);\n    });\n  }\n  toQueryValue() {\n    return this.values;\n  }\n}\nclass EntityTextFilter {\n  constructor(value) {\n    this.value = value;\n  }\n  filterEntity(entity) {\n    const words = this.toUpperArray(this.value.split(/\\s/));\n    const exactMatch = this.toUpperArray([entity.metadata.tags]);\n    const partialMatch = this.toUpperArray([\n      entity.metadata.name,\n      entity.metadata.title\n    ]);\n    for (const word of words) {\n      if (exactMatch.every((m) => m !== word) && partialMatch.every((m) => !m.includes(word))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  toUpperArray(value) {\n    return value.flat().filter((m) => Boolean(m)).map((m) => m.toLocaleUpperCase(\"en-US\"));\n  }\n}\nclass EntityOwnerFilter {\n  constructor(values) {\n    __publicField(this, \"values\");\n    this.values = values.reduce((fullRefs, ref) => {\n      try {\n        fullRefs.push(\n          stringifyEntityRef(parseEntityRef(ref, { defaultKind: \"Group\" }))\n        );\n        return fullRefs;\n      } catch (err) {\n        return fullRefs;\n      }\n    }, []);\n  }\n  filterEntity(entity) {\n    return this.values.some(\n      (v) => getEntityRelations(entity, RELATION_OWNED_BY).some(\n        (o) => stringifyEntityRef(o) === v\n      )\n    );\n  }\n  /**\n   * Get the URL query parameter value. May be a mix of full and humanized entity refs.\n   * @returns list of entity refs.\n   */\n  toQueryValue() {\n    return this.values;\n  }\n}\nclass EntityLifecycleFilter {\n  constructor(values) {\n    this.values = values;\n  }\n  filterEntity(entity) {\n    return this.values.some((v) => {\n      var _a;\n      return ((_a = entity.spec) == null ? void 0 : _a.lifecycle) === v;\n    });\n  }\n  toQueryValue() {\n    return this.values;\n  }\n}\nclass EntityNamespaceFilter {\n  constructor(values) {\n    this.values = values;\n  }\n  filterEntity(entity) {\n    return this.values.some((v) => entity.metadata.namespace === v);\n  }\n  toQueryValue() {\n    return this.values;\n  }\n}\nclass UserListFilter {\n  constructor(value, isOwnedEntity, isStarredEntity) {\n    this.value = value;\n    this.isOwnedEntity = isOwnedEntity;\n    this.isStarredEntity = isStarredEntity;\n  }\n  filterEntity(entity) {\n    switch (this.value) {\n      case \"owned\":\n        return this.isOwnedEntity(entity);\n      case \"starred\":\n        return this.isStarredEntity(entity);\n      default:\n        return true;\n    }\n  }\n  toQueryValue() {\n    return this.value;\n  }\n}\nclass EntityOrphanFilter {\n  constructor(value) {\n    this.value = value;\n  }\n  filterEntity(entity) {\n    var _a;\n    const orphan = (_a = entity.metadata.annotations) == null ? void 0 : _a[\"backstage.io/orphan\"];\n    return orphan !== void 0 && this.value.toString() === orphan;\n  }\n}\nclass EntityErrorFilter {\n  constructor(value) {\n    this.value = value;\n  }\n  filterEntity(entity) {\n    var _a, _b;\n    const error = ((_b = (_a = entity == null ? void 0 : entity.status) == null ? void 0 : _a.items) == null ? void 0 : _b.length) > 0;\n    return error !== void 0 && this.value === error;\n  }\n}\n\nconst EntityListContext = createContext(void 0);\nconst EntityListProvider = (props) => {\n  const isMounted = useMountedState();\n  const catalogApi = useApi(catalogApiRef);\n  const [requestedFilters, setRequestedFilters] = useState(\n    {}\n  );\n  const location = useLocation();\n  const queryParameters = useMemo(\n    () => {\n      var _a;\n      return (_a = qs.parse(location.search, {\n        ignoreQueryPrefix: true\n      }).filters) != null ? _a : {};\n    },\n    [location]\n  );\n  const [outputState, setOutputState] = useState(\n    () => {\n      return {\n        appliedFilters: {},\n        entities: [],\n        backendEntities: []\n      };\n    }\n  );\n  const [{ loading, error }, refresh] = useAsyncFn(\n    async () => {\n      var _a;\n      const compacted = compact(Object.values(requestedFilters));\n      const entityFilter = reduceEntityFilters(compacted);\n      const backendFilter = reduceCatalogFilters(compacted);\n      const previousBackendFilter = reduceCatalogFilters(\n        compact(Object.values(outputState.appliedFilters))\n      );\n      const queryParams = Object.keys(requestedFilters).reduce(\n        (params, key) => {\n          const filter = requestedFilters[key];\n          if (filter == null ? void 0 : filter.toQueryValue) {\n            params[key] = filter.toQueryValue();\n          }\n          return params;\n        },\n        {}\n      );\n      if (!isEqual(previousBackendFilter, backendFilter)) {\n        const response = await catalogApi.getEntities({\n          filter: backendFilter\n        });\n        setOutputState({\n          appliedFilters: requestedFilters,\n          backendEntities: response.items,\n          entities: response.items.filter(entityFilter)\n        });\n      } else {\n        setOutputState({\n          appliedFilters: requestedFilters,\n          backendEntities: outputState.backendEntities,\n          entities: outputState.backendEntities.filter(entityFilter)\n        });\n      }\n      if (isMounted()) {\n        const oldParams = qs.parse(location.search, {\n          ignoreQueryPrefix: true\n        });\n        const newParams = qs.stringify(\n          { ...oldParams, filters: queryParams },\n          { addQueryPrefix: true, arrayFormat: \"repeat\" }\n        );\n        const newUrl = `${window.location.pathname}${newParams}`;\n        (_a = window.history) == null ? void 0 : _a.replaceState(null, document.title, newUrl);\n      }\n    },\n    [catalogApi, queryParameters, requestedFilters, outputState],\n    { loading: true }\n  );\n  useDebounce(refresh, 10, [requestedFilters]);\n  const updateFilters = useCallback(\n    (update) => {\n      setRequestedFilters((prevFilters) => {\n        const newFilters = typeof update === \"function\" ? update(prevFilters) : update;\n        return { ...prevFilters, ...newFilters };\n      });\n    },\n    []\n  );\n  const value = useMemo(\n    () => ({\n      filters: outputState.appliedFilters,\n      entities: outputState.entities,\n      backendEntities: outputState.backendEntities,\n      updateFilters,\n      queryParameters,\n      loading,\n      error\n    }),\n    [outputState, updateFilters, queryParameters, loading, error]\n  );\n  return /* @__PURE__ */ React.createElement(EntityListContext.Provider, { value }, props.children);\n};\nfunction useEntityList() {\n  const context = useContext(EntityListContext);\n  if (!context)\n    throw new Error(\"useEntityList must be used within EntityListProvider\");\n  return context;\n}\n\nfunction useEntityTypeFilter() {\n  var _a;\n  const catalogApi = useApi(catalogApiRef);\n  const {\n    filters: { kind: kindFilter, type: typeFilter },\n    queryParameters: { type: typeParameter },\n    updateFilters\n  } = useEntityList();\n  const flattenedQueryTypes = useMemo(\n    () => [typeParameter].flat().filter(Boolean),\n    [typeParameter]\n  );\n  const [selectedTypes, setSelectedTypes] = useState(\n    flattenedQueryTypes.length ? flattenedQueryTypes : (_a = typeFilter == null ? void 0 : typeFilter.getTypes()) != null ? _a : []\n  );\n  useEffect(() => {\n    if (flattenedQueryTypes.length) {\n      setSelectedTypes(flattenedQueryTypes);\n    }\n  }, [flattenedQueryTypes]);\n  const [availableTypes, setAvailableTypes] = useState([]);\n  const kind = useMemo(() => kindFilter == null ? void 0 : kindFilter.value, [kindFilter]);\n  const {\n    error,\n    loading,\n    value: facets\n  } = useAsync(async () => {\n    if (kind) {\n      const items = await catalogApi.getEntityFacets({\n        filter: { kind },\n        facets: [\"spec.type\"]\n      }).then((response) => response.facets[\"spec.type\"] || []);\n      return items;\n    }\n    return [];\n  }, [kind, catalogApi]);\n  const facetsRef = useRef(facets);\n  useEffect(() => {\n    const oldFacets = facetsRef.current;\n    facetsRef.current = facets;\n    if (loading || !kind || oldFacets === facets || !facets) {\n      return;\n    }\n    const newTypes = [\n      ...new Set(\n        sortBy(facets, (f) => -f.count).map(\n          (f) => f.value.toLocaleLowerCase(\"en-US\")\n        )\n      )\n    ];\n    setAvailableTypes(newTypes);\n    const stillValidTypes = selectedTypes.filter(\n      (value) => newTypes.includes(value)\n    );\n    if (!isEqual$1(selectedTypes, stillValidTypes)) {\n      setSelectedTypes(stillValidTypes);\n    }\n  }, [loading, kind, selectedTypes, setSelectedTypes, facets]);\n  useEffect(() => {\n    updateFilters({\n      type: selectedTypes.length ? new EntityTypeFilter(selectedTypes) : void 0\n    });\n  }, [selectedTypes, updateFilters]);\n  return {\n    loading,\n    error,\n    availableTypes,\n    selectedTypes,\n    setSelectedTypes\n  };\n}\n\nfunction useRelatedEntities(entity, relationFilter) {\n  var _a, _b;\n  const filterByTypeLower = (_a = relationFilter == null ? void 0 : relationFilter.type) == null ? void 0 : _a.toLocaleLowerCase(\"en-US\");\n  const filterByKindLower = (_b = relationFilter == null ? void 0 : relationFilter.kind) == null ? void 0 : _b.toLocaleLowerCase(\"en-US\");\n  const catalogApi = useApi(catalogApiRef);\n  const {\n    loading,\n    value: entities,\n    error\n  } = useAsync(async () => {\n    var _a2;\n    const relations = (_a2 = entity.relations) == null ? void 0 : _a2.filter(\n      (r) => (!filterByTypeLower || r.type.toLocaleLowerCase(\"en-US\") === filterByTypeLower) && (!filterByKindLower || parseEntityRef(r.targetRef).kind === filterByKindLower)\n    );\n    if (!(relations == null ? void 0 : relations.length)) {\n      return [];\n    }\n    const { items } = await catalogApi.getEntitiesByRefs({\n      entityRefs: relations.map((r) => r.targetRef)\n    });\n    return items.filter((x) => Boolean(x));\n  }, [entity, filterByTypeLower, filterByKindLower]);\n  return {\n    entities,\n    loading,\n    error\n  };\n}\n\nfunction getEntityRef$1(entityOrRef) {\n  return typeof entityOrRef === \"string\" ? entityOrRef : stringifyEntityRef(entityOrRef);\n}\nfunction useStarredEntities() {\n  const starredEntitiesApi = useApi(starredEntitiesApiRef);\n  const starredEntities = useObservable(\n    starredEntitiesApi.starredEntitie$(),\n    /* @__PURE__ */ new Set()\n  );\n  const isStarredEntity = useCallback(\n    (entityOrRef) => starredEntities.has(getEntityRef$1(entityOrRef)),\n    [starredEntities]\n  );\n  const toggleStarredEntity = useCallback(\n    (entityOrRef) => starredEntitiesApi.toggleStarred(getEntityRef$1(entityOrRef)).then(),\n    [starredEntitiesApi]\n  );\n  return {\n    starredEntities,\n    toggleStarredEntity,\n    isStarredEntity\n  };\n}\n\nfunction getEntityRef(entityOrRef) {\n  return typeof entityOrRef === \"string\" ? entityOrRef : stringifyEntityRef(entityOrRef);\n}\nfunction useStarredEntity(entityOrRef) {\n  const starredEntitiesApi = useApi(starredEntitiesApiRef);\n  const [isStarredEntity, setIsStarredEntity] = useState(false);\n  useEffect(() => {\n    const subscription = starredEntitiesApi.starredEntitie$().subscribe({\n      next(starredEntities) {\n        setIsStarredEntity(starredEntities.has(getEntityRef(entityOrRef)));\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [entityOrRef, starredEntitiesApi]);\n  const toggleStarredEntity = useCallback(\n    () => starredEntitiesApi.toggleStarred(getEntityRef(entityOrRef)).then(),\n    [entityOrRef, starredEntitiesApi]\n  );\n  return {\n    toggleStarredEntity,\n    isStarredEntity\n  };\n}\n\nfunction useEntityOwnership() {\n  const identityApi = useApi(identityApiRef);\n  const { loading, value: refs } = useAsync(async () => {\n    const { ownershipEntityRefs } = await identityApi.getBackstageIdentity();\n    return ownershipEntityRefs;\n  }, []);\n  const isOwnedEntity = useMemo(() => {\n    const myOwnerRefs = new Set(refs != null ? refs : []);\n    return (entity) => {\n      const entityOwnerRefs = getEntityRelations(entity, RELATION_OWNED_BY).map(\n        stringifyEntityRef\n      );\n      for (const ref of entityOwnerRefs) {\n        if (myOwnerRefs.has(ref)) {\n          return true;\n        }\n      }\n      return false;\n    };\n  }, [refs]);\n  return useMemo(() => ({ loading, isOwnedEntity }), [loading, isOwnedEntity]);\n}\n\nfunction useAllKinds() {\n  const catalogApi = useApi(catalogApiRef);\n  const {\n    error,\n    loading,\n    value: allKinds\n  } = useAsync(async () => {\n    const items = await catalogApi.getEntityFacets({ facets: [\"kind\"] }).then((response) => {\n      var _a;\n      return ((_a = response.facets.kind) == null ? void 0 : _a.map((f) => f.value).sort()) || [];\n    });\n    return items;\n  }, [catalogApi]);\n  return { loading, error, allKinds: allKinds != null ? allKinds : [] };\n}\nfunction filterKinds(allKinds, allowedKinds, forcedKinds) {\n  let availableKinds = allKinds;\n  if (allowedKinds) {\n    availableKinds = availableKinds.filter(\n      (k) => allowedKinds.some(\n        (a) => a.toLocaleLowerCase(\"en-US\") === k.toLocaleLowerCase(\"en-US\")\n      )\n    );\n  }\n  if (forcedKinds && !allKinds.some(\n    (a) => a.toLocaleLowerCase(\"en-US\") === forcedKinds.toLocaleLowerCase(\"en-US\")\n  )) {\n    availableKinds = availableKinds.concat([forcedKinds]);\n  }\n  const kindsMap = availableKinds.sort().reduce((acc, kind) => {\n    acc[kind.toLocaleLowerCase(\"en-US\")] = kind;\n    return acc;\n  }, {});\n  return kindsMap;\n}\n\nfunction useEntityKindFilter(opts) {\n  var _a, _b;\n  const {\n    filters,\n    queryParameters: { kind: kindParameter },\n    updateFilters\n  } = useEntityList();\n  const queryParamKind = useMemo(\n    () => [kindParameter].flat()[0],\n    [kindParameter]\n  );\n  const [selectedKind, setSelectedKind] = useState(\n    (_b = queryParamKind != null ? queryParamKind : (_a = filters.kind) == null ? void 0 : _a.value) != null ? _b : opts.initialFilter\n  );\n  useEffect(() => {\n    if (queryParamKind) {\n      setSelectedKind(queryParamKind);\n    }\n  }, [queryParamKind]);\n  useEffect(() => {\n    var _a2, _b2;\n    if ((_a2 = filters.kind) == null ? void 0 : _a2.value) {\n      setSelectedKind((_b2 = filters.kind) == null ? void 0 : _b2.value);\n    }\n  }, [filters.kind]);\n  useEffect(() => {\n    updateFilters({\n      kind: selectedKind ? new EntityKindFilter(selectedKind) : void 0\n    });\n  }, [selectedKind, updateFilters]);\n  const { allKinds, loading, error } = useAllKinds();\n  return {\n    loading,\n    error,\n    allKinds: allKinds != null ? allKinds : [],\n    selectedKind,\n    setSelectedKind\n  };\n}\nconst EntityKindPicker = (props) => {\n  const { allowedKinds, hidden, initialFilter = \"component\" } = props;\n  const alertApi = useApi(alertApiRef);\n  const { error, allKinds, selectedKind, setSelectedKind } = useEntityKindFilter({\n    initialFilter\n  });\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load entity kinds`,\n        severity: \"error\"\n      });\n    }\n  }, [error, alertApi]);\n  if (error)\n    return null;\n  const options = filterKinds(allKinds, allowedKinds, selectedKind);\n  const items = Object.keys(options).map((key) => ({\n    value: key,\n    label: options[key]\n  }));\n  return hidden ? null : /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      label: \"Kind\",\n      items,\n      selected: selectedKind.toLocaleLowerCase(\"en-US\"),\n      onChange: (value) => setSelectedKind(String(value))\n    }\n  ));\n};\n\nconst icon$2 = /* @__PURE__ */ React.createElement(CheckBoxOutlineBlankIcon, { fontSize: \"small\" });\nconst checkedIcon$2 = /* @__PURE__ */ React.createElement(CheckBoxIcon, { fontSize: \"small\" });\nfunction OptionCheckbox({ selected }) {\n  return /* @__PURE__ */ React.createElement(Checkbox, { icon: icon$2, checkedIcon: checkedIcon$2, checked: selected });\n}\nconst EntityAutocompletePickerOption = memo((props) => {\n  const { selected, value, availableOptions, showCounts } = props;\n  const label = showCounts ? `${value} (${availableOptions == null ? void 0 : availableOptions[value]})` : value;\n  return /* @__PURE__ */ React.createElement(\n    FormControlLabel,\n    {\n      control: /* @__PURE__ */ React.createElement(OptionCheckbox, { selected }),\n      label,\n      onClick: (event) => event.preventDefault()\n    }\n  );\n});\n\nconst useStyles$f = makeStyles(\n  {\n    input: {}\n  },\n  {\n    name: \"CatalogReactEntityAutocompletePickerInput\"\n  }\n);\nfunction EntityAutocompletePickerInput(params) {\n  const classes = useStyles$f();\n  return /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      variant: \"outlined\",\n      ...params,\n      className: classNames(classes.input, params.className)\n    }\n  );\n}\n\nfunction EntityAutocompletePicker(props) {\n  var _a, _b;\n  const {\n    label,\n    name,\n    path,\n    showCounts,\n    Filter,\n    InputProps,\n    initialSelectedOptions = []\n  } = props;\n  const {\n    updateFilters,\n    filters,\n    queryParameters: { [name]: queryParameter }\n  } = useEntityList();\n  const catalogApi = useApi(catalogApiRef);\n  const { value: availableValues } = useAsync(async () => {\n    var _a2;\n    const facet = path;\n    const { facets } = await catalogApi.getEntityFacets({\n      facets: [facet],\n      filter: (_a2 = filters.kind) == null ? void 0 : _a2.getCatalogFilters()\n    });\n    return Object.fromEntries(\n      facets[facet].map(({ value, count }) => [value, count])\n    );\n  }, [filters.kind]);\n  const queryParameters = useMemo(\n    () => [queryParameter].flat().filter(Boolean),\n    [queryParameter]\n  );\n  const [selectedOptions, setSelectedOptions] = useState(\n    queryParameters.length ? queryParameters : (_b = (_a = filters[name]) == null ? void 0 : _a.values) != null ? _b : initialSelectedOptions\n  );\n  useEffect(() => {\n    if (queryParameters.length) {\n      setSelectedOptions(queryParameters);\n    }\n  }, [queryParameters]);\n  const availableOptions = Object.keys(availableValues != null ? availableValues : {});\n  const shouldAddFilter = selectedOptions.length && availableOptions.length;\n  useEffect(() => {\n    updateFilters({\n      [name]: shouldAddFilter ? new Filter(selectedOptions) : void 0\n    });\n  }, [name, shouldAddFilter, selectedOptions, Filter, updateFilters]);\n  const filter = filters[name];\n  if (filter && typeof filter === \"object\" && !(\"values\" in filter) || !availableOptions.length) {\n    return null;\n  }\n  if (availableOptions.length <= 1)\n    return null;\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"button\", component: \"label\" }, label, /* @__PURE__ */ React.createElement(\n    Autocomplete,\n    {\n      multiple: true,\n      disableCloseOnSelect: true,\n      options: availableOptions,\n      value: selectedOptions,\n      onChange: (_event, options) => setSelectedOptions(options),\n      renderOption: (option, { selected }) => /* @__PURE__ */ React.createElement(\n        EntityAutocompletePickerOption,\n        {\n          selected,\n          value: option,\n          availableOptions: availableValues,\n          showCounts: !!showCounts\n        }\n      ),\n      size: \"small\",\n      popupIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, { \"data-testid\": `${String(name)}-picker-expand` }),\n      renderInput: (params) => /* @__PURE__ */ React.createElement(EntityAutocompletePickerInput, { ...params, ...InputProps })\n    }\n  )));\n}\n\nconst useStyles$e = makeStyles(\n  {\n    input: {}\n  },\n  {\n    name: \"CatalogReactEntityLifecyclePicker\"\n  }\n);\nconst EntityLifecyclePicker = (props) => {\n  const { initialFilter = [] } = props;\n  const classes = useStyles$e();\n  return /* @__PURE__ */ React.createElement(\n    EntityAutocompletePicker,\n    {\n      label: \"Lifecycle\",\n      name: \"lifecycles\",\n      path: \"spec.lifecycle\",\n      Filter: EntityLifecycleFilter,\n      InputProps: { className: classes.input },\n      initialSelectedOptions: initialFilter\n    }\n  );\n};\n\nfunction humanizeEntityRef(entityRef, opts) {\n  const defaultKind = opts == null ? void 0 : opts.defaultKind;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  if (namespace === void 0 || namespace === \"\") {\n    namespace = DEFAULT_NAMESPACE;\n  }\n  if ((opts == null ? void 0 : opts.defaultNamespace) !== void 0) {\n    if ((opts == null ? void 0 : opts.defaultNamespace) === namespace) {\n      namespace = void 0;\n    }\n  } else if (namespace === DEFAULT_NAMESPACE) {\n    namespace = void 0;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  kind = defaultKind && defaultKind.toLocaleLowerCase(\"en-US\") === kind ? void 0 : kind;\n  return `${kind ? `${kind}:` : \"\"}${namespace ? `${namespace}/` : \"\"}${name}`;\n}\nfunction humanizeEntity(entity, defaultName) {\n  for (const path of [\"spec.profile.displayName\", \"metadata.title\"]) {\n    const value = get(entity, path);\n    if (value && typeof value === \"string\") {\n      return value;\n    }\n  }\n  return defaultName;\n}\n\nfunction useFacetsEntities({ enabled }) {\n  const catalogApi = useApi(catalogApiRef);\n  const [facetsPromise] = useState(async () => {\n    if (!enabled) {\n      return [];\n    }\n    const facet = \"relations.ownedBy\";\n    return catalogApi.getEntityFacets({ facets: [facet] }).then(\n      (response) => response.facets[facet].map((e) => e.value).map((ref) => {\n        const { kind, name, namespace } = parseEntityRef(ref);\n        return {\n          apiVersion: \"backstage.io/v1beta1\",\n          kind,\n          metadata: { name, namespace }\n        };\n      }).sort(\n        (a, b) => (a.metadata.namespace || \"\").localeCompare(\n          b.metadata.namespace || \"\",\n          \"en-US\"\n        ) || a.metadata.name.localeCompare(b.metadata.name, \"en-US\") || a.kind.localeCompare(b.kind, \"en-US\")\n      )\n    ).catch(() => []);\n  });\n  return useAsyncFn(\n    async (request, options) => {\n      var _a;\n      const facets = await facetsPromise;\n      if (!facets) {\n        return {\n          items: []\n        };\n      }\n      const limit = (_a = options == null ? void 0 : options.limit) != null ? _a : 20;\n      const { text, start } = decodeCursor(request);\n      const filteredRefs = facets.filter((e) => filterEntity(text, e));\n      const end = start + limit;\n      return {\n        items: filteredRefs.slice(0, end),\n        ...encodeCursor({\n          entities: filteredRefs,\n          limit: end,\n          payload: {\n            text,\n            start: end\n          }\n        })\n      };\n    },\n    [facetsPromise],\n    { loading: true, value: { items: [] } }\n  );\n}\nfunction decodeCursor(request) {\n  if (isFacetsResponse(request) && request.cursor) {\n    return JSON.parse(atob(request.cursor));\n  }\n  return {\n    text: request.text || \"\",\n    start: 0\n  };\n}\nfunction isFacetsResponse(request) {\n  return !!request.cursor;\n}\nfunction encodeCursor({\n  entities,\n  limit,\n  payload\n}) {\n  if (entities.length > limit) {\n    return { cursor: btoa(JSON.stringify(payload)) };\n  }\n  return {};\n}\nfunction filterEntity(text, entity) {\n  var _a;\n  const normalizedText = text.trim();\n  return entity.kind.includes(normalizedText) || ((_a = entity.metadata.namespace) == null ? void 0 : _a.includes(normalizedText)) || entity.metadata.name.includes(normalizedText);\n}\n\nfunction useQueryEntities() {\n  const catalogApi = useApi(catalogApiRef);\n  return useAsyncFn(\n    async (request, options) => {\n      var _a;\n      const initialRequest = request;\n      const cursorRequest = request;\n      const limit = (_a = options == null ? void 0 : options.limit) != null ? _a : 20;\n      if (cursorRequest.cursor) {\n        const response2 = await catalogApi.queryEntities({\n          cursor: cursorRequest.cursor,\n          limit\n        });\n        return {\n          cursor: response2.pageInfo.nextCursor,\n          items: [...cursorRequest.items, ...response2.items]\n        };\n      }\n      const response = await catalogApi.queryEntities({\n        fullTextFilter: {\n          term: initialRequest.text || \"\",\n          fields: [\n            \"metadata.name\",\n            \"kind\",\n            \"spec.profile.displayname\",\n            \"metadata.title\"\n          ]\n        },\n        filter: { kind: [\"User\", \"Group\"] },\n        orderFields: [{ field: \"metadata.name\", order: \"asc\" }],\n        limit\n      });\n      return {\n        cursor: response.pageInfo.nextCursor,\n        items: response.items\n      };\n    },\n    [],\n    { loading: true }\n  );\n}\n\nfunction useFetchEntities({\n  mode,\n  initialSelectedOwnersRefs\n}) {\n  const isOwnersOnlyMode = mode === \"owners-only\";\n  const queryEntitiesResponse = useQueryEntities();\n  const facetsEntitiesResponse = useFacetsEntities({\n    enabled: isOwnersOnlyMode\n  });\n  const [state, handleFetch] = isOwnersOnlyMode ? facetsEntitiesResponse : queryEntitiesResponse;\n  return [\n    state,\n    handleFetch,\n    useSelectedOwners({\n      enabled: !isOwnersOnlyMode,\n      initialSelectedOwnersRefs\n    })\n  ];\n}\nfunction useSelectedOwners({\n  enabled,\n  initialSelectedOwnersRefs\n}) {\n  const allEntities = useRef({});\n  const catalogApi = useApi(catalogApiRef);\n  const [, handleFetch] = useAsyncFn(async () => {\n    const initialSelectedEntities = await catalogApi.getEntitiesByRefs({\n      entityRefs: initialSelectedOwnersRefs\n    });\n    initialSelectedEntities.items.forEach((e) => {\n      if (e) {\n        allEntities.current[stringifyEntityRef(e)] = e;\n      }\n    });\n  }, []);\n  useMountEffect(() => {\n    if (enabled && initialSelectedOwnersRefs.length > 0) {\n      handleFetch();\n    }\n  });\n  return {\n    getEntity: (entityRef) => allEntities.current[entityRef],\n    setEntity: (entity) => {\n      allEntities.current[stringifyEntityRef(entity)] = entity;\n    }\n  };\n}\n\nconst useStyles$d = makeStyles(\n  {\n    input: {}\n  },\n  {\n    name: \"CatalogReactEntityOwnerPicker\"\n  }\n);\nconst icon$1 = /* @__PURE__ */ React.createElement(CheckBoxOutlineBlankIcon, { fontSize: \"small\" });\nconst checkedIcon$1 = /* @__PURE__ */ React.createElement(CheckBoxIcon, { fontSize: \"small\" });\nconst EntityOwnerPicker = (props) => {\n  var _a, _b, _c;\n  const classes = useStyles$d();\n  const { mode = \"owners-only\" } = props || {};\n  const {\n    updateFilters,\n    filters,\n    queryParameters: { owners: ownersParameter }\n  } = useEntityList();\n  const [text, setText] = useState(\"\");\n  const queryParamOwners = useMemo(\n    () => [ownersParameter].flat().filter(Boolean),\n    [ownersParameter]\n  );\n  const [selectedOwners, setSelectedOwners] = useState(\n    queryParamOwners.length ? queryParamOwners : (_b = (_a = filters.owners) == null ? void 0 : _a.values) != null ? _b : []\n  );\n  const [{ value, loading }, handleFetch, cache] = useFetchEntities({\n    mode,\n    initialSelectedOwnersRefs: selectedOwners\n  });\n  useDebouncedEffect(() => handleFetch({ text }), [text, handleFetch], 250);\n  const availableOwners = (value == null ? void 0 : value.items) || [];\n  useEffect(() => {\n    if (queryParamOwners.length) {\n      const filter = new EntityOwnerFilter(queryParamOwners);\n      setSelectedOwners(filter.values);\n    }\n  }, [queryParamOwners]);\n  useEffect(() => {\n    updateFilters({\n      owners: selectedOwners.length ? new EntityOwnerFilter(selectedOwners) : void 0\n    });\n  }, [selectedOwners, updateFilters]);\n  if ([\"user\", \"group\"].includes(\n    ((_c = filters.kind) == null ? void 0 : _c.value.toLocaleLowerCase(\"en-US\")) || \"\"\n  )) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"button\", component: \"label\" }, \"Owner\", /* @__PURE__ */ React.createElement(\n    Autocomplete,\n    {\n      multiple: true,\n      disableCloseOnSelect: true,\n      loading,\n      options: availableOwners,\n      value: selectedOwners,\n      getOptionSelected: (o, v) => {\n        if (typeof v === \"string\") {\n          return stringifyEntityRef(o) === v;\n        }\n        return o === v;\n      },\n      getOptionLabel: (o) => {\n        const entity = typeof o === \"string\" ? cache.getEntity(o) || parseEntityRef(o, {\n          defaultKind: \"group\",\n          defaultNamespace: \"default\"\n        }) : o;\n        return humanizeEntity(entity, humanizeEntityRef(entity));\n      },\n      onChange: (_, owners) => {\n        setText(\"\");\n        setSelectedOwners(\n          owners.map((e) => {\n            const entityRef = typeof e === \"string\" ? e : stringifyEntityRef(e);\n            if (typeof e !== \"string\") {\n              cache.setEntity(e);\n            }\n            return entityRef;\n          })\n        );\n      },\n      filterOptions: (x) => x,\n      renderOption: (entity, { selected }) => {\n        const isGroup = entity.kind.toLocaleLowerCase(\"en-US\") === \"group\";\n        return /* @__PURE__ */ React.createElement(\n          FormControlLabel,\n          {\n            control: /* @__PURE__ */ React.createElement(\n              Checkbox,\n              {\n                icon: icon$1,\n                checkedIcon: checkedIcon$1,\n                checked: selected\n              }\n            ),\n            onClick: (event) => event.preventDefault(),\n            label: /* @__PURE__ */ React.createElement(Box, { display: \"flex\", flexWrap: \"wrap\", alignItems: \"center\" }, isGroup ? /* @__PURE__ */ React.createElement(GroupIcon, { fontSize: \"small\" }) : /* @__PURE__ */ React.createElement(PersonIcon, { fontSize: \"small\" }), \"\\xA0\", humanizeEntity(\n              entity,\n              humanizeEntityRef(entity, { defaultKind: entity.kind })\n            ))\n          }\n        );\n      },\n      size: \"small\",\n      popupIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, { \"data-testid\": \"owner-picker-expand\" }),\n      renderInput: (params) => /* @__PURE__ */ React.createElement(\n        TextField,\n        {\n          ...params,\n          className: classes.input,\n          onChange: (e) => {\n            setText(e.currentTarget.value);\n          },\n          variant: \"outlined\"\n        }\n      ),\n      ListboxProps: {\n        onScroll: (e) => {\n          const element = e.currentTarget;\n          const hasReachedEnd = Math.abs(\n            element.scrollHeight - element.clientHeight - element.scrollTop\n          ) < 1;\n          if (hasReachedEnd && (value == null ? void 0 : value.cursor)) {\n            handleFetch({ items: value.items, cursor: value.cursor });\n          }\n        },\n        \"data-testid\": \"owner-picker-listbox\"\n      }\n    }\n  )));\n};\n\nconst entityRouteRef = getOrCreateGlobalSingleton(\n  \"catalog:entity-route-ref\",\n  () => createRouteRef({\n    id: \"catalog:entity\",\n    params: [\"namespace\", \"kind\", \"name\"]\n  })\n);\nfunction entityRouteParams(entity) {\n  var _a, _b;\n  return {\n    kind: entity.kind.toLocaleLowerCase(\"en-US\"),\n    namespace: (_b = (_a = entity.metadata.namespace) == null ? void 0 : _a.toLocaleLowerCase(\"en-US\")) != null ? _b : DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\n\nconst EntityRefLink = forwardRef(\n  (props, ref) => {\n    var _a;\n    const { entityRef, defaultKind, title, children, ...linkProps } = props;\n    const entityRoute = useRouteRef(entityRouteRef);\n    let kind;\n    let namespace;\n    let name;\n    if (typeof entityRef === \"string\") {\n      const parsed = parseEntityRef(entityRef);\n      kind = parsed.kind;\n      namespace = parsed.namespace;\n      name = parsed.name;\n    } else if (\"metadata\" in entityRef) {\n      kind = entityRef.kind;\n      namespace = entityRef.metadata.namespace;\n      name = entityRef.metadata.name;\n    } else {\n      kind = entityRef.kind;\n      namespace = entityRef.namespace;\n      name = entityRef.name;\n    }\n    kind = kind.toLocaleLowerCase(\"en-US\");\n    namespace = (_a = namespace == null ? void 0 : namespace.toLocaleLowerCase(\"en-US\")) != null ? _a : DEFAULT_NAMESPACE;\n    const routeParams = { kind, namespace, name };\n    const formattedEntityRefTitle = humanizeEntityRef(\n      { kind, namespace, name },\n      { defaultKind }\n    );\n    const link = /* @__PURE__ */ React.createElement(Link, { ...linkProps, ref, to: entityRoute(routeParams) }, children, !children && (title != null ? title : formattedEntityRefTitle));\n    return title ? /* @__PURE__ */ React.createElement(Tooltip, { title: formattedEntityRefTitle }, link) : link;\n  }\n);\n\nfunction FetchedEntityRefLinks(props) {\n  const { entityRefs, defaultKind, getTitle, ...linkProps } = props;\n  const catalogApi = useApi(catalogApiRef);\n  const {\n    value: entities = new Array(),\n    loading,\n    error\n  } = useAsync(async () => {\n    const refs = entityRefs.reduce((acc, current) => {\n      if (typeof current === \"object\" && \"metadata\" in current) {\n        return acc;\n      }\n      return [...acc, parseEntityRef(current)];\n    }, new Array());\n    const pureEntities = entityRefs.filter(\n      (ref) => typeof ref === \"object\" && \"metadata\" in ref\n    );\n    return refs.length > 0 ? [\n      ...(await catalogApi.getEntities({\n        filter: refs.map((ref) => ({\n          kind: ref.kind,\n          \"metadata.namespace\": ref.namespace,\n          \"metadata.name\": ref.name\n        }))\n      })).items,\n      ...pureEntities\n    ] : pureEntities;\n  }, [entityRefs]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (error) {\n    return /* @__PURE__ */ React.createElement(ErrorPanel, { error });\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, entities.map((r, i) => {\n    return /* @__PURE__ */ React.createElement(React.Fragment, { key: i }, i > 0 && \", \", /* @__PURE__ */ React.createElement(\n      EntityRefLink,\n      {\n        ...linkProps,\n        defaultKind,\n        entityRef: r,\n        title: getTitle(r)\n      }\n    ));\n  }));\n}\n\nfunction EntityRefLinks(props) {\n  const { entityRefs, defaultKind, fetchEntities, getTitle, ...linkProps } = props;\n  if (fetchEntities) {\n    return /* @__PURE__ */ React.createElement(\n      FetchedEntityRefLinks,\n      {\n        ...linkProps,\n        defaultKind,\n        entityRefs,\n        getTitle\n      }\n    );\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, entityRefs.map((r, i) => {\n    return /* @__PURE__ */ React.createElement(React.Fragment, { key: i }, i > 0 && \", \", /* @__PURE__ */ React.createElement(\n      EntityRefLink,\n      {\n        ...linkProps,\n        defaultKind,\n        entityRef: r,\n        title: getTitle ? getTitle(r) : void 0\n      }\n    ));\n  }));\n}\n\nconst EntityCardActions = (props) => {\n  const entityRoute = useRouteRef(entityRouteRef);\n  return /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      component: Link,\n      \"aria-label\": \"Show\",\n      title: \"Show details\",\n      to: entityRoute(getCompoundEntityRef(props.entity))\n    },\n    /* @__PURE__ */ React.createElement(InfoIcon, null)\n  );\n};\n\nconst EmailCardAction = (props) => {\n  return /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      component: Link,\n      \"aria-label\": \"Email\",\n      title: `Email ${props.email}`,\n      to: `mailto:${props.email}`\n    },\n    /* @__PURE__ */ React.createElement(EmailIcon, null)\n  );\n};\n\nconst GroupCardActions = (props) => {\n  var _a;\n  const email = (_a = props.entity.spec.profile) == null ? void 0 : _a.email;\n  return email ? /* @__PURE__ */ React.createElement(EmailCardAction, { email }) : null;\n};\n\nconst UserCardActions = (props) => {\n  var _a;\n  const email = (_a = props.entity.spec.profile) == null ? void 0 : _a.email;\n  return email ? /* @__PURE__ */ React.createElement(EmailCardAction, { email }) : null;\n};\n\nconst useStyles$c = makeStyles(() => {\n  return {\n    popoverPaper: {\n      width: \"30em\"\n    },\n    descriptionTypography: {\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      display: \"-webkit-box\",\n      WebkitLineClamp: 2,\n      WebkitBoxOrient: \"vertical\"\n    }\n  };\n});\nconst maxTagChips = 4;\nconst EntityPeekAheadPopover = (props) => {\n  var _a, _b, _c;\n  const { entityRef, children, delayTime = 500 } = props;\n  const classes = useStyles$c();\n  const apiHolder = useApiHolder();\n  const popupState = usePopupState({\n    variant: \"popover\",\n    popupId: \"entity-peek-ahead\"\n  });\n  const [isHovered, setIsHovered] = useState(false);\n  const debouncedHandleMouseEnter = useMemo(\n    () => debounce(() => setIsHovered(true), delayTime),\n    [delayTime]\n  );\n  const [{ loading, error, value: entity }, load] = useAsyncFn(async () => {\n    const catalogApi = apiHolder.get(catalogApiRef);\n    if (catalogApi) {\n      const retrievedEntity = await catalogApi.getEntityByRef(entityRef);\n      if (!retrievedEntity) {\n        throw new Error(`${entityRef} not found`);\n      }\n      return retrievedEntity;\n    }\n    return void 0;\n  }, [apiHolder, entityRef]);\n  const handleOnMouseLeave = () => {\n    setIsHovered(false);\n    debouncedHandleMouseEnter.cancel();\n  };\n  useEffect(() => {\n    if (popupState.isOpen && !entity && !error && !loading) {\n      load();\n    }\n  }, [popupState.isOpen, load, entity, error, loading]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { component: \"span\", onMouseEnter: debouncedHandleMouseEnter }, /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      component: \"span\",\n      \"data-testid\": \"trigger\",\n      ...bindHover(popupState)\n    },\n    children\n  )), isHovered && /* @__PURE__ */ React.createElement(\n    HoverPopover,\n    {\n      PaperProps: {\n        className: classes.popoverPaper\n      },\n      ...bindPopover(popupState),\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"center\"\n      },\n      onMouseLeave: handleOnMouseLeave\n    },\n    /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardContent, null, error && /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error }), loading && /* @__PURE__ */ React.createElement(Progress, null), entity && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { color: \"textSecondary\" }, entity.metadata.namespace), /* @__PURE__ */ React.createElement(Typography, { variant: \"h5\", component: \"div\" }, entity.metadata.name), /* @__PURE__ */ React.createElement(Typography, { color: \"textSecondary\", gutterBottom: true }, entity.kind), entity.metadata.description && /* @__PURE__ */ React.createElement(\n      Typography,\n      {\n        className: classes.descriptionTypography,\n        paragraph: true\n      },\n      entity.metadata.description\n    ), /* @__PURE__ */ React.createElement(Typography, null, (_a = entity.spec) == null ? void 0 : _a.type), /* @__PURE__ */ React.createElement(Box, { marginTop: \"0.5em\" }, (entity.metadata.tags || []).slice(0, maxTagChips).map((tag) => {\n      return /* @__PURE__ */ React.createElement(Chip, { key: tag, size: \"small\", label: tag });\n    }), ((_b = entity.metadata.tags) == null ? void 0 : _b.length) && ((_c = entity.metadata.tags) == null ? void 0 : _c.length) > maxTagChips && /* @__PURE__ */ React.createElement(Tooltip, { title: \"Drill into the entity to see all of the tags.\" }, /* @__PURE__ */ React.createElement(Chip, { key: \"other-tags\", size: \"small\", label: \"...\" }))))), !error && entity && /* @__PURE__ */ React.createElement(CardActions, null, /* @__PURE__ */ React.createElement(React.Fragment, null, isUserEntity(entity) && /* @__PURE__ */ React.createElement(UserCardActions, { entity }), isGroupEntity(entity) && /* @__PURE__ */ React.createElement(GroupCardActions, { entity }), /* @__PURE__ */ React.createElement(EntityCardActions, { entity }))))\n  ));\n};\n\nconst useStyles$b = makeStyles(\n  (_theme) => ({\n    searchToolbar: {\n      paddingLeft: 0,\n      paddingRight: 0\n    },\n    input: {}\n  }),\n  {\n    name: \"CatalogReactEntitySearchBar\"\n  }\n);\nconst EntitySearchBar = () => {\n  var _a, _b;\n  const classes = useStyles$b();\n  const { filters, updateFilters } = useEntityList();\n  const [search, setSearch] = useState((_b = (_a = filters.text) == null ? void 0 : _a.value) != null ? _b : \"\");\n  useDebounce(\n    () => {\n      updateFilters({\n        text: search.length ? new EntityTextFilter(search) : void 0\n      });\n    },\n    250,\n    [search, updateFilters]\n  );\n  return /* @__PURE__ */ React.createElement(Toolbar, { className: classes.searchToolbar }, /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(\n    Input,\n    {\n      \"aria-label\": \"search\",\n      id: \"input-with-icon-adornment\",\n      className: classes.input,\n      placeholder: \"Search\",\n      autoComplete: \"off\",\n      onChange: (event) => setSearch(event.target.value),\n      value: search,\n      startAdornment: /* @__PURE__ */ React.createElement(InputAdornment, { position: \"start\" }, /* @__PURE__ */ React.createElement(Search, null)),\n      endAdornment: /* @__PURE__ */ React.createElement(InputAdornment, { position: \"end\" }, /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          \"aria-label\": \"clear search\",\n          onClick: () => setSearch(\"\"),\n          edge: \"end\",\n          disabled: search.length === 0\n        },\n        /* @__PURE__ */ React.createElement(Clear, null)\n      ))\n    }\n  )));\n};\n\nconst columnFactories = Object.freeze({\n  createEntityRefColumn(options) {\n    const { defaultKind } = options;\n    function formatContent(entity) {\n      var _a;\n      return ((_a = entity.metadata) == null ? void 0 : _a.title) || humanizeEntityRef(entity, {\n        defaultKind\n      });\n    }\n    return {\n      title: \"Name\",\n      highlight: true,\n      customFilterAndSearch(filter, entity) {\n        return formatContent(entity).includes(filter);\n      },\n      customSort(entity1, entity2) {\n        return formatContent(entity1).localeCompare(formatContent(entity2));\n      },\n      render: (entity) => {\n        var _a;\n        return /* @__PURE__ */ React.createElement(\n          EntityRefLink,\n          {\n            entityRef: entity,\n            defaultKind,\n            title: (_a = entity.metadata) == null ? void 0 : _a.title\n          }\n        );\n      }\n    };\n  },\n  createEntityRelationColumn(options) {\n    const { title, relation, defaultKind, filter: entityFilter } = options;\n    function getRelations(entity) {\n      return getEntityRelations(entity, relation, entityFilter);\n    }\n    function formatContent(entity) {\n      return getRelations(entity).map((r) => humanizeEntityRef(r, { defaultKind })).join(\", \");\n    }\n    return {\n      title,\n      customFilterAndSearch(filter, entity) {\n        return formatContent(entity).includes(filter);\n      },\n      customSort(entity1, entity2) {\n        return formatContent(entity1).localeCompare(formatContent(entity2));\n      },\n      render: (entity) => {\n        return /* @__PURE__ */ React.createElement(\n          EntityRefLinks,\n          {\n            entityRefs: getRelations(entity),\n            defaultKind\n          }\n        );\n      }\n    };\n  },\n  createOwnerColumn() {\n    return this.createEntityRelationColumn({\n      title: \"Owner\",\n      relation: RELATION_OWNED_BY,\n      defaultKind: \"group\"\n    });\n  },\n  createDomainColumn() {\n    return this.createEntityRelationColumn({\n      title: \"Domain\",\n      relation: RELATION_PART_OF,\n      defaultKind: \"domain\",\n      filter: {\n        kind: \"domain\"\n      }\n    });\n  },\n  createSystemColumn() {\n    return this.createEntityRelationColumn({\n      title: \"System\",\n      relation: RELATION_PART_OF,\n      defaultKind: \"system\",\n      filter: {\n        kind: \"system\"\n      }\n    });\n  },\n  createMetadataDescriptionColumn() {\n    return {\n      title: \"Description\",\n      field: \"metadata.description\",\n      render: (entity) => /* @__PURE__ */ React.createElement(\n        OverflowTooltip,\n        {\n          text: entity.metadata.description,\n          placement: \"bottom-start\",\n          line: 2\n        }\n      )\n    };\n  },\n  createSpecLifecycleColumn() {\n    return {\n      title: \"Lifecycle\",\n      field: \"spec.lifecycle\"\n    };\n  },\n  createSpecTypeColumn() {\n    return {\n      title: \"Type\",\n      field: \"spec.type\"\n    };\n  }\n});\n\nconst systemEntityColumns = [\n  columnFactories.createEntityRefColumn({ defaultKind: \"system\" }),\n  columnFactories.createDomainColumn(),\n  columnFactories.createOwnerColumn(),\n  columnFactories.createMetadataDescriptionColumn()\n];\nconst componentEntityColumns = [\n  columnFactories.createEntityRefColumn({ defaultKind: \"component\" }),\n  columnFactories.createSystemColumn(),\n  columnFactories.createOwnerColumn(),\n  columnFactories.createSpecTypeColumn(),\n  columnFactories.createSpecLifecycleColumn(),\n  columnFactories.createMetadataDescriptionColumn()\n];\n\nconst useStyles$a = makeStyles((theme) => ({\n  empty: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    justifyContent: \"center\"\n  }\n}));\nconst EntityTable = (props) => {\n  const {\n    entities,\n    title,\n    emptyContent,\n    variant = \"gridItem\",\n    columns,\n    tableOptions = {}\n  } = props;\n  const classes = useStyles$a();\n  const tableStyle = {\n    minWidth: \"0\",\n    width: \"100%\"\n  };\n  if (variant === \"gridItem\") {\n    tableStyle.height = \"calc(100% - 10px)\";\n  }\n  return /* @__PURE__ */ React.createElement(\n    Table,\n    {\n      columns,\n      title,\n      style: tableStyle,\n      emptyContent: emptyContent && /* @__PURE__ */ React.createElement(\"div\", { className: classes.empty }, emptyContent),\n      options: {\n        // TODO: Toolbar padding if off compared to other cards, should be: padding: 16px 24px;\n        search: false,\n        paging: false,\n        actionsColumnIndex: -1,\n        padding: \"dense\",\n        draggable: false,\n        ...tableOptions\n      },\n      data: entities\n    }\n  );\n};\nEntityTable.columns = columnFactories;\nEntityTable.systemEntityColumns = systemEntityColumns;\nEntityTable.componentEntityColumns = componentEntityColumns;\n\nconst useStyles$9 = makeStyles(\n  { input: {} },\n  { name: \"CatalogReactEntityTagPicker\" }\n);\nconst EntityTagPicker = (props) => {\n  const classes = useStyles$9();\n  return /* @__PURE__ */ React.createElement(\n    EntityAutocompletePicker,\n    {\n      label: \"Tags\",\n      name: \"tags\",\n      path: \"metadata.tags\",\n      Filter: EntityTagFilter,\n      showCounts: props.showCounts,\n      InputProps: { className: classes.input }\n    }\n  );\n};\n\nconst EntityTypePicker = (props) => {\n  var _a;\n  const { hidden, initialFilter } = props;\n  const alertApi = useApi(alertApiRef);\n  const { error, availableTypes, selectedTypes, setSelectedTypes } = useEntityTypeFilter();\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load entity types`,\n        severity: \"error\"\n      });\n    }\n    if (initialFilter) {\n      setSelectedTypes([initialFilter]);\n    }\n  }, [error, alertApi, initialFilter, setSelectedTypes]);\n  if (availableTypes.length === 0 || error)\n    return null;\n  const items = [\n    { value: \"all\", label: \"all\" },\n    ...availableTypes.map((type) => ({\n      value: type,\n      label: type\n    }))\n  ];\n  return hidden ? null : /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      label: \"Type\",\n      items,\n      selected: (_a = items.length > 1 ? selectedTypes[0] : void 0) != null ? _a : \"all\",\n      onChange: (value) => setSelectedTypes(value === \"all\" ? [] : [String(value)])\n    }\n  ));\n};\n\nconst YellowStar = withStyles({\n  root: {\n    color: \"#f3ba37\"\n  }\n})(Star);\nconst FavoriteEntity = (props) => {\n  const { toggleStarredEntity, isStarredEntity } = useStarredEntity(\n    props.entity\n  );\n  return /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      \"aria-label\": \"favorite\",\n      color: \"inherit\",\n      ...props,\n      onClick: () => toggleStarredEntity()\n    },\n    /* @__PURE__ */ React.createElement(\n      Tooltip,\n      {\n        title: isStarredEntity ? \"Remove from favorites\" : \"Add to favorites\"\n      },\n      isStarredEntity ? /* @__PURE__ */ React.createElement(YellowStar, null) : /* @__PURE__ */ React.createElement(StarBorder, null)\n    )\n  );\n};\n\nconst DEFAULT_ICON = WorkIcon;\nfunction getKind(kind, entityRef) {\n  if (kind) {\n    return kind.toLocaleLowerCase(\"en-US\");\n  }\n  if (entityRef) {\n    try {\n      return parseEntityRef(entityRef).kind.toLocaleLowerCase(\"en-US\");\n    } catch {\n      return void 0;\n    }\n  }\n  return void 0;\n}\nfunction useIcon(kind, entityRef) {\n  const app = useApp();\n  const actualKind = getKind(kind, entityRef);\n  if (!actualKind) {\n    return DEFAULT_ICON;\n  }\n  const icon = app.getSystemIcon(`kind:${actualKind}`);\n  return icon || DEFAULT_ICON;\n}\nfunction EntityKindIcon(props) {\n  const { kind, entityRef, ...otherProps } = props;\n  const Icon = useIcon(kind, entityRef);\n  return /* @__PURE__ */ React.createElement(Icon, { ...otherProps });\n}\n\nconst useStyles$8 = makeStyles((theme) => ({\n  node: {\n    fill: theme.palette.grey[300],\n    stroke: theme.palette.grey[300],\n    \"&.primary\": {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.light,\n      stroke: theme.palette.secondary.light\n    }\n  },\n  text: {\n    fill: theme.palette.getContrastText(theme.palette.grey[300]),\n    \"&.primary\": {\n      fill: theme.palette.primary.contrastText\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.contrastText\n    },\n    \"&.focused\": {\n      fontWeight: \"bold\"\n    }\n  },\n  clickable: {\n    cursor: \"pointer\"\n  }\n}));\nfunction useAncestry(root) {\n  const catalogClient = useApi(catalogApiRef);\n  const entityRef = stringifyEntityRef(root);\n  const { loading, error, value } = useAsync(async () => {\n    const response = await catalogClient.getEntityAncestors({ entityRef });\n    const nodes = new Array();\n    const edges = new Array();\n    for (const current of response.items) {\n      const currentRef = stringifyEntityRef(current.entity);\n      const isRootNode = currentRef === response.rootEntityRef;\n      nodes.push({ id: currentRef, root: isRootNode, ...current.entity });\n      for (const parentRef of current.parentEntityRefs) {\n        edges.push({ from: currentRef, to: parentRef });\n      }\n    }\n    return { nodes, edges };\n  }, [entityRef]);\n  return {\n    loading,\n    error,\n    nodes: (value == null ? void 0 : value.nodes) || [],\n    edges: (value == null ? void 0 : value.edges) || []\n  };\n}\nfunction CustomNode({ node }) {\n  const classes = useStyles$8();\n  const navigate = useNavigate();\n  const entityRoute = useRouteRef(entityRouteRef);\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const idRef = useRef(null);\n  useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const padding = 10;\n  const iconSize = height;\n  const paddedIconWidth = iconSize + padding;\n  const paddedWidth = paddedIconWidth + width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  const displayTitle = node.metadata.title || (node.kind && node.metadata.name && node.metadata.namespace ? humanizeEntityRef({\n    kind: node.kind,\n    name: node.metadata.name,\n    namespace: node.metadata.namespace || \"\"\n  }) : node.id);\n  const onClick = () => {\n    navigate(\n      entityRoute({\n        kind: node.kind,\n        namespace: node.metadata.namespace || DEFAULT_NAMESPACE,\n        name: node.metadata.name\n      })\n    );\n  };\n  return /* @__PURE__ */ React.createElement(\"g\", { onClick, className: classes.clickable }, /* @__PURE__ */ React.createElement(\n    \"rect\",\n    {\n      className: classNames(\n        classes.node,\n        node.root ? \"secondary\" : \"primary\"\n      ),\n      width: paddedWidth,\n      height: paddedHeight,\n      rx: 10\n    }\n  ), /* @__PURE__ */ React.createElement(\n    EntityKindIcon,\n    {\n      kind: node.kind,\n      y: padding,\n      x: padding,\n      width: iconSize,\n      height: iconSize,\n      className: classNames(\n        classes.text,\n        node.root ? \"secondary\" : \"primary\"\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    \"text\",\n    {\n      ref: idRef,\n      className: classNames(\n        classes.text,\n        node.root ? \"secondary\" : \"primary\"\n      ),\n      y: paddedHeight / 2,\n      x: paddedIconWidth + (width + padding * 2) / 2,\n      textAnchor: \"middle\",\n      alignmentBaseline: \"middle\"\n    },\n    displayTitle\n  ));\n}\nfunction AncestryPage(props) {\n  const { loading, error, nodes, edges } = useAncestry(props.entity);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error });\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, \"Ancestry\"), /* @__PURE__ */ React.createElement(DialogContentText, { gutterBottom: true }, \"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where\", \" \", /* @__PURE__ */ React.createElement(Link, { to: \"https://backstage.io/docs/features/software-catalog/life-of-an-entity\" }, \"processors emitted\"), \" \", \"child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations.\"), /* @__PURE__ */ React.createElement(Box, { mt: 4 }, /* @__PURE__ */ React.createElement(\n    DependencyGraph,\n    {\n      nodes,\n      edges,\n      renderNode: CustomNode,\n      direction: DependencyGraphTypes.Direction.BOTTOM_TOP,\n      zoom: \"enable-on-click\"\n    }\n  )));\n}\n\nconst useStyles$7 = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  marginTop: {\n    marginTop: theme.spacing(2)\n  },\n  helpIcon: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.disabled\n  },\n  monospace: {\n    fontFamily: \"monospace\"\n  }\n}));\nfunction ListItemText(props) {\n  const classes = useStyles$7();\n  return /* @__PURE__ */ React.createElement(\n    ListItemText$1,\n    {\n      ...props,\n      primaryTypographyProps: { className: classes.monospace },\n      secondaryTypographyProps: { className: classes.monospace }\n    }\n  );\n}\nfunction ListSubheader(props) {\n  const classes = useStyles$7();\n  return /* @__PURE__ */ React.createElement(ListSubheader$1, { className: classes.monospace }, props.children);\n}\nfunction Container(props) {\n  return /* @__PURE__ */ React.createElement(Box, { mt: 2 }, /* @__PURE__ */ React.createElement(Card, { variant: \"outlined\" }, /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\", gutterBottom: true }, props.title, props.helpLink && /* @__PURE__ */ React.createElement(HelpIcon, { to: props.helpLink })), props.children)));\n}\nfunction findLink(value) {\n  if (value.match(/^url:https?:\\/\\//)) {\n    return value.slice(\"url:\".length);\n  }\n  if (value.match(/^https?:\\/\\//)) {\n    return value;\n  }\n  return void 0;\n}\nfunction KeyValueListItem(props) {\n  const [key, value] = props.entry;\n  const link = findLink(value);\n  return /* @__PURE__ */ React.createElement(ListItem, null, props.indent && /* @__PURE__ */ React.createElement(ListItemIcon, null), /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      primary: key,\n      secondary: link ? /* @__PURE__ */ React.createElement(Link, { to: link }, value) : value\n    }\n  ));\n}\nfunction HelpIcon(props) {\n  const classes = useStyles$7();\n  return /* @__PURE__ */ React.createElement(Link, { to: props.to, className: classes.helpIcon }, /* @__PURE__ */ React.createElement(HelpOutlineIcon, { fontSize: \"inherit\" }));\n}\n\nconst useStyles$6 = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction useColocated(entity) {\n  var _a, _b;\n  const catalogApi = useApi(catalogApiRef);\n  const currentEntityRef = stringifyEntityRef(entity);\n  const location = (_a = entity.metadata.annotations) == null ? void 0 : _a[ANNOTATION_LOCATION];\n  const origin = (_b = entity.metadata.annotations) == null ? void 0 : _b[ANNOTATION_ORIGIN_LOCATION];\n  const { loading, error, value } = useAsync(async () => {\n    if (!location && !origin) {\n      return [];\n    }\n    const response = await catalogApi.getEntities({\n      filter: [\n        ...location ? [{ [`metadata.annotations.${ANNOTATION_LOCATION}`]: location }] : [],\n        ...origin ? [{ [`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]: origin }] : []\n      ]\n    });\n    return response.items;\n  }, [location, origin]);\n  return {\n    loading,\n    error,\n    location,\n    originLocation: origin,\n    colocatedEntities: value == null ? void 0 : value.filter(\n      (colocated) => stringifyEntityRef(colocated) !== currentEntityRef\n    )\n  };\n}\nfunction EntityList(props) {\n  return /* @__PURE__ */ React.createElement(List, { dense: true }, props.header && /* @__PURE__ */ React.createElement(KeyValueListItem, { key: \"header\", entry: props.header }), props.entities.map((entity) => /* @__PURE__ */ React.createElement(ListItem, { key: stringifyEntityRef(entity) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(EntityKindIcon, { kind: entity.kind })), /* @__PURE__ */ React.createElement(ListItemText, { primary: /* @__PURE__ */ React.createElement(EntityRefLink, { entityRef: entity }) }))));\n}\nfunction Contents$1(props) {\n  const { entity } = props;\n  const { loading, error, location, originLocation, colocatedEntities } = useColocated(entity);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error });\n  }\n  if (!location && !originLocation) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"warning\" }, \"Entity had no location information.\");\n  } else if (!(colocatedEntities == null ? void 0 : colocatedEntities.length)) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"info\" }, \"There were no other entities on this location.\");\n  }\n  if (location === originLocation) {\n    return /* @__PURE__ */ React.createElement(EntityList, { entities: colocatedEntities });\n  }\n  const atLocation = colocatedEntities.filter(\n    (e) => {\n      var _a;\n      return ((_a = e.metadata.annotations) == null ? void 0 : _a[ANNOTATION_LOCATION]) === location;\n    }\n  );\n  const atOrigin = colocatedEntities.filter(\n    (e) => {\n      var _a;\n      return ((_a = e.metadata.annotations) == null ? void 0 : _a[ANNOTATION_ORIGIN_LOCATION]) === originLocation;\n    }\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, atLocation.length > 0 && /* @__PURE__ */ React.createElement(\n    EntityList,\n    {\n      entities: atLocation,\n      header: [\"At the same location\", location]\n    }\n  ), atOrigin.length > 0 && /* @__PURE__ */ React.createElement(\n    EntityList,\n    {\n      entities: atOrigin,\n      header: [\"At the same origin\", originLocation]\n    }\n  ));\n}\nfunction ColocatedPage(props) {\n  const classes = useStyles$6();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, \"Colocated\"), /* @__PURE__ */ React.createElement(DialogContentText, null, \"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL).\"), /* @__PURE__ */ React.createElement(\"div\", { className: classes.root }, /* @__PURE__ */ React.createElement(Contents$1, { entity: props.entity })));\n}\n\nfunction sortKeys(data) {\n  return Object.fromEntries(\n    [...Object.entries(data)].sort((a, b) => a[0] < b[0] ? -1 : 1)\n  );\n}\n\nfunction JsonPage(props) {\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, \"Entity as JSON\"), /* @__PURE__ */ React.createElement(DialogContentText, null, \"This is the raw entity data as received from the catalog, on JSON form.\"), /* @__PURE__ */ React.createElement(DialogContentText, null, /* @__PURE__ */ React.createElement(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\" }, /* @__PURE__ */ React.createElement(\n    CodeSnippet,\n    {\n      text: JSON.stringify(sortKeys(props.entity), void 0, 2),\n      language: \"json\",\n      showCopyCodeButton: true\n    }\n  ))));\n}\n\nconst useStyles$5 = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction OverviewPage(props) {\n  var _a, _b;\n  const classes = useStyles$5();\n  const {\n    apiVersion,\n    kind,\n    metadata,\n    spec,\n    relations = [],\n    status = {}\n  } = props.entity;\n  const groupedRelations = groupBy(\n    sortBy(relations, (r) => r.targetRef),\n    \"type\"\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, \"Overview\"), /* @__PURE__ */ React.createElement(\"div\", { className: classes.root }, /* @__PURE__ */ React.createElement(Container, { title: \"Identity\" }, /* @__PURE__ */ React.createElement(List, { dense: true }, /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"apiVersion\", secondary: apiVersion })), /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"kind\", secondary: kind })), (spec == null ? void 0 : spec.type) && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"spec.type\", secondary: spec.type })), metadata.uid && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"uid\", secondary: metadata.uid })), metadata.etag && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"etag\", secondary: metadata.etag })))), /* @__PURE__ */ React.createElement(Container, { title: \"Metadata\" }, !!Object.keys(metadata.annotations || {}).length && /* @__PURE__ */ React.createElement(\n    List,\n    {\n      dense: true,\n      subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, \"Annotations\", /* @__PURE__ */ React.createElement(HelpIcon, { to: \"https://backstage.io/docs/features/software-catalog/well-known-annotations\" }))\n    },\n    Object.entries(metadata.annotations).map((entry) => /* @__PURE__ */ React.createElement(KeyValueListItem, { key: entry[0], indent: true, entry }))\n  ), !!Object.keys(metadata.labels || {}).length && /* @__PURE__ */ React.createElement(List, { dense: true, subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, \"Labels\") }, Object.entries(metadata.labels).map((entry) => /* @__PURE__ */ React.createElement(KeyValueListItem, { key: entry[0], indent: true, entry }))), !!((_a = metadata.tags) == null ? void 0 : _a.length) && /* @__PURE__ */ React.createElement(List, { dense: true, subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, \"Tags\") }, metadata.tags.map((tag, index) => /* @__PURE__ */ React.createElement(ListItem, { key: `${tag}-${index}` }, /* @__PURE__ */ React.createElement(ListItemIcon, null), /* @__PURE__ */ React.createElement(ListItemText, { primary: tag }))))), !!relations.length && /* @__PURE__ */ React.createElement(\n    Container,\n    {\n      title: \"Relations\",\n      helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-relations\"\n    },\n    Object.entries(groupedRelations).map(\n      ([type, groupRelations], index) => /* @__PURE__ */ React.createElement(\"div\", { key: index }, /* @__PURE__ */ React.createElement(List, { dense: true, subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, type) }, groupRelations.map((group) => /* @__PURE__ */ React.createElement(ListItem, { key: group.targetRef }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(EntityKindIcon, { entityRef: group.targetRef })), /* @__PURE__ */ React.createElement(\n        ListItemText,\n        {\n          primary: /* @__PURE__ */ React.createElement(EntityRefLink, { entityRef: group.targetRef })\n        }\n      )))))\n    )\n  ), !!((_b = status.items) == null ? void 0 : _b.length) && /* @__PURE__ */ React.createElement(\n    Container,\n    {\n      title: \"Status\",\n      helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-statuses\"\n    },\n    status.items.map((item, index) => /* @__PURE__ */ React.createElement(\"div\", { key: index }, /* @__PURE__ */ React.createElement(Typography, null, item.level, \": \", item.type), /* @__PURE__ */ React.createElement(Box, { ml: 2 }, item.message)))\n  )));\n}\n\nfunction YamlPage(props) {\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText$1, { variant: \"h2\" }, \"Entity as YAML\"), /* @__PURE__ */ React.createElement(DialogContentText$1, null, \"This is the raw entity data as received from the catalog, on YAML form.\"), /* @__PURE__ */ React.createElement(DialogContentText$1, null, /* @__PURE__ */ React.createElement(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\" }, /* @__PURE__ */ React.createElement(\n    CodeSnippet,\n    {\n      text: YAML.stringify(sortKeys(props.entity)),\n      language: \"yaml\",\n      showCopyCodeButton: true\n    }\n  ))));\n}\n\nconst useStyles$4 = makeStyles((theme) => ({\n  fullHeightDialog: {\n    height: \"calc(100% - 64px)\"\n  },\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n    flexShrink: 0\n  },\n  tabContents: {\n    flexGrow: 1,\n    overflowX: \"auto\"\n  }\n}));\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  const classes = useStyles$4();\n  return /* @__PURE__ */ React.createElement(\n    \"div\",\n    {\n      role: \"tabpanel\",\n      hidden: value !== index,\n      id: `vertical-tabpanel-${index}`,\n      \"aria-labelledby\": `vertical-tab-${index}`,\n      className: classes.tabContents,\n      ...other\n    },\n    value === index && /* @__PURE__ */ React.createElement(Box, { pl: 3, pr: 3 }, children)\n  );\n}\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`\n  };\n}\nfunction InspectEntityDialog(props) {\n  const classes = useStyles$4();\n  const [activeTab, setActiveTab] = React.useState(0);\n  useEffect(() => {\n    setActiveTab(0);\n  }, [props.open]);\n  if (!props.entity) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\n    Dialog,\n    {\n      fullWidth: true,\n      maxWidth: \"xl\",\n      open: props.open,\n      onClose: props.onClose,\n      \"aria-labelledby\": \"entity-inspector-dialog-title\",\n      PaperProps: { className: classes.fullHeightDialog }\n    },\n    /* @__PURE__ */ React.createElement(DialogTitle, { id: \"entity-inspector-dialog-title\" }, \"Entity Inspector\"),\n    /* @__PURE__ */ React.createElement(DialogContent, { dividers: true }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.root }, /* @__PURE__ */ React.createElement(\n      Tabs,\n      {\n        orientation: \"vertical\",\n        variant: \"scrollable\",\n        value: activeTab,\n        onChange: (_, newValue) => setActiveTab(newValue),\n        \"aria-label\": \"Inspector options\",\n        className: classes.tabs\n      },\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Overview\", ...a11yProps(0) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Ancestry\", ...a11yProps(1) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Colocated\", ...a11yProps(2) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Raw JSON\", ...a11yProps(3) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Raw YAML\", ...a11yProps(4) })\n    ), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 0 }, /* @__PURE__ */ React.createElement(OverviewPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 1 }, /* @__PURE__ */ React.createElement(AncestryPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 2 }, /* @__PURE__ */ React.createElement(ColocatedPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 3 }, /* @__PURE__ */ React.createElement(JsonPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 4 }, /* @__PURE__ */ React.createElement(YamlPage, { entity: props.entity })))),\n    /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button, { onClick: props.onClose, color: \"primary\" }, \"Close\"))\n  );\n}\n\nfunction useUnregisterEntityDialogState(entity) {\n  var _a;\n  const catalogApi = useApi(catalogApiRef);\n  const locationRef = (_a = entity.metadata.annotations) == null ? void 0 : _a[ANNOTATION_ORIGIN_LOCATION];\n  const uid = entity.metadata.uid;\n  const isBootstrap = locationRef === \"bootstrap:bootstrap\";\n  const prerequisites = useAsync(async () => {\n    const locationPromise = catalogApi.getLocationByRef(locationRef);\n    let colocatedEntitiesPromise;\n    if (!locationRef) {\n      colocatedEntitiesPromise = Promise.resolve([]);\n    } else {\n      const locationAnnotationFilter = `metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;\n      colocatedEntitiesPromise = catalogApi.getEntities({\n        filter: { [locationAnnotationFilter]: locationRef },\n        fields: [\n          \"kind\",\n          \"metadata.uid\",\n          \"metadata.name\",\n          \"metadata.namespace\"\n        ]\n      }).then((response) => response.items);\n    }\n    return Promise.all([locationPromise, colocatedEntitiesPromise]).then(\n      ([location2, colocatedEntities2]) => ({\n        location: location2,\n        colocatedEntities: colocatedEntities2\n      })\n    );\n  }, [catalogApi, entity]);\n  const unregisterLocation = useCallback(\n    async function unregisterLocationFn() {\n      const { location: location2 } = prerequisites.value;\n      await catalogApi.removeLocationById(location2.id);\n    },\n    [catalogApi, prerequisites]\n  );\n  const deleteEntity = useCallback(\n    async function deleteEntityFn() {\n      await catalogApi.removeEntityByUid(uid);\n    },\n    [catalogApi, uid]\n  );\n  if (isBootstrap) {\n    return { type: \"bootstrap\", location: locationRef, deleteEntity };\n  }\n  const { loading, error, value } = prerequisites;\n  if (loading) {\n    return { type: \"loading\" };\n  } else if (error) {\n    return { type: \"error\", error };\n  }\n  const { location, colocatedEntities } = value;\n  if (!location) {\n    return { type: \"only-delete\", deleteEntity };\n  }\n  return {\n    type: \"unregister\",\n    location: locationRef,\n    colocatedEntities: colocatedEntities.map(getCompoundEntityRef),\n    unregisterLocation,\n    deleteEntity\n  };\n}\n\nconst useStyles$3 = makeStyles({\n  advancedButton: {\n    fontSize: \"0.7em\"\n  },\n  dialogActions: {\n    display: \"inline-block\"\n  }\n});\nconst Contents = ({\n  entity,\n  onConfirm,\n  onClose\n}) => {\n  var _a;\n  const alertApi = useApi(alertApiRef);\n  const configApi = useApi(configApiRef);\n  const classes = useStyles$3();\n  const state = useUnregisterEntityDialogState(entity);\n  const [showDelete, setShowDelete] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const appTitle = (_a = configApi.getOptionalString(\"app.title\")) != null ? _a : \"Backstage\";\n  const onUnregister = useCallback(\n    async function onUnregisterFn() {\n      if (\"unregisterLocation\" in state) {\n        setBusy(true);\n        try {\n          await state.unregisterLocation();\n          onConfirm();\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state]\n  );\n  const onDelete = useCallback(\n    async function onDeleteFn() {\n      if (\"deleteEntity\" in state) {\n        setBusy(true);\n        try {\n          await state.deleteEntity();\n          onConfirm();\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state]\n  );\n  const DialogActionsPanel = () => /* @__PURE__ */ React.createElement(DialogActions, { className: classes.dialogActions }, /* @__PURE__ */ React.createElement(Button, { onClick: onClose, color: \"primary\" }, \"Cancel\"));\n  if (state.type === \"loading\") {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (state.type === \"error\") {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error: state.error });\n  }\n  if (state.type === \"bootstrap\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Alert$1, { severity: \"info\" }, 'You cannot unregister this entity, since it originates from a protected Backstage configuration (location \"', state.location, '\"). If you believe this is in error, please contact the ', appTitle, \" \", \"integrator.\"), /* @__PURE__ */ React.createElement(Box, { marginTop: 2 }, !showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"text\",\n        size: \"small\",\n        color: \"primary\",\n        className: classes.advancedButton,\n        onClick: () => setShowDelete(true)\n      },\n      \"Advanced Options\"\n    ), /* @__PURE__ */ React.createElement(DialogActionsPanel, null)), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"), /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onDelete\n      },\n      \"Delete Entity\"\n    ), /* @__PURE__ */ React.createElement(DialogActionsPanel, null))));\n  }\n  if (state.type === \"only-delete\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog.\"), /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onDelete\n      },\n      \"Delete Entity\"\n    ), /* @__PURE__ */ React.createElement(DialogActionsPanel, null));\n  }\n  if (state.type === \"unregister\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"This action will unregister the following entities:\"), /* @__PURE__ */ React.createElement(DialogContentText, { component: \"ul\" }, state.colocatedEntities.map((e) => /* @__PURE__ */ React.createElement(\"li\", { key: `${e.kind}:${e.namespace}/${e.name}` }, /* @__PURE__ */ React.createElement(EntityRefLink, { entityRef: e })))), /* @__PURE__ */ React.createElement(DialogContentText, null, \"Located at the following location:\"), /* @__PURE__ */ React.createElement(DialogContentText, { component: \"ul\" }, /* @__PURE__ */ React.createElement(\"li\", null, state.location)), /* @__PURE__ */ React.createElement(DialogContentText, null, \"To undo, just re-register the entity in \", appTitle, \".\"), /* @__PURE__ */ React.createElement(Box, { marginTop: 2 }, /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onUnregister\n      },\n      \"Unregister Location\"\n    ), !showDelete && /* @__PURE__ */ React.createElement(Box, { component: \"span\", marginLeft: 2 }, /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"text\",\n        size: \"small\",\n        color: \"primary\",\n        className: classes.advancedButton,\n        onClick: () => setShowDelete(true)\n      },\n      \"Advanced Options\"\n    ))), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, { paddingTop: 4, paddingBottom: 4 }, /* @__PURE__ */ React.createElement(Divider, null)), /* @__PURE__ */ React.createElement(DialogContentText, null, \"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"), /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onDelete\n      },\n      \"Delete Entity\"\n    )));\n  }\n  return /* @__PURE__ */ React.createElement(Alert$1, { severity: \"error\" }, \"Internal error: Unknown state\");\n};\nconst UnregisterEntityDialog = (props) => {\n  const { open, onConfirm, onClose, entity } = props;\n  return /* @__PURE__ */ React.createElement(Dialog, { open, onClose }, /* @__PURE__ */ React.createElement(DialogTitle, { id: \"responsive-dialog-title\" }, \"Are you sure you want to unregister this entity?\"), /* @__PURE__ */ React.createElement(DialogContent, null, /* @__PURE__ */ React.createElement(Contents, { entity, onConfirm, onClose })));\n};\n\nconst useStyles$2 = makeStyles(\n  (theme) => ({\n    root: {\n      backgroundColor: \"rgba(0, 0, 0, .11)\",\n      boxShadow: \"none\",\n      margin: theme.spacing(1, 0, 1, 0)\n    },\n    title: {\n      margin: theme.spacing(1, 0, 0, 1),\n      textTransform: \"uppercase\",\n      fontSize: 12,\n      fontWeight: \"bold\"\n    },\n    listIcon: {\n      minWidth: 30,\n      color: theme.palette.text.primary\n    },\n    menuItem: {\n      minHeight: theme.spacing(6)\n    },\n    groupWrapper: {\n      margin: theme.spacing(1, 1, 2, 1)\n    }\n  }),\n  {\n    name: \"CatalogReactUserListPicker\"\n  }\n);\nfunction getFilterGroups(orgName) {\n  return [\n    {\n      name: \"Personal\",\n      items: [\n        {\n          id: \"owned\",\n          label: \"Owned\",\n          icon: SettingsIcon\n        },\n        {\n          id: \"starred\",\n          label: \"Starred\",\n          icon: Star\n        }\n      ]\n    },\n    {\n      name: orgName != null ? orgName : \"Company\",\n      items: [\n        {\n          id: \"all\",\n          label: \"All\"\n        }\n      ]\n    }\n  ];\n}\nconst UserListPicker = (props) => {\n  var _a;\n  const { initialFilter, availableFilters } = props;\n  const classes = useStyles$2();\n  const configApi = useApi(configApiRef);\n  const orgName = (_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Company\";\n  const {\n    filters,\n    updateFilters,\n    backendEntities,\n    queryParameters: { kind: kindParameter, user: userParameter },\n    loading: loadingBackendEntities\n  } = useEntityList();\n  const userAndGroupFilterIds = [\"starred\", \"all\"];\n  const filterGroups = getFilterGroups(orgName).map((filterGroup) => ({\n    ...filterGroup,\n    items: filterGroup.items.filter(\n      ({ id }) => (\n        // TODO: avoid hardcoding kinds here\n        [\"group\", \"user\"].some((kind) => kind === kindParameter) ? userAndGroupFilterIds.includes(id) : !availableFilters || availableFilters.includes(id)\n      )\n    )\n  })).filter(({ items }) => !!items.length);\n  const { isStarredEntity } = useStarredEntities();\n  const { isOwnedEntity, loading: loadingEntityOwnership } = useEntityOwnership();\n  const loading = loadingBackendEntities || loadingEntityOwnership;\n  const ownedFilter = useMemo(\n    () => new UserListFilter(\"owned\", isOwnedEntity, isStarredEntity),\n    [isOwnedEntity, isStarredEntity]\n  );\n  const starredFilter = useMemo(\n    () => new UserListFilter(\"starred\", isOwnedEntity, isStarredEntity),\n    [isOwnedEntity, isStarredEntity]\n  );\n  const queryParamUserFilter = useMemo(\n    () => [userParameter].flat()[0],\n    [userParameter]\n  );\n  const [selectedUserFilter, setSelectedUserFilter] = useState(\n    queryParamUserFilter != null ? queryParamUserFilter : initialFilter\n  );\n  const entitiesWithoutUserFilter = useMemo(\n    () => backendEntities.filter(\n      reduceEntityFilters(\n        compact(Object.values({ ...filters, user: void 0 }))\n      )\n    ),\n    [filters, backendEntities]\n  );\n  const filterCounts = useMemo(\n    () => ({\n      all: entitiesWithoutUserFilter.length,\n      starred: entitiesWithoutUserFilter.filter(\n        (entity) => starredFilter.filterEntity(entity)\n      ).length,\n      owned: entitiesWithoutUserFilter.filter(\n        (entity) => ownedFilter.filterEntity(entity)\n      ).length\n    }),\n    [entitiesWithoutUserFilter, starredFilter, ownedFilter]\n  );\n  useEffect(() => {\n    if (queryParamUserFilter) {\n      setSelectedUserFilter(queryParamUserFilter);\n    }\n  }, [queryParamUserFilter]);\n  useEffect(() => {\n    if (!loading && !!selectedUserFilter && selectedUserFilter !== \"all\" && filterCounts[selectedUserFilter] === 0) {\n      setSelectedUserFilter(\"all\");\n    }\n  }, [loading, filterCounts, selectedUserFilter, setSelectedUserFilter]);\n  useEffect(() => {\n    updateFilters({\n      user: selectedUserFilter ? new UserListFilter(\n        selectedUserFilter,\n        isOwnedEntity,\n        isStarredEntity\n      ) : void 0\n    });\n  }, [selectedUserFilter, isOwnedEntity, isStarredEntity, updateFilters]);\n  return /* @__PURE__ */ React.createElement(Card, { className: classes.root }, filterGroups.map((group) => /* @__PURE__ */ React.createElement(Fragment, { key: group.name }, /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      variant: \"subtitle2\",\n      component: \"span\",\n      className: classes.title\n    },\n    group.name\n  ), /* @__PURE__ */ React.createElement(Card, { className: classes.groupWrapper }, /* @__PURE__ */ React.createElement(List, { disablePadding: true, dense: true, role: \"menu\", \"aria-label\": group.name }, group.items.map((item) => {\n    var _a2, _b;\n    return /* @__PURE__ */ React.createElement(\n      MenuItem,\n      {\n        role: \"none presentation\",\n        key: item.id,\n        button: true,\n        divider: true,\n        onClick: () => setSelectedUserFilter(item.id),\n        selected: item.id === ((_a2 = filters.user) == null ? void 0 : _a2.value),\n        className: classes.menuItem,\n        disabled: filterCounts[item.id] === 0,\n        \"data-testid\": `user-picker-${item.id}`,\n        tabIndex: 0,\n        ContainerProps: { role: \"menuitem\" }\n      },\n      item.icon && /* @__PURE__ */ React.createElement(ListItemIcon, { className: classes.listIcon }, /* @__PURE__ */ React.createElement(item.icon, { fontSize: \"small\" })),\n      /* @__PURE__ */ React.createElement(ListItemText$1, null, /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, item.label, \" \")),\n      /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, (_b = filterCounts[item.id]) != null ? _b : \"-\")\n    );\n  }))))));\n};\n\nconst useStyles$1 = makeStyles(\n  {\n    input: {}\n  },\n  {\n    name: \"CatalogReactEntityProcessingStatusPickerPicker\"\n  }\n);\nconst icon = /* @__PURE__ */ React.createElement(CheckBoxOutlineBlankIcon, { fontSize: \"small\" });\nconst checkedIcon = /* @__PURE__ */ React.createElement(CheckBoxIcon, { fontSize: \"small\" });\nconst EntityProcessingStatusPicker = () => {\n  const classes = useStyles$1();\n  const { updateFilters } = useEntityList();\n  const [selectedAdvancedItems, setSelectedAdvancedItems] = useState(\n    []\n  );\n  function orphanChange(value) {\n    updateFilters({\n      orphan: value ? new EntityOrphanFilter(value) : void 0\n    });\n  }\n  function errorChange(value) {\n    updateFilters({\n      error: value ? new EntityErrorFilter(value) : void 0\n    });\n  }\n  const availableAdvancedItems = [\"Is Orphan\", \"Has Error\"];\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"button\", component: \"label\" }, \"Processing Status\", /* @__PURE__ */ React.createElement(\n    Autocomplete,\n    {\n      multiple: true,\n      disableCloseOnSelect: true,\n      options: availableAdvancedItems,\n      value: selectedAdvancedItems,\n      onChange: (_, value) => {\n        setSelectedAdvancedItems(value);\n        orphanChange(value.includes(\"Is Orphan\"));\n        errorChange(value.includes(\"Has Error\"));\n      },\n      renderOption: (option, { selected }) => /* @__PURE__ */ React.createElement(\n        FormControlLabel,\n        {\n          control: /* @__PURE__ */ React.createElement(\n            Checkbox,\n            {\n              icon,\n              checkedIcon,\n              checked: selected\n            }\n          ),\n          onClick: (event) => event.preventDefault(),\n          label: option\n        }\n      ),\n      size: \"small\",\n      popupIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, { \"data-testid\": \"processing-status-picker-expand\" }),\n      renderInput: (params) => /* @__PURE__ */ React.createElement(\n        TextField,\n        {\n          ...params,\n          className: classes.input,\n          variant: \"outlined\"\n        }\n      )\n    }\n  )));\n};\n\nconst useStyles = makeStyles(\n  {\n    input: {}\n  },\n  {\n    name: \"CatalogReactEntityNamespacePicker\"\n  }\n);\nconst EntityNamespacePicker = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\n    EntityAutocompletePicker,\n    {\n      label: \"Namespace\",\n      name: \"namespace\",\n      path: \"metadata.namespace\",\n      Filter: EntityNamespaceFilter,\n      InputProps: { className: classes.input }\n    }\n  );\n};\n\nfunction MockEntityListContextProvider(props) {\n  var _a;\n  const { children, value } = props;\n  const [filters, setFilters] = useState((_a = value == null ? void 0 : value.filters) != null ? _a : {});\n  const updateFilters = useCallback(\n    (update) => {\n      setFilters((prevFilters) => {\n        const newFilters = typeof update === \"function\" ? update(prevFilters) : update;\n        return { ...prevFilters, ...newFilters };\n      });\n    },\n    []\n  );\n  const defaultValues = useMemo(\n    () => ({\n      entities: [],\n      backendEntities: [],\n      queryParameters: {}\n    }),\n    []\n  );\n  const resolvedValue = useMemo(\n    () => {\n      var _a2, _b, _c, _d, _e;\n      return {\n        entities: (_a2 = value == null ? void 0 : value.entities) != null ? _a2 : defaultValues.entities,\n        backendEntities: (_b = value == null ? void 0 : value.backendEntities) != null ? _b : defaultValues.backendEntities,\n        updateFilters: (_c = value == null ? void 0 : value.updateFilters) != null ? _c : updateFilters,\n        filters,\n        loading: (_d = value == null ? void 0 : value.loading) != null ? _d : false,\n        queryParameters: (_e = value == null ? void 0 : value.queryParameters) != null ? _e : defaultValues.queryParameters,\n        error: value == null ? void 0 : value.error\n      };\n    },\n    [value, defaultValues, filters, updateFilters]\n  );\n  return /* @__PURE__ */ React.createElement(EntityListContext.Provider, { value: resolvedValue }, children);\n}\n\nexport { CatalogFilterLayout, EntityErrorFilter, EntityKindFilter, EntityKindPicker, EntityLifecycleFilter, EntityLifecyclePicker, EntityListContext, EntityListProvider, EntityNamespaceFilter, EntityNamespacePicker, EntityOrphanFilter, EntityOwnerFilter, EntityOwnerPicker, EntityPeekAheadPopover, EntityProcessingStatusPicker, EntityRefLink, EntityRefLinks, EntitySearchBar, EntityTable, EntityTagFilter, EntityTagPicker, EntityTextFilter, EntityTypeFilter, EntityTypePicker, FavoriteEntity, InspectEntityDialog, MockEntityListContextProvider, MockStarredEntitiesApi, UnregisterEntityDialog, UserListFilter, UserListPicker, catalogApiRef, columnFactories, entityRouteParams, entityRouteRef, getEntitySourceLocation, humanizeEntityRef, starredEntitiesApiRef, useEntityList, useEntityOwnership, useEntityTypeFilter, useRelatedEntities, useStarredEntities, useStarredEntity };\n//# sourceMappingURL=index.esm.js.map\n"],"names":["GitlabCIApiRef","getElapsedTime","start","getDuration","end","end_time","start_time","duration2","days","hours","minutes","seconds","output","parseCodeOwners","str","lines","owned","line","parseCodeOwnerLine","error","rule","parts","path","teamNames","name","codeOwnerRegex","GitlabCIClient","discoveryApi","identityApi","codeOwnersPath","readmePath","gitlabInstance","query","_a","apiUrl","token","options","response","projectID","pipelineObjects","projectObj","element","projectId","issuesObject","contributorsData","contributor","userProfile","user","v","username","userDetail","groupDetail","count","projectSlug","branch","filePath","codeOwnersStr","codeOwners","uniqueOwners","owner","result","readmeStr","projectWebUrl","projectDefaultBranch","rootRouteRef","gitlabPlugin","configApi","EntityGitlabContent","m","EntityGitlabLanguageCard","EntityGitlabPeopleCard","EntityGitlabMergeRequestsTable","EntityGitlabMergeRequestStatsCard","EntityGitlabPipelinesTable","EntityGitlabReleasesCard","EntityGitlabIssuesTable","EntityGitlabReadmeCard","GITLAB_ANNOTATION_PROJECT_ID","GITLAB_ANNOTATION_PROJECT_SLUG","GITLAB_ANNOTATION_INSTANCE","GITLAB_ANNOTATION_CODEOWNERS_PATH","GITLAB_ANNOTATION_README_PATH","gitlabProjectId","_b","entity","gitlabProjectSlug","gitlabCodeOwnerPath","gitlabReadmePath","colors","useStyles$6","theme","LanguagesCard","classes","barWidth","languageTitle","project_id","project_slug","gitlab_instance","GitlabCIAPI","value","loading","projectDetails","summary","language","index","LightTooltip","PeopleCardEntity","peopleCardEntity","useStyles$5","PeopleList","title","peopleObj","deepLink","useStyles$4","PeopleCard","codeowners_path","contributorData","project_web_url","project_default_branch","contributorsDeepLink","ownersDeepLink","contributorsLink","e","ownersLink","useStyles$3","evalStats","mergeRequestStatusData","sumOfDiff","closedCount","mergedCount","MergeRequestStats$1","props","setCount","stats","event","useStyles$2","StatusOpen","StatusClosed","StatusMerged","getStatusIconType","row","useStyles$1","makeFilter","show","ReleasesCard","limit","releaseData","releases","a","b","release","value2","useStyles","ReadmeCard","readme_path","readmeData","isGitlabAvailable","isGitlabProjectIDAnnotationAvailable","isGitlabSlugAnnotationAvailable","AlertDisplay","messages","setMessages","alertApi","anchorOrigin","transientTimeoutMs","timeoutMs","subscription","message","msgs","firstMessage","timeout","newMsgs","msg","handleClose","stringToColor","hash","i","color","extractInitials","useStyles$O","Avatar","displayName","picture","customStyles","styles","fontStyles","isReactRouterBeta","obj","useStyles$N","isExternalUri","uri","scriptProtocolPattern","originalWindowOpen","newOpen","args","url","useBaseUrl","useBasePath","base","pathname","useResolvedPath","resolvedPath","basePath","external","startsWithBasePath","getNodeText","node","Link","onClick","noTrack","ref","analytics","to","linkText","newWindow","handleClick","LinkWrapper","LinkButton","Button","CopyTextButton","text","tooltipDelay","tooltipText","ariaLabel","errorApi","open","setOpen","copyToClipboard","handleCopyClick","CodeSnippet","showLineNumbers","highlightedNumbers","customStyle","showCopyCodeButton","mode","highlightColor","lineNumber","CreateButton","isXSScreen","DependencyGraphTypes","DependencyGraphTypes2","Direction2","Alignment2","Ranker2","LabelPosition2","useStyles$M","DefaultNode","id","width","setWidth","height","setHeight","idRef","renderedHeight","renderedWidth","padding","paddedWidth","paddedHeight","ARROW_MARKER_ID","NODE_TEST_ID","EDGE_TEST_ID","LABEL_TEST_ID","useStyles$L","renderDefault$1","Node","render","setNode","x","y","nodeProps","nodeRef","useStyles$K","DefaultLabel","label","useStyles$J","renderDefault","Edge","setEdge","edge","curve","points","labelProps","labelRef","createPath","d","finitePoints","point","WORKSPACE_ID","DependencyGraph","edges","nodes","renderNode","direction","align","nodeMargin","edgeMargin","rankMargin","paddingX","paddingY","acyclicer","ranker","labelPosition","labelOffset","edgeRanks","edgeWeight","renderLabel","defs","zoom","fit","svgProps","containerWidth","setContainerWidth","containerHeight","setContainerHeight","graph","graphWidth","setGraphWidth","graphHeight","setGraphHeight","graphNodes","setGraphNodes","graphEdges","setGraphEdges","maxWidth","maxHeight","minHeight","scalableHeight","containerRef","container","workspace","enableZoom","newContainerWidth","newContainerHeight","setNodesAndEdges","currentGraphNodes","currentGraphEdges","nodeId","existingNode","updateGraph","newHeight","newWidth","useStyles$I","DismissableBanner","variant","fixed","notificationsStore","rawDismissedBanners","dismissedBanners","setDismissedBanners","observedItems","_a2","currentValue","useStyles$H","EmptyStateImage","missing","useStyles$G","EmptyState","description","action","COMPONENT_YAML_TEMPLATE","ANNOTATION_REGEXP","ANNOTATION_YAML","ANNOTATION_LINE","useStyles$F","generateLineNumbers","lineCount","generateComponentYaml","annotations","annotationYaml","ann","generateDescription","isSingular","prev","curr","MissingAnnotationEmptyState","annotation","readMoreUrl","getWarningTextColor","severity","getWarningBackgroundColor","useErrorOutlineStyles","ErrorOutlineStyled","ExpandMoreIconStyled","useStyles$E","capitalize","s","WarningPanel","children","defaultExpanded","subTitle","useStyles$D","ErrorList","stack","ErrorPanel","useStyles$C","ResponseErrorPanel","body","cause","request","errorString","requestString","messageString","stackString","jsonString","createRootElement","rootContainer","addRootElement","rootElem","usePortal","rootElemRef","existingParent","parentElem","getRootElem","STATES_LOCAL_STORAGE_KEY","useCalloutStates","states","setStates","raw","setState","key","newStates","useCalloutHasBeenSeen","featureId","markSeen","useShowCallout","seen","useStyles$B","FeatureCalloutCircular","hide","portalElement","wrapperRef","placement","setPlacement","update","wrapperBounds","longest","borderWidth","dotLeft","dotTop","dotSize","textWidth","textLeft","textTop","useIconStyles","IconLinkVertical","disabled","href","icon","useStyles$A","HeaderIconLinkRow","links","link","generateGradientStops","themeType","luminance","fadeSize","fadePadding","useStyles$z","useScrollDistance","scrollLeft","scrollRight","setScroll","el","handleUpdate","left","right","useSmoothScroll","speed","minDistance","scrollTarget","setScrollTarget","startTime","frameTime","frameDuration","scrollDistance","scrollAmount","newScrollTarget","HorizontalScrollGrid","scrollStep","scrollSpeed","minScrollDistance","otherProps","handleScrollClick","forwards","useStyles$y","Lifecycle","shorthand","alpha","RealLogViewer","LogViewer","Progress","useStyles$x","flatten","child","headingRenderer","level","slug","components","inline","className","match","MarkdownContent","content","dialect","linkTarget","transformLinkUri","transformImageUri","useItemStyles","LoginRequestListItem","busy","setBusy","setError","handleContinue","IconComponent","useStyles$w","OAuthRequestDialog","_props","oauthRequestApi","authRedirect","requests","handleRejectAll","useStyles$v","OverflowTooltip","hover","setHover","isMounted","handleToggled","truncated","isVisible","setIsVisible","handle","useStyles$u","BottomLink","SlackLink","slackChannel","ErrorBoundary","errorInfo","useStyles$t","CardActionsTopRight","VARIANT_STYLES","InfoCard","subheader","divider","errorBoundaryProps","headerStyle","headerProps","actionsClassName","actions","cardClassName","actionsTopRight","noPadding","titleTypographyProps","calculatedStyle","calculatedCardStyle","cardSubTitle","errProps","useStyles$s","defaultGaugeProps","getProgressColor","palette","inverse","max","actualMax","actualValue","Gauge","hoverRef","setHoverRef","getColor","fractional","unit","asPercentage","asActual","isHovering","setIsHovering","handleMouseOver","handleMouseOut","useStyles$r","GaugeCard","progress","gaugeProps","LinearGauge","percent","lineWidth","strokeColor","useStyles$q","ClosedDropdown","useStyles$p","OpenedDropdown","BootstrapInput","useStyles$o","SelectComponent","multiple","items","placeholder","selected","onChange","triggerReset","native","margin","setValue","isOpen","handleChange","handleOpen","previous","handleDelete","selectedValue","newValue","chip","item","noop","VerticalStepperContext","SimpleStepper","elevated","onStepChange","activeStep","stepIndex","setStepIndex","stepHistory","setStepHistory","steps","endStep","useStyles$n","RestartBtn","NextBtn","last","SkipBtn","BackBtn","SimpleStepperFooter","stepperLength","newIndex","callback","handleNext","handleBack","handleRestart","useStyles$m","SimpleStepperStep","muiProps","useStyles$l","StatusOK","StatusWarning","StatusError","StatusPending","StatusRunning","StatusAborted","tableTitleCellStyles","tableContentCellStyles","listStyles","listItemStyles","TitleCell","ContentCell","MetadataTable","dense","MetadataTableItem","rest","MetadataList","MetadataListItem","listStyle","nestedListStyle","StyledList","StyledNestedList","renderList","list","nested","values","toValue","renderMap","map","fmtKey","ItemValue","TableItem","mapToItems","info","StructuredMetadataTable","metadata","metadataItems","stringify","queryParams","parse","queryString","extractState","stateName","joinQueryString","state","useQueryParamState","debounceTime","searchParams","setSearchParams","searchParamsString","queryParamState","setQueryParamState","newState","oldState","DEFAULT_SUPPORT_CONFIG","useSupportConfig","config","supportConfig","itemConf","linkConf","useSystemIcon","Icon","BrokenImageIcon","CatalogIcon","ChatIcon","DashboardIcon","DocsIcon","EmailIcon","GitHubIcon","GroupIcon","HelpIcon","UserIcon","WarningIcon","useStyles$k","SupportIcon","app","SupportLink","SupportListItem","idx","SupportButton","configItems","popoverOpen","setPopoverOpen","anchorEl","setAnchorEl","isSmallScreen","onClickHandler","popoverCloseHandler","useStyles$j","Content","stretch","restProps","useStyles$i","HeaderTabs","tabs","selectedIndex","selectedTab","setSelectedTab","_","tab","useSelectedSubRoute","subRoutes","_c","_d","params","sortedRoutes","currentRoute","matchedRoute","foundIndex","t","RoutedTabs","routes","navigate","route","headerTabs","onTabChange","tabIndex","Route","createSubRoutesFromChildren","childrenProps","routeType","tabProps","TabbedLayout","useSubvalueCellStyles","SubvalueCell","subvalue","useFilterStyles$1","Filters","onChangeFilters","selectedFilters","setSelectedFilters","reset","filter","tableIcons","extractValueByField","data","field","f","StyledMTableHeader","StyledMTableToolbar","useFilterStyles","useTableStyles","convertColumns","columns","column","cellStyle","cellStyleFn","rowData","rowColumn","removeDefaultValues","defaultState","defaultInitialState","TableToolbar","toolbarProps","toolbarRef","setSearch","hasFilters","selectedFiltersLength","toggleFilters","filtersClasses","onSearchChanged","searchText","Table","subtitle","filters","initialState","emptyContent","onStateChange","tableClasses","calculatedInitialState","filtersOpen","setFiltersOpen","setSelectedFiltersLength","tableData","setTableData","MTColumns","search","defaultOptions","getFieldByTitle","titleValue","selectedFiltersArray","newData","filterValue","fieldValue","constructFilters","filterConfig","dataValue","extractDistinctValues","distinctValues","addValue","constructSelect","Toolbar","hasNoRows","columnCount","Body","bodyProps","lastNum","TrendLine","useStyles$h","ContentHeaderTitle","ContentHeader","TitleComponent","textAlign","renderedTitle","useStyles$g","MicDrop","useStyles$f","ErrorPage","status","statusMessage","additionalInfo","supportUrl","support","ClickableText","StyledBox","Breadcrumbs","childrenArray","firstPage","secondPage","expandablePages","currentPage","hasHiddenBreadcrumbs","pageLink","drawerWidthClosed","iconPadding","userBadgePadding","sidebarConfig","makeSidebarConfig","customSidebarConfig","submenuConfig","makeSidebarSubmenuConfig","customSubmenuConfig","SIDEBAR_INTRO_LOCAL_STORAGE","SidebarConfigContext","SidebarItemWithSubmenuContext","defaultSidebarOpenStateContext","LegacySidebarContext","VersionedSidebarContext","SidebarOpenStateProvider","useSidebarOpenState","versionedOpenStateContext","legacyOpenStateContext","openStateContext","defaultSidebarPinStateContext","LegacySidebarPinStateContext","VersionedSidebarPinStateContext","SidebarPinStateProvider","useSidebarPinState","versionedPinStateContext","legacyPinStateContext","pinStateContext","useStyles$e","MobileSidebarGroup","location","selectedMenuItemIndex","setSelectedMenuItemIndex","MobileSidebarContext","SidebarGroup","isMobile","useStyles$d","sortSidebarGroupsForPriority","priority","sidebarGroupType","OverlayMenu","onClose","MobileSidebar","sidebarGroups","elements","shouldShowGroupChildren","LocalStorage","useStyles$c","PageContext","SidebarPage","isPinned","setIsPinned","contentRef","pageContext","toggleSidebarPinState","useContent","useStyles$b","DesktopSidebar","openDelayMs","closeDelayMs","disableExpandOnHover","hoverTimerRef","A11ySkipSidebar","Sidebar","focusContent","isLocationMatch","currentLocation","toLocation","exact","toDecodedSearch","toQueryParameters","currentDecodedSearch","currentQueryParameters","queryStringMatcher","useStyles$a","SidebarSubmenuItem","dropdownItems","setIsHoveredOn","closeSubmenu","isActive","showDropDown","setShowDropDown","handleClickDropdown","object","useStyles$9","SidebarSubmenu","isHoveredOn","isSubmenuOpen","setIsSubmenuOpen","useStyles$8","DoubleArrowLeft","useStyles$7","DoubleArrowRight","makeSidebarStyles","useMemoStyles","useLocationMatch","submenu","active","_to","isButtonItem","sidebarSubmenuType","WorkaroundNavLink","style","activeStyle","caseSensitive","activeClassName","ariaCurrentProp","locationPathname","toPathname","ariaCurrent","SidebarItemBase","hasNotifications","hasSubmenu","disableHighlight","navLinkProps","divStyle","displayItemIcon","itemIcon","openContent","childProps","analyticsApi","subject","SidebarItemWithSubmenu","handleMouseEnter","handleMouseLeave","arrowIcon","SidebarItem","SidebarSearchField","input","setInput","handleEnter","ev","handleInput","handleInputClick","handleItemClick","SidebarSpace","SidebarSpacer","SidebarDivider","styledScrollbar","SidebarScrollWrapper","scrollbarStyles","SidebarExpandButton","IntroCard","SidebarIntroCard","onDismiss","collapsing","setCollapsing","startDismissing","starredIntroText","recentlyViewedIntroText","SidebarIntro","defaultValue","dismissedIntro","setDismissedIntro","starredItemsDismissed","recentlyViewedItemsDismissed","dismissStarred","dismissRecentlyViewed","TypeFragment","type","typeLink","pageTitle","TitleFragment","tooltip","FinalTitle","SubtitleFragment","Header","pageTitleOverride","appTitle","documentTitle","titleTemplate","defaultTitle","ActionItem","secondaryLabel","HeaderActionMenu","white","actionItems","anchorElRef","actionItem","HeaderLabelContent","HeaderLabel","styles$1","ItemCardHeader","ItemCard","tags","tag","ItemCardGrid","Page","themeId","baseTheme","PageWithHeader","proxiedSessionSchema","__defProp$1","__defNormalProp$1","__publicField$1","DEFAULTS","tokenToExpiry","jwtToken","fallback","_header","rawPayload","_signature","payload","ProxiedSignInIdentity","backstageIdentity","promise","session","baseUrl","headers","mergedHeaders","ProxiedSignInPage","execute","identity","GuestUserIdentity","userEntityRef","parseJwtPayload","LegacyUserIdentity","sub","ent","__defProp","__defNormalProp","__publicField","UserIdentity","authApi","profile","ex","GridItem","commonProvider","onSignInStarted","onSignInSuccess","onSignInFailure","apiRef","handleLogin","identityResponse","apis","guestProvider","ID_TOKEN_REGEX","useFormStyles","asInputRef","renderResult","customProvider","register","handleSubmit","formState","errors","handleResult","userId","idToken","IdentityApiSignOutProxy","PROVIDER_STORAGE_KEY","signInProviders","validateIDs","providers","getSignInProviders","identityProviders","acc","useSignInProviders","apiHolder","setLoading","handleWrappedResult","selectedProviderId","provider","didCancel","Component","handleSignInSuccess","handleSignInStarted","handleSignInFailure","MultiSignInPage","providerElements","SingleSignInPage","auto","showLoginPage","setShowLoginPage","login","checkExisting","showPopup","err","SignInPage","useTabsStyles","BoldHeader","TabbedCard","tabsClasses","selectIndex","_ev","newSelectedIndex","selectedTabContent","useCardTabStyles","CardTab","relationType","entityNames","r","NewEntityContext","AsyncEntityProvider","refresh","EntityProvider","useEntity","versionedHolder","useAsyncEntity","catalogApiRef","starredEntitiesApiRef","MockStarredEntitiesApi","subscriber","entityRef","isScreenSmallerThanBreakpoint","useMediaQuery","theme2","_b2","useTheme","filterDrawerOpen","setFilterDrawerOpen","FilterList","Drawer","Grid","CatalogFilterLayout","reduceCatalogFilters","compoundFilter","reduceEntityFilters","getEntitySourceLocation","scmIntegrationsApi","sourceLocation","sourceLocationRef","integration","EntityKindFilter","EntityTypeFilter","EntityTagFilter","EntityTextFilter","words","exactMatch","partialMatch","word","EntityOwnerFilter","fullRefs","o","EntityLifecycleFilter","EntityNamespaceFilter","UserListFilter","isOwnedEntity","isStarredEntity","EntityOrphanFilter","orphan","EntityErrorFilter","EntityListContext","EntityListProvider","catalogApi","requestedFilters","setRequestedFilters","queryParameters","outputState","setOutputState","compacted","entityFilter","backendFilter","previousBackendFilter","oldParams","newParams","newUrl","updateFilters","prevFilters","newFilters","useEntityList","context","useEntityTypeFilter","kindFilter","typeFilter","typeParameter","flattenedQueryTypes","selectedTypes","setSelectedTypes","availableTypes","setAvailableTypes","kind","facets","facetsRef","oldFacets","newTypes","stillValidTypes","useRelatedEntities","relationFilter","filterByTypeLower","filterByKindLower","entities","relations","getEntityRef$1","entityOrRef","useStarredEntities","starredEntitiesApi","starredEntities","toggleStarredEntity","getEntityRef","useStarredEntity","setIsStarredEntity","useEntityOwnership","refs","ownershipEntityRefs","myOwnerRefs","entityOwnerRefs","useAllKinds","allKinds","filterKinds","allowedKinds","forcedKinds","availableKinds","k","useEntityKindFilter","opts","kindParameter","queryParamKind","selectedKind","setSelectedKind","EntityKindPicker","hidden","initialFilter","icon$2","CheckBoxOutlineBlank","checkedIcon$2","CheckBox","OptionCheckbox","EntityAutocompletePickerOption","availableOptions","showCounts","makeStyles","EntityAutocompletePickerInput","EntityAutocompletePicker","Filter","InputProps","initialSelectedOptions","queryParameter","availableValues","facet","selectedOptions","setSelectedOptions","shouldAddFilter","_event","option","EntityLifecyclePicker","humanizeEntityRef","defaultKind","namespace","humanizeEntity","defaultName","useFacetsEntities","enabled","facetsPromise","decodeCursor","filteredRefs","filterEntity","encodeCursor","isFacetsResponse","normalizedText","useQueryEntities","initialRequest","cursorRequest","response2","useFetchEntities","initialSelectedOwnersRefs","isOwnersOnlyMode","queryEntitiesResponse","facetsEntitiesResponse","handleFetch","useSelectedOwners","allEntities","icon$1","checkedIcon$1","EntityOwnerPicker","ownersParameter","setText","queryParamOwners","selectedOwners","setSelectedOwners","cache","availableOwners","owners","isGroup","entityRouteRef","entityRouteParams","EntityRefLink","linkProps","entityRoute","parsed","routeParams","formattedEntityRefTitle","FetchedEntityRefLinks","entityRefs","getTitle","current","pureEntities","EntityRefLinks","fetchEntities","EntityCardActions","EmailCardAction","GroupCardActions","email","UserCardActions","maxTagChips","EntityPeekAheadPopover","delayTime","popupState","isHovered","setIsHovered","debouncedHandleMouseEnter","load","retrievedEntity","handleOnMouseLeave","_theme","EntitySearchBar","columnFactories","formatContent","entity1","entity2","relation","getRelations","systemEntityColumns","componentEntityColumns","EntityTable","tableOptions","tableStyle","EntityTagPicker","EntityTypePicker","YellowStar","withStyles","FavoriteEntity","DEFAULT_ICON","getKind","useIcon","actualKind","EntityKindIcon","useAncestry","root","catalogClient","currentRef","isRootNode","parentRef","CustomNode","iconSize","paddedIconWidth","displayTitle","AncestryPage","ListItemText","ListSubheader","Container","findLink","KeyValueListItem","useColocated","currentEntityRef","origin","colocated","EntityList","Contents$1","originLocation","colocatedEntities","atLocation","atOrigin","ColocatedPage","sortKeys","JsonPage","OverviewPage","apiVersion","spec","groupedRelations","entry","groupRelations","group","YamlPage","TabPanel","other","a11yProps","InspectEntityDialog","activeTab","setActiveTab","useUnregisterEntityDialogState","locationRef","uid","isBootstrap","prerequisites","locationPromise","colocatedEntitiesPromise","locationAnnotationFilter","location2","colocatedEntities2","unregisterLocation","deleteEntity","Contents","onConfirm","showDelete","setShowDelete","onUnregister","onDelete","DialogActionsPanel","UnregisterEntityDialog","getFilterGroups","orgName","UserListPicker","availableFilters","backendEntities","userParameter","loadingBackendEntities","userAndGroupFilterIds","filterGroups","filterGroup","loadingEntityOwnership","ownedFilter","starredFilter","queryParamUserFilter","selectedUserFilter","setSelectedUserFilter","entitiesWithoutUserFilter","filterCounts","checkedIcon","EntityProcessingStatusPicker","selectedAdvancedItems","setSelectedAdvancedItems","orphanChange","errorChange","availableAdvancedItems","EntityNamespacePicker","MockEntityListContextProvider","setFilters","defaultValues","resolvedValue","_e"],"sourceRoot":""}